if(function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(p,e){var t=[],u=t.slice,g=t.concat,s=t.push,r=t.indexOf,n={},i=n.toString,m=n.hasOwnProperty,v={},y=p.document,o="2.1.4",_=function(e,t){return new _.fn.init(e,t)},a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,l=/^-ms-/,c=/-([\da-z])/gi,d=function(e,t){return t.toUpperCase()};function f(e){var t="length"in e&&e.length,n=_.type(e);return"function"!==n&&!_.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e))}_.fn=_.prototype={jquery:o,constructor:_,selector:"",length:0,toArray:function(){return u.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:u.call(this)},pushStack:function(e){var t=_.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return _.each(this,e,t)},map:function(n){return this.pushStack(_.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:s,sort:t.sort,splice:t.splice},_.extend=_.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||_.isFunction(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],a!==(i=e[t])&&(c&&i&&(_.isPlainObject(i)||(r=_.isArray(i)))?(r?(r=!1,o=n&&_.isArray(n)?n:[]):o=n&&_.isPlainObject(n)?n:{},a[t]=_.extend(c,o,i)):void 0!==i&&(a[t]=i));return a},_.extend({expando:"jQuery"+(o+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===_.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!_.isArray(e)&&0<=e-parseFloat(e)+1},isPlainObject:function(e){return"object"===_.type(e)&&!e.nodeType&&!_.isWindow(e)&&!(e.constructor&&!m.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[i.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;(e=_.trim(e))&&(1===e.indexOf("use strict")?((t=y.createElement("script")).text=e,y.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(l,"ms-").replace(c,d)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var i=0,r=e.length,o=f(e);if(n){if(o)for(;i<r&&!1!==t.apply(e[i],n);i++);else for(i in e)if(!1===t.apply(e[i],n))break}else if(o)for(;i<r&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(a,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(f(Object(e))?_.merge(n,"string"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:r.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,a=!n;r<o;r++)!t(e[r],r)!==a&&i.push(e[r]);return i},map:function(e,t,n){var i,r=0,o=e.length,a=[];if(f(e))for(;r<o;r++)null!=(i=t(e[r],r,n))&&a.push(i);else for(r in e)null!=(i=t(e[r],r,n))&&a.push(i);return g.apply([],a)},guid:1,proxy:function(e,t){var n,i,r;return"string"==typeof t&&(n=e[t],t=e,e=n),_.isFunction(e)?(i=u.call(arguments,2),(r=function(){return e.apply(t||this,i.concat(u.call(arguments)))}).guid=e.guid=e.guid||_.guid++,r):void 0},now:Date.now,support:v}),_.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var h=function(n){var e,p,C,o,i,g,d,m,x,c,u,v,w,r,y,b,a,s,_,E="sizzle"+1*new Date,T=n.document,S=0,f=0,l=ae(),h=ae(),N=ae(),k=function(e,t){return e===t&&(u=!0),0},A=1<<31,D={}.hasOwnProperty,t=[],R=t.pop,O=t.push,I=t.push,B=t.slice,L=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},P="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",H="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",F=H.replace("w","w#"),$="\\["+M+"*("+H+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+M+"*\\]",j=":("+H+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+$+")*)|.*)\\)|)",z=new RegExp(M+"+","g"),W=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),q=new RegExp("^"+M+"*,"+M+"*"),U=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),V=new RegExp("="+M+"*([^\\]'\"]*?)"+M+"*\\]","g"),Y=new RegExp(j),K=new RegExp("^"+F+"$"),X={ID:new RegExp("^#("+H+")"),CLASS:new RegExp("^\\.("+H+")"),TAG:new RegExp("^("+H.replace("w","w*")+")"),ATTR:new RegExp("^"+$),PSEUDO:new RegExp("^"+j),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+P+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},G=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=/'|\\/g,ne=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),ie=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},re=function(){v()};try{I.apply(t=B.call(T.childNodes),T.childNodes),t[T.childNodes.length].nodeType}catch(e){I={apply:t.length?function(e,t){O.apply(e,B.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function oe(e,t,n,i){var r,o,a,s,l,c,u,d,f,h;if((t?t.ownerDocument||t:T)!==w&&v(t),n=n||[],s=(t=t||w).nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!i&&y){if(11!==s&&(r=Z.exec(e)))if(a=r[1]){if(9===s){if(!(o=t.getElementById(a))||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&_(t,o)&&o.id===a)return n.push(o),n}else{if(r[2])return I.apply(n,t.getElementsByTagName(e)),n;if((a=r[3])&&p.getElementsByClassName)return I.apply(n,t.getElementsByClassName(a)),n}if(p.qsa&&(!b||!b.test(e))){if(d=u=E,f=t,h=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=g(e),(u=t.getAttribute("id"))?d=u.replace(te,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",l=c.length;l--;)c[l]=d+me(c[l]);f=ee.test(e)&&pe(t.parentNode)||t,h=c.join(",")}if(h)try{return I.apply(n,f.querySelectorAll(h)),n}catch(e){}finally{u||t.removeAttribute("id")}}}return m(e.replace(W,"$1"),t,n,i)}function ae(){var i=[];return function e(t,n){return i.push(t+" ")>C.cacheLength&&delete e[i.shift()],e[t+" "]=n}}function se(e){return e[E]=!0,e}function le(e){var t=w.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ce(e,t){for(var n=e.split("|"),i=e.length;i--;)C.attrHandle[n[i]]=t}function ue(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||A)-(~e.sourceIndex||A);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function de(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function fe(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function he(a){return se(function(o){return o=+o,se(function(e,t){for(var n,i=a([],e.length,o),r=i.length;r--;)e[n=i[r]]&&(e[n]=!(t[n]=e[n]))})})}function pe(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in p=oe.support={},i=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},v=oe.setDocument=function(e){var t,n,l=e?e.ownerDocument||e:T;return l!==w&&9===l.nodeType&&l.documentElement?(r=(w=l).documentElement,(n=l.defaultView)&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",re,!1):n.attachEvent&&n.attachEvent("onunload",re)),y=!i(l),p.attributes=le(function(e){return e.className="i",!e.getAttribute("className")}),p.getElementsByTagName=le(function(e){return e.appendChild(l.createComment("")),!e.getElementsByTagName("*").length}),p.getElementsByClassName=J.test(l.getElementsByClassName),p.getById=le(function(e){return r.appendChild(e).id=E,!l.getElementsByName||!l.getElementsByName(E).length}),p.getById?(C.find.ID=function(e,t){if(void 0!==t.getElementById&&y){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},C.filter.ID=function(e){var t=e.replace(ne,ie);return function(e){return e.getAttribute("id")===t}}):(delete C.find.ID,C.filter.ID=function(e){var n=e.replace(ne,ie);return function(e){var t=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}}),C.find.TAG=p.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):p.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},C.find.CLASS=p.getElementsByClassName&&function(e,t){return y?t.getElementsByClassName(e):void 0},a=[],b=[],(p.qsa=J.test(l.querySelectorAll))&&(le(function(e){r.appendChild(e).innerHTML="<a id='"+E+"'></a><select id='"+E+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&b.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||b.push("\\["+M+"*(?:value|"+P+")"),e.querySelectorAll("[id~="+E+"-]").length||b.push("~="),e.querySelectorAll(":checked").length||b.push(":checked"),e.querySelectorAll("a#"+E+"+*").length||b.push(".#.+[+~]")}),le(function(e){var t=l.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&b.push("name"+M+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||b.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),b.push(",.*:")})),(p.matchesSelector=J.test(s=r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.oMatchesSelector||r.msMatchesSelector))&&le(function(e){p.disconnectedMatch=s.call(e,"div"),s.call(e,"[s!='']:x"),a.push("!=",j)}),b=b.length&&new RegExp(b.join("|")),a=a.length&&new RegExp(a.join("|")),t=J.test(r.compareDocumentPosition),_=t||J.test(r.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},k=t?function(e,t){if(e===t)return u=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!p.sortDetached&&t.compareDocumentPosition(e)===n?e===l||e.ownerDocument===T&&_(T,e)?-1:t===l||t.ownerDocument===T&&_(T,t)?1:c?L(c,e)-L(c,t):0:4&n?-1:1)}:function(e,t){if(e===t)return u=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!r||!o)return e===l?-1:t===l?1:r?-1:o?1:c?L(c,e)-L(c,t):0;if(r===o)return ue(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?ue(a[i],s[i]):a[i]===T?-1:s[i]===T?1:0},l):w},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==w&&v(e),t=t.replace(V,"='$1']"),!(!p.matchesSelector||!y||a&&a.test(t)||b&&b.test(t)))try{var n=s.call(e,t);if(n||p.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<oe(t,w,null,[e]).length},oe.contains=function(e,t){return(e.ownerDocument||e)!==w&&v(e),_(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!==w&&v(e);var n=C.attrHandle[t.toLowerCase()],i=n&&D.call(C.attrHandle,t.toLowerCase())?n(e,t,!y):void 0;return void 0!==i?i:p.attributes||!y?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,n=[],i=0,r=0;if(u=!p.detectDuplicates,c=!p.sortStable&&e.slice(0),e.sort(k),u){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return c=null,e},o=oe.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=o(t);return n},(C=oe.selectors={cacheLength:50,createPseudo:se,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ne,ie),e[3]=(e[3]||e[4]||e[5]||"").replace(ne,ie),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return X.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&Y.test(n)&&(t=g(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ne,ie).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=l[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&l(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,i,r){return function(e){var t=oe.attr(e,n);return null==t?"!="===i:!i||(t+="","="===i?t===r:"!="===i?t!==r:"^="===i?r&&0===t.indexOf(r):"*="===i?r&&-1<t.indexOf(r):"$="===i?r&&t.slice(-r.length)===r:"~="===i?-1<(" "+t.replace(z," ")+" ").indexOf(r):"|="===i&&(t===r||t.slice(0,r.length+1)===r+"-"))}},CHILD:function(h,e,t,p,g){var m="nth"!==h.slice(0,3),v="last"!==h.slice(-4),y="of-type"===e;return 1===p&&0===g?function(e){return!!e.parentNode}:function(e,t,n){var i,r,o,a,s,l,c=m!==v?"nextSibling":"previousSibling",u=e.parentNode,d=y&&e.nodeName.toLowerCase(),f=!n&&!y;if(u){if(m){for(;c;){for(o=e;o=o[c];)if(y?o.nodeName.toLowerCase()===d:1===o.nodeType)return!1;l=c="only"===h&&!l&&"nextSibling"}return!0}if(l=[v?u.firstChild:u.lastChild],v&&f){for(s=(i=(r=u[E]||(u[E]={}))[h]||[])[0]===S&&i[1],a=i[0]===S&&i[2],o=s&&u.childNodes[s];o=++s&&o&&o[c]||(a=s=0)||l.pop();)if(1===o.nodeType&&++a&&o===e){r[h]=[S,s,a];break}}else if(f&&(i=(e[E]||(e[E]={}))[h])&&i[0]===S)a=i[1];else for(;(o=++s&&o&&o[c]||(a=s=0)||l.pop())&&((y?o.nodeName.toLowerCase()!==d:1!==o.nodeType)||!++a||(f&&((o[E]||(o[E]={}))[h]=[S,a]),o!==e)););return(a-=g)===p||a%p==0&&0<=a/p}}},PSEUDO:function(e,o){var t,a=C.pseudos[e]||C.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return a[E]?a(o):1<a.length?(t=[e,e,"",o],C.setFilters.hasOwnProperty(e.toLowerCase())?se(function(e,t){for(var n,i=a(e,o),r=i.length;r--;)e[n=L(e,i[r])]=!(t[n]=i[r])}):function(e){return a(e,0,t)}):a}},pseudos:{not:se(function(e){var i=[],r=[],s=d(e.replace(W,"$1"));return s[E]?se(function(e,t,n,i){for(var r,o=s(e,null,i,[]),a=e.length;a--;)(r=o[a])&&(e[a]=!(t[a]=r))}):function(e,t,n){return i[0]=e,s(i,null,n,r),i[0]=null,!r.pop()}}),has:se(function(t){return function(e){return 0<oe(t,e).length}}),contains:se(function(t){return t=t.replace(ne,ie),function(e){return-1<(e.textContent||e.innerText||o(e)).indexOf(t)}}),lang:se(function(n){return K.test(n||"")||oe.error("unsupported lang: "+n),n=n.replace(ne,ie).toLowerCase(),function(e){var t;do{if(t=y?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===r},focus:function(e){return e===w.activeElement&&(!w.hasFocus||w.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!C.pseudos.empty(e)},header:function(e){return Q.test(e.nodeName)},input:function(e){return G.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:he(function(){return[0]}),last:he(function(e,t){return[t-1]}),eq:he(function(e,t,n){return[n<0?n+t:n]}),even:he(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:he(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:he(function(e,t,n){for(var i=n<0?n+t:n;0<=--i;)e.push(i);return e}),gt:he(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=C.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[e]=de(e);for(e in{submit:!0,reset:!0})C.pseudos[e]=fe(e);function ge(){}function me(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function ve(a,e,t){var s=e.dir,l=t&&"parentNode"===s,c=f++;return e.first?function(e,t,n){for(;e=e[s];)if(1===e.nodeType||l)return a(e,t,n)}:function(e,t,n){var i,r,o=[S,c];if(n){for(;e=e[s];)if((1===e.nodeType||l)&&a(e,t,n))return!0}else for(;e=e[s];)if(1===e.nodeType||l){if((i=(r=e[E]||(e[E]={}))[s])&&i[0]===S&&i[1]===c)return o[2]=i[2];if((r[s]=o)[2]=a(e,t,n))return!0}}}function ye(r){return 1<r.length?function(e,t,n){for(var i=r.length;i--;)if(!r[i](e,t,n))return!1;return!0}:r[0]}function be(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(o=e[s])&&(!n||n(o,i,r))&&(a.push(o),c&&t.push(s));return a}function Ce(h,p,g,m,v,e){return m&&!m[E]&&(m=Ce(m)),v&&!v[E]&&(v=Ce(v,e)),se(function(e,t,n,i){var r,o,a,s=[],l=[],c=t.length,u=e||function(e,t,n){for(var i=0,r=t.length;i<r;i++)oe(e,t[i],n);return n}(p||"*",n.nodeType?[n]:n,[]),d=!h||!e&&p?u:be(u,s,h,n,i),f=g?v||(e?h:c||m)?[]:t:d;if(g&&g(d,f,n,i),m)for(r=be(f,l),m(r,[],n,i),o=r.length;o--;)(a=r[o])&&(f[l[o]]=!(d[l[o]]=a));if(e){if(v||h){if(v){for(r=[],o=f.length;o--;)(a=f[o])&&r.push(d[o]=a);v(null,f=[],r,i)}for(o=f.length;o--;)(a=f[o])&&-1<(r=v?L(e,a):s[o])&&(e[r]=!(t[r]=a))}}else f=be(f===t?f.splice(c,f.length):f),v?v(null,t,f,i):I.apply(t,f)})}function xe(e){for(var r,t,n,i=e.length,o=C.relative[e[0].type],a=o||C.relative[" "],s=o?1:0,l=ve(function(e){return e===r},a,!0),c=ve(function(e){return-1<L(r,e)},a,!0),u=[function(e,t,n){var i=!o&&(n||t!==x)||((r=t).nodeType?l(e,t,n):c(e,t,n));return r=null,i}];s<i;s++)if(t=C.relative[e[s].type])u=[ve(ye(u),t)];else{if((t=C.filter[e[s].type].apply(null,e[s].matches))[E]){for(n=++s;n<i&&!C.relative[e[n].type];n++);return Ce(1<s&&ye(u),1<s&&me(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(W,"$1"),t,s<n&&xe(e.slice(s,n)),n<i&&xe(e=e.slice(n)),n<i&&me(e))}u.push(t)}return ye(u)}return ge.prototype=C.filters=C.pseudos,C.setFilters=new ge,g=oe.tokenize=function(e,t){var n,i,r,o,a,s,l,c=h[e+" "];if(c)return t?0:c.slice(0);for(a=e,s=[],l=C.preFilter;a;){for(o in(!n||(i=q.exec(a)))&&(i&&(a=a.slice(i[0].length)||a),s.push(r=[])),n=!1,(i=U.exec(a))&&(n=i.shift(),r.push({value:n,type:i[0].replace(W," ")}),a=a.slice(n.length)),C.filter)!(i=X[o].exec(a))||l[o]&&!(i=l[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),a=a.slice(n.length));if(!n)break}return t?a.length:a?oe.error(e):h(e,s).slice(0)},d=oe.compile=function(e,t){var n,m,v,y,b,i,r=[],o=[],a=N[e+" "];if(!a){for(t||(t=g(e)),n=t.length;n--;)(a=xe(t[n]))[E]?r.push(a):o.push(a);(a=N(e,(m=o,y=0<(v=r).length,b=0<m.length,i=function(e,t,n,i,r){var o,a,s,l=0,c="0",u=e&&[],d=[],f=x,h=e||b&&C.find.TAG("*",r),p=S+=null==f?1:Math.random()||.1,g=h.length;for(r&&(x=t!==w&&t);c!==g&&null!=(o=h[c]);c++){if(b&&o){for(a=0;s=m[a++];)if(s(o,t,n)){i.push(o);break}r&&(S=p)}y&&((o=!s&&o)&&l--,e&&u.push(o))}if(l+=c,y&&c!==l){for(a=0;s=v[a++];)s(u,d,t,n);if(e){if(0<l)for(;c--;)u[c]||d[c]||(d[c]=R.call(i));d=be(d)}I.apply(i,d),r&&!e&&0<d.length&&1<l+v.length&&oe.uniqueSort(i)}return r&&(S=p,x=f),u},y?se(i):i))).selector=e}return a},m=oe.select=function(e,t,n,i){var r,o,a,s,l,c="function"==typeof e&&e,u=!i&&g(e=c.selector||e);if(n=n||[],1===u.length){if(2<(o=u[0]=u[0].slice(0)).length&&"ID"===(a=o[0]).type&&p.getById&&9===t.nodeType&&y&&C.relative[o[1].type]){if(!(t=(C.find.ID(a.matches[0].replace(ne,ie),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=X.needsContext.test(e)?0:o.length;r--&&(a=o[r],!C.relative[s=a.type]);)if((l=C.find[s])&&(i=l(a.matches[0].replace(ne,ie),ee.test(o[0].type)&&pe(t.parentNode)||t))){if(o.splice(r,1),!(e=i.length&&me(o)))return I.apply(n,i),n;break}}return(c||d(e,u))(i,t,!y,n,ee.test(e)&&pe(t.parentNode)||t),n},p.sortStable=E.split("").sort(k).join("")===E,p.detectDuplicates=!!u,v(),p.sortDetached=le(function(e){return 1&e.compareDocumentPosition(w.createElement("div"))}),le(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ce("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),p.attributes&&le(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ce("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),le(function(e){return null==e.getAttribute("disabled")})||ce(P,function(e,t,n){var i;return n?void 0:!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),oe}(p);_.find=h,_.expr=h.selectors,_.expr[":"]=_.expr.pseudos,_.unique=h.uniqueSort,_.text=h.getText,_.isXMLDoc=h.isXML,_.contains=h.contains;var b=_.expr.match.needsContext,C=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,x=/^.[^:#\[\.,]*$/;function w(e,n,i){if(_.isFunction(n))return _.grep(e,function(e,t){return!!n.call(e,t,e)!==i});if(n.nodeType)return _.grep(e,function(e){return e===n!==i});if("string"==typeof n){if(x.test(n))return _.filter(n,e,i);n=_.filter(n,e)}return _.grep(e,function(e){return 0<=r.call(n,e)!==i})}_.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?_.find.matchesSelector(i,e)?[i]:[]:_.find.matches(e,_.grep(t,function(e){return 1===e.nodeType}))},_.fn.extend({find:function(e){var t,n=this.length,i=[],r=this;if("string"!=typeof e)return this.pushStack(_(e).filter(function(){for(t=0;t<n;t++)if(_.contains(r[t],this))return!0}));for(t=0;t<n;t++)_.find(e,r[t],i);return(i=this.pushStack(1<n?_.unique(i):i)).selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(w(this,e||[],!1))},not:function(e){return this.pushStack(w(this,e||[],!0))},is:function(e){return!!w(this,"string"==typeof e&&b.test(e)?_(e):e||[],!1).length}});var E,T=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(_.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:T.exec(e))||!n[1]&&t)return!t||t.jquery?(t||E).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof _?t[0]:t,_.merge(this,_.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:y,!0)),C.test(n[1])&&_.isPlainObject(t))for(n in t)_.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(i=y.getElementById(n[2]))&&i.parentNode&&(this.length=1,this[0]=i),this.context=y,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):_.isFunction(e)?void 0!==E.ready?E.ready(e):e(_):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),_.makeArray(e,this))}).prototype=_.fn,E=_(y);var S=/^(?:parents|prev(?:Until|All))/,N={children:!0,contents:!0,next:!0,prev:!0};function k(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}_.extend({dir:function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&_(e).is(n))break;i.push(e)}return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),_.fn.extend({has:function(e){var t=_(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(_.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,o=[],a=b.test(e)||"string"!=typeof e?_(e,t||this.context):0;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&_.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?_.unique(o):o)},index:function(e){return e?"string"==typeof e?r.call(_(e),this[0]):r.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(_.unique(_.merge(this.get(),_(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),_.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return _.dir(e,"parentNode")},parentsUntil:function(e,t,n){return _.dir(e,"parentNode",n)},next:function(e){return k(e,"nextSibling")},prev:function(e){return k(e,"previousSibling")},nextAll:function(e){return _.dir(e,"nextSibling")},prevAll:function(e){return _.dir(e,"previousSibling")},nextUntil:function(e,t,n){return _.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return _.dir(e,"previousSibling",n)},siblings:function(e){return _.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return _.sibling(e.firstChild)},contents:function(e){return e.contentDocument||_.merge([],e.childNodes)}},function(i,r){_.fn[i]=function(e,t){var n=_.map(this,r,e);return"Until"!==i.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=_.filter(t,n)),1<this.length&&(N[i]||_.unique(n),S.test(i)&&n.reverse()),this.pushStack(n)}});var A,D=/\S+/g,R={};function O(){y.removeEventListener("DOMContentLoaded",O,!1),p.removeEventListener("load",O,!1),_.ready()}_.Callbacks=function(r){var e,n;r="string"==typeof r?R[r]||(n=R[e=r]={},_.each(e.match(D)||[],function(e,t){n[t]=!0}),n):_.extend({},r);var t,i,o,a,s,l,c=[],u=!r.once&&[],d=function(e){for(t=r.memory&&e,i=!0,l=a||0,a=0,s=c.length,o=!0;c&&l<s;l++)if(!1===c[l].apply(e[0],e[1])&&r.stopOnFalse){t=!1;break}o=!1,c&&(u?u.length&&d(u.shift()):t?c=[]:f.disable())},f={add:function(){if(c){var e=c.length;!function i(e){_.each(e,function(e,t){var n=_.type(t);"function"===n?r.unique&&f.has(t)||c.push(t):t&&t.length&&"string"!==n&&i(t)})}(arguments),o?s=c.length:t&&(a=e,d(t))}return this},remove:function(){return c&&_.each(arguments,function(e,t){for(var n;-1<(n=_.inArray(t,c,n));)c.splice(n,1),o&&(n<=s&&s--,n<=l&&l--)}),this},has:function(e){return e?-1<_.inArray(e,c):!(!c||!c.length)},empty:function(){return c=[],s=0,this},disable:function(){return c=u=t=void 0,this},disabled:function(){return!c},lock:function(){return u=void 0,t||f.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!c||i&&!u||(t=[e,(t=t||[]).slice?t.slice():t],o?u.push(t):d(t)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!i}};return f},_.extend({Deferred:function(e){var o=[["resolve","done",_.Callbacks("once memory"),"resolved"],["reject","fail",_.Callbacks("once memory"),"rejected"],["notify","progress",_.Callbacks("memory")]],r="pending",a={state:function(){return r},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var r=arguments;return _.Deferred(function(i){_.each(o,function(e,t){var n=_.isFunction(r[e])&&r[e];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&_.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[t[0]+"With"](this===a?i.promise():this,n?[e]:arguments)})}),r=null}).promise()},promise:function(e){return null!=e?_.extend(e,a):a}},s={};return a.pipe=a.then,_.each(o,function(e,t){var n=t[2],i=t[3];a[t[1]]=n.add,i&&n.add(function(){r=i},o[1^e][2].disable,o[2][2].lock),s[t[0]]=function(){return s[t[0]+"With"](this===s?a:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var r,t,n,i=0,o=u.call(arguments),a=o.length,s=1!==a||e&&_.isFunction(e.promise)?a:0,l=1===s?e:_.Deferred(),c=function(t,n,i){return function(e){n[t]=this,i[t]=1<arguments.length?u.call(arguments):e,i===r?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(1<a)for(r=new Array(a),t=new Array(a),n=new Array(a);i<a;i++)o[i]&&_.isFunction(o[i].promise)?o[i].promise().done(c(i,n,o)).fail(l.reject).progress(c(i,t,r)):--s;return s||l.resolveWith(n,o),l.promise()}}),_.fn.ready=function(e){return _.ready.promise().done(e),this},_.extend({isReady:!1,readyWait:1,holdReady:function(e){e?_.readyWait++:_.ready(!0)},ready:function(e){(!0===e?--_.readyWait:_.isReady)||((_.isReady=!0)!==e&&0<--_.readyWait||(A.resolveWith(y,[_]),_.fn.triggerHandler&&(_(y).triggerHandler("ready"),_(y).off("ready"))))}}),_.ready.promise=function(e){return A||(A=_.Deferred(),"complete"===y.readyState?setTimeout(_.ready):(y.addEventListener("DOMContentLoaded",O,!1),p.addEventListener("load",O,!1))),A.promise(e)},_.ready.promise();var I=_.access=function(e,t,n,i,r,o,a){var s=0,l=e.length,c=null==n;if("object"===_.type(n))for(s in r=!0,n)_.access(e,t,s,n[s],!0,o,a);else if(void 0!==i&&(r=!0,_.isFunction(i)||(a=!0),c&&(a?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(_(e),n)})),t))for(;s<l;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return r?e:c?t.call(e):l?t(e[0],n):o};function B(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=_.expando+B.uid++}_.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},B.uid=1,B.accepts=_.acceptData,B.prototype={key:function(t){if(!B.accepts(t))return 0;var n={},i=t[this.expando];if(!i){i=B.uid++;try{n[this.expando]={value:i},Object.defineProperties(t,n)}catch(e){n[this.expando]=i,_.extend(t,n)}}return this.cache[i]||(this.cache[i]={}),i},set:function(e,t,n){var i,r=this.key(e),o=this.cache[r];if("string"==typeof t)o[t]=n;else if(_.isEmptyObject(o))_.extend(this.cache[r],t);else for(i in t)o[i]=t[i];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var i;return void 0===t||t&&"string"==typeof t&&void 0===n?void 0!==(i=this.get(e,t))?i:this.get(e,_.camelCase(t)):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i,r,o=this.key(e),a=this.cache[o];if(void 0===t)this.cache[o]={};else{_.isArray(t)?i=t.concat(t.map(_.camelCase)):(r=_.camelCase(t),t in a?i=[t,r]:i=(i=r)in a?[i]:i.match(D)||[]),n=i.length;for(;n--;)delete a[i[n]]}},hasData:function(e){return!_.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var L=new B,P=new B,M=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,H=/([A-Z])/g;function F(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(H,"-$1").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:M.test(n)?_.parseJSON(n):n)}catch(e){}P.set(e,t,n)}else n=void 0;return n}_.extend({hasData:function(e){return P.hasData(e)||L.hasData(e)},data:function(e,t,n){return P.access(e,t,n)},removeData:function(e,t){P.remove(e,t)},_data:function(e,t,n){return L.access(e,t,n)},_removeData:function(e,t){L.remove(e,t)}}),_.fn.extend({data:function(i,e){var t,n,r,o=this[0],a=o&&o.attributes;if(void 0===i){if(this.length&&(r=P.get(o),1===o.nodeType&&!L.get(o,"hasDataAttrs"))){for(t=a.length;t--;)a[t]&&(0===(n=a[t].name).indexOf("data-")&&(n=_.camelCase(n.slice(5)),F(o,n,r[n])));L.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof i?this.each(function(){P.set(this,i)}):I(this,function(t){var e,n=_.camelCase(i);if(o&&void 0===t){if(void 0!==(e=P.get(o,i)))return e;if(void 0!==(e=P.get(o,n)))return e;if(void 0!==(e=F(o,n,void 0)))return e}else this.each(function(){var e=P.get(this,n);P.set(this,n,t),-1!==i.indexOf("-")&&void 0!==e&&P.set(this,i,t)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){P.remove(this,e)})}}),_.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=L.get(e,t),n&&(!i||_.isArray(n)?i=L.access(e,t,_.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=_.queue(e,t),i=n.length,r=n.shift(),o=_._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,function(){_.dequeue(e,t)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return L.get(e,n)||L.access(e,n,{empty:_.Callbacks("once memory").add(function(){L.remove(e,[t+"queue",n])})})}}),_.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?_.queue(this[0],t):void 0===n?this:this.each(function(){var e=_.queue(this,t,n);_._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&_.dequeue(this,t)})},dequeue:function(e){return this.each(function(){_.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=_.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=L.get(o[a],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var $,j,z=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,W=["Top","Right","Bottom","Left"],q=function(e,t){return e=t||e,"none"===_.css(e,"display")||!_.contains(e.ownerDocument,e)},U=/^(?:checkbox|radio)$/i;$=y.createDocumentFragment().appendChild(y.createElement("div")),(j=y.createElement("input")).setAttribute("type","radio"),j.setAttribute("checked","checked"),j.setAttribute("name","t"),$.appendChild(j),v.checkClone=$.cloneNode(!0).cloneNode(!0).lastChild.checked,$.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!$.cloneNode(!0).lastChild.defaultValue;var V="undefined";v.focusinBubbles="onfocusin"in p;var Y=/^key/,K=/^(?:mouse|pointer|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,G=/^([^.]*)(?:\.(.+)|)$/;function Q(){return!0}function J(){return!1}function Z(){try{return y.activeElement}catch(e){}}_.event={global:{},add:function(t,e,n,i,r){var o,a,s,l,c,u,d,f,h,p,g,m=L.get(t);if(m)for(n.handler&&(n=(o=n).handler,r=o.selector),n.guid||(n.guid=_.guid++),(l=m.events)||(l=m.events={}),(a=m.handle)||(a=m.handle=function(e){return typeof _!==V&&_.event.triggered!==e.type?_.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(D)||[""]).length;c--;)h=g=(s=G.exec(e[c])||[])[1],p=(s[2]||"").split(".").sort(),h&&(d=_.event.special[h]||{},h=(r?d.delegateType:d.bindType)||h,d=_.event.special[h]||{},u=_.extend({type:h,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&_.expr.match.needsContext.test(r),namespace:p.join(".")},o),(f=l[h])||((f=l[h]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(t,i,p,a)||t.addEventListener&&t.addEventListener(h,a,!1)),d.add&&(d.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,u):f.push(u),_.event.global[h]=!0)},remove:function(e,t,n,i,r){var o,a,s,l,c,u,d,f,h,p,g,m=L.hasData(e)&&L.get(e);if(m&&(l=m.events)){for(c=(t=(t||"").match(D)||[""]).length;c--;)if(h=g=(s=G.exec(t[c])||[])[1],p=(s[2]||"").split(".").sort(),h){for(d=_.event.special[h]||{},f=l[h=(i?d.delegateType:d.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)u=f[o],!r&&g!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(f.splice(o,1),u.selector&&f.delegateCount--,d.remove&&d.remove.call(e,u));a&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,p,m.handle)||_.removeEvent(e,h,m.handle),delete l[h])}else for(h in l)_.event.remove(e,h+t[c],n,i,!0);_.isEmptyObject(l)&&(delete m.handle,L.remove(e,"events"))}},trigger:function(e,t,n,i){var r,o,a,s,l,c,u,d=[n||y],f=m.call(e,"type")?e.type:e,h=m.call(e,"namespace")?e.namespace.split("."):[];if(o=a=n=n||y,3!==n.nodeType&&8!==n.nodeType&&!X.test(f+_.event.triggered)&&(0<=f.indexOf(".")&&(f=(h=f.split(".")).shift(),h.sort()),l=f.indexOf(":")<0&&"on"+f,(e=e[_.expando]?e:new _.Event(f,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=h.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:_.makeArray(t,[e]),u=_.event.special[f]||{},i||!u.trigger||!1!==u.trigger.apply(n,t))){if(!i&&!u.noBubble&&!_.isWindow(n)){for(s=u.delegateType||f,X.test(s+f)||(o=o.parentNode);o;o=o.parentNode)d.push(o),a=o;a===(n.ownerDocument||y)&&d.push(a.defaultView||a.parentWindow||p)}for(r=0;(o=d[r++])&&!e.isPropagationStopped();)e.type=1<r?s:u.bindType||f,(c=(L.get(o,"events")||{})[e.type]&&L.get(o,"handle"))&&c.apply(o,t),(c=l&&o[l])&&c.apply&&_.acceptData(o)&&(e.result=c.apply(o,t),!1===e.result&&e.preventDefault());return e.type=f,i||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(d.pop(),t)||!_.acceptData(n)||l&&_.isFunction(n[f])&&!_.isWindow(n)&&((a=n[l])&&(n[l]=null),n[_.event.triggered=f](),_.event.triggered=void 0,a&&(n[l]=a)),e.result}},dispatch:function(e){e=_.event.fix(e);var t,n,i,r,o,a=[],s=u.call(arguments),l=(L.get(this,"events")||{})[e.type]||[],c=_.event.special[e.type]||{};if((s[0]=e).delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(a=_.event.handlers.call(this,e,l),t=0;(r=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,void 0!==(i=((_.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s))&&!1===(e.result=i)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(!0!==l.disabled||"click"!==e.type){for(i=[],n=0;n<s;n++)void 0===i[r=(o=t[n]).selector+" "]&&(i[r]=o.needsContext?0<=_(r,this).index(l):_.find(r,this,null,[l]).length),i[r]&&i.push(o);i.length&&a.push({elem:l,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,o=t.button;return null==e.pageX&&null!=t.clientX&&(i=(n=e.target.ownerDocument||y).documentElement,r=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[_.expando])return e;var t,n,i,r=e.type,o=e,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=K.test(r)?this.mouseHooks:Y.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new _.Event(o),t=i.length;t--;)e[n=i[t]]=o[n];return e.target||(e.target=y),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==Z()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===Z()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&_.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return _.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=_.extend(new _.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?_.event.trigger(r,null,t):_.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},_.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},_.Event=function(e,t){return this instanceof _.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Q:J):this.type=e,t&&_.extend(this,t),this.timeStamp=e&&e.timeStamp||_.now(),void(this[_.expando]=!0)):new _.Event(e,t)},_.Event.prototype={isDefaultPrevented:J,isPropagationStopped:J,isImmediatePropagationStopped:J,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Q,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Q,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Q,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},_.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,r){_.event.special[e]={delegateType:r,bindType:r,handle:function(e){var t,n=e.relatedTarget,i=e.handleObj;return(!n||n!==this&&!_.contains(this,n))&&(e.type=i.origType,t=i.handler.apply(this,arguments),e.type=r),t}}}),v.focusinBubbles||_.each({focus:"focusin",blur:"focusout"},function(n,i){var r=function(e){_.event.simulate(i,e.target,_.event.fix(e),!0)};_.event.special[i]={setup:function(){var e=this.ownerDocument||this,t=L.access(e,i);t||e.addEventListener(n,r,!0),L.access(e,i,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=L.access(e,i)-1;t?L.access(e,i,t):(e.removeEventListener(n,r,!0),L.remove(e,i))}}}),_.fn.extend({on:function(e,t,n,i,r){var o,a;if("object"==typeof e){for(a in"string"!=typeof t&&(n=n||t,t=void 0),e)this.on(a,t,n,e[a],r);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),!1===i)i=J;else if(!i)return this;return 1===r&&(o=i,(i=function(e){return _().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=_.guid++)),this.each(function(){_.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,_(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return(!1===t||"function"==typeof t)&&(n=t,t=void 0),!1===n&&(n=J),this.each(function(){_.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){_.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?_.event.trigger(e,t,n,!0):void 0}});var ee=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,te=/<([\w:]+)/,ne=/<|&#?\w+;/,ie=/<(?:script|style|link)/i,re=/checked\s*(?:[^=]|=\s*.checked.)/i,oe=/^$|\/(?:java|ecma)script/i,ae=/^true\/(.*)/,se=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,le={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ce(e,t){return _.nodeName(e,"table")&&_.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function ue(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function de(e){var t=ae.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function fe(e,t){for(var n=0,i=e.length;n<i;n++)L.set(e[n],"globalEval",!t||L.get(t[n],"globalEval"))}function he(e,t){var n,i,r,o,a,s,l,c;if(1===t.nodeType){if(L.hasData(e)&&(o=L.access(e),a=L.set(t,o),c=o.events))for(r in delete a.handle,a.events={},c)for(n=0,i=c[r].length;n<i;n++)_.event.add(t,r,c[r][n]);P.hasData(e)&&(s=P.access(e),l=_.extend({},s),P.set(t,l))}}function pe(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&_.nodeName(e,t)?_.merge([e],n):n}le.optgroup=le.option,le.tbody=le.tfoot=le.colgroup=le.caption=le.thead,le.th=le.td,_.extend({clone:function(e,t,n){var i,r,o,a,s,l,c,u=e.cloneNode(!0),d=_.contains(e.ownerDocument,e);if(!(v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||_.isXMLDoc(e)))for(a=pe(u),i=0,r=(o=pe(e)).length;i<r;i++)s=o[i],l=a[i],void 0,"input"===(c=l.nodeName.toLowerCase())&&U.test(s.type)?l.checked=s.checked:("input"===c||"textarea"===c)&&(l.defaultValue=s.defaultValue);if(t)if(n)for(o=o||pe(e),a=a||pe(u),i=0,r=o.length;i<r;i++)he(o[i],a[i]);else he(e,u);return 0<(a=pe(u,"script")).length&&fe(a,!d&&pe(e,"script")),u},buildFragment:function(e,t,n,i){for(var r,o,a,s,l,c,u=t.createDocumentFragment(),d=[],f=0,h=e.length;f<h;f++)if((r=e[f])||0===r)if("object"===_.type(r))_.merge(d,r.nodeType?[r]:r);else if(ne.test(r)){for(o=o||u.appendChild(t.createElement("div")),a=(te.exec(r)||["",""])[1].toLowerCase(),s=le[a]||le._default,o.innerHTML=s[1]+r.replace(ee,"<$1></$2>")+s[2],c=s[0];c--;)o=o.lastChild;_.merge(d,o.childNodes),(o=u.firstChild).textContent=""}else d.push(t.createTextNode(r));for(u.textContent="",f=0;r=d[f++];)if((!i||-1===_.inArray(r,i))&&(l=_.contains(r.ownerDocument,r),o=pe(u.appendChild(r),"script"),l&&fe(o),n))for(c=0;r=o[c++];)oe.test(r.type||"")&&n.push(r);return u},cleanData:function(e){for(var t,n,i,r,o=_.event.special,a=0;void 0!==(n=e[a]);a++){if(_.acceptData(n)&&((r=n[L.expando])&&(t=L.cache[r]))){if(t.events)for(i in t.events)o[i]?_.event.remove(n,i):_.removeEvent(n,i,t.handle);L.cache[r]&&delete L.cache[r]}delete P.cache[n[P.expando]]}}}),_.fn.extend({text:function(e){return I(this,function(e){return void 0===e?_.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ce(this,e).appendChild(e)})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=ce(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?_.filter(e,this):this,r=0;null!=(n=i[r]);r++)t||1!==n.nodeType||_.cleanData(pe(n)),n.parentNode&&(t&&_.contains(n.ownerDocument,n)&&fe(pe(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(_.cleanData(pe(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return _.clone(this,e,t)})},html:function(e){return I(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ie.test(e)&&!le[(te.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(ee,"<$1></$2>");try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(_.cleanData(pe(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,_.cleanData(pe(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(n,i){n=g.apply([],n);var e,t,r,o,a,s,l=0,c=this.length,u=this,d=c-1,f=n[0],h=_.isFunction(f);if(h||1<c&&"string"==typeof f&&!v.checkClone&&re.test(f))return this.each(function(e){var t=u.eq(e);h&&(n[0]=f.call(this,e,t.html())),t.domManip(n,i)});if(c&&(t=(e=_.buildFragment(n,this[0].ownerDocument,!1,this)).firstChild,1===e.childNodes.length&&(e=t),t)){for(o=(r=_.map(pe(e,"script"),ue)).length;l<c;l++)a=e,l!==d&&(a=_.clone(a,!0,!0),o&&_.merge(r,pe(a,"script"))),i.call(this[l],a,l);if(o)for(s=r[r.length-1].ownerDocument,_.map(r,de),l=0;l<o;l++)a=r[l],oe.test(a.type||"")&&!L.access(a,"globalEval")&&_.contains(s,a)&&(a.src?_._evalUrl&&_._evalUrl(a.src):_.globalEval(a.textContent.replace(se,"")))}return this}}),_.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){_.fn[e]=function(e){for(var t,n=[],i=_(e),r=i.length-1,o=0;o<=r;o++)t=o===r?this:this.clone(!0),_(i[o])[a](t),s.apply(n,t.get());return this.pushStack(n)}});var ge,me={};function ve(e,t){var n,i=_(t.createElement(e)).appendTo(t.body),r=p.getDefaultComputedStyle&&(n=p.getDefaultComputedStyle(i[0]))?n.display:_.css(i[0],"display");return i.detach(),r}function ye(e){var t=y,n=me[e];return n||("none"!==(n=ve(e,t))&&n||((t=(ge=(ge||_("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentDocument).write(),t.close(),n=ve(e,t),ge.detach()),me[e]=n),n}var be=/^margin/,Ce=new RegExp("^("+z+")(?!px)[a-z%]+$","i"),xe=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):p.getComputedStyle(e,null)};function we(e,t,n){var i,r,o,a,s=e.style;return(n=n||xe(e))&&(a=n.getPropertyValue(t)||n[t]),n&&(""!==a||_.contains(e.ownerDocument,e)||(a=_.style(e,t)),Ce.test(a)&&be.test(t)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function _e(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}!function(){var t,n,i=y.documentElement,r=y.createElement("div"),o=y.createElement("div");if(o.style){function e(){o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o.innerHTML="",i.appendChild(r);var e=p.getComputedStyle(o,null);t="1%"!==e.top,n="4px"===e.width,i.removeChild(r)}o.style.backgroundClip="content-box",o.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===o.style.backgroundClip,r.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",r.appendChild(o),p.getComputedStyle&&_.extend(v,{pixelPosition:function(){return e(),t},boxSizingReliable:function(){return null==n&&e(),n},reliableMarginRight:function(){var e,t=o.appendChild(y.createElement("div"));return t.style.cssText=o.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",o.style.width="1px",i.appendChild(r),e=!parseFloat(p.getComputedStyle(t,null).marginRight),i.removeChild(r),o.removeChild(t),e}})}}(),_.swap=function(e,t,n,i){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in r=n.apply(e,i||[]),t)e.style[o]=a[o];return r};var Ee=/^(none|table(?!-c[ea]).+)/,Te=new RegExp("^("+z+")(.*)$","i"),Se=new RegExp("^([+-])=("+z+")","i"),Ne={position:"absolute",visibility:"hidden",display:"block"},ke={letterSpacing:"0",fontWeight:"400"},Ae=["Webkit","O","Moz","ms"];function De(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),i=t,r=Ae.length;r--;)if((t=Ae[r]+n)in e)return t;return i}function Re(e,t,n){var i=Te.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function Oe(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=_.css(e,n+W[o],!0,r)),i?("content"===n&&(a-=_.css(e,"padding"+W[o],!0,r)),"margin"!==n&&(a-=_.css(e,"border"+W[o]+"Width",!0,r))):(a+=_.css(e,"padding"+W[o],!0,r),"padding"!==n&&(a+=_.css(e,"border"+W[o]+"Width",!0,r)));return a}function Ie(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=xe(e),a="border-box"===_.css(e,"boxSizing",!1,o);if(r<=0||null==r){if(((r=we(e,t,o))<0||null==r)&&(r=e.style[t]),Ce.test(r))return r;i=a&&(v.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+Oe(e,t,n||(a?"border":"content"),i,o)+"px"}function Be(e,t){for(var n,i,r,o=[],a=0,s=e.length;a<s;a++)(i=e[a]).style&&(o[a]=L.get(i,"olddisplay"),n=i.style.display,t?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&q(i)&&(o[a]=L.access(i,"olddisplay",ye(i.nodeName)))):(r=q(i),"none"===n&&r||L.set(i,"olddisplay",r?n:_.css(i,"display"))));for(a=0;a<s;a++)(i=e[a]).style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[a]||"":"none"));return e}function Le(e,t,n,i,r){return new Le.prototype.init(e,t,n,i,r)}_.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=we(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=_.camelCase(t),l=e.style;return t=_.cssProps[s]||(_.cssProps[s]=De(l,s)),a=_.cssHooks[t]||_.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:l[t]:("string"===(o=typeof n)&&(r=Se.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(_.css(e,t)),o="number"),void(null!=n&&n==n&&("number"!==o||_.cssNumber[s]||(n+="px"),v.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(l[t]=n))))}},css:function(e,t,n,i){var r,o,a,s=_.camelCase(t);return t=_.cssProps[s]||(_.cssProps[s]=De(e.style,s)),(a=_.cssHooks[t]||_.cssHooks[s])&&"get"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=we(e,t,i)),"normal"===r&&t in ke&&(r=ke[t]),""===n||n?(o=parseFloat(r),!0===n||_.isNumeric(o)?o||0:r):r}}),_.each(["height","width"],function(e,r){_.cssHooks[r]={get:function(e,t,n){return t?Ee.test(_.css(e,"display"))&&0===e.offsetWidth?_.swap(e,Ne,function(){return Ie(e,r,n)}):Ie(e,r,n):void 0},set:function(e,t,n){var i=n&&xe(e);return Re(0,t,n?Oe(e,r,n,"border-box"===_.css(e,"boxSizing",!1,i),i):0)}}}),_.cssHooks.marginRight=_e(v.reliableMarginRight,function(e,t){return t?_.swap(e,{display:"inline-block"},we,[e,"marginRight"]):void 0}),_.each({margin:"",padding:"",border:"Width"},function(r,o){_.cssHooks[r+o]={expand:function(e){for(var t=0,n={},i="string"==typeof e?e.split(" "):[e];t<4;t++)n[r+W[t]+o]=i[t]||i[t-2]||i[0];return n}},be.test(r)||(_.cssHooks[r+o].set=Re)}),_.fn.extend({css:function(e,t){return I(this,function(e,t,n){var i,r,o={},a=0;if(_.isArray(t)){for(i=xe(e),r=t.length;a<r;a++)o[t[a]]=_.css(e,t[a],!1,i);return o}return void 0!==n?_.style(e,t,n):_.css(e,t)},e,t,1<arguments.length)},show:function(){return Be(this,!0)},hide:function(){return Be(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){q(this)?_(this).show():_(this).hide()})}}),((_.Tween=Le).prototype={constructor:Le,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(_.cssNumber[n]?"":"px")},cur:function(){var e=Le.propHooks[this.prop];return e&&e.get?e.get(this):Le.propHooks._default.get(this)},run:function(e){var t,n=Le.propHooks[this.prop];return this.options.duration?this.pos=t=_.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Le.propHooks._default.set(this),this}}).init.prototype=Le.prototype,(Le.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=_.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){_.fx.step[e.prop]?_.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[_.cssProps[e.prop]]||_.cssHooks[e.prop])?_.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}}).scrollTop=Le.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},_.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},_.fx=Le.prototype.init,_.fx.step={};var Pe,Me,He,Fe,$e,je=/^(?:toggle|show|hide)$/,ze=new RegExp("^(?:([+-])=|)("+z+")([a-z%]*)$","i"),We=/queueHooks$/,qe=[function(t,e,n){var i,r,o,a,s,l,c,u=this,d={},f=t.style,h=t.nodeType&&q(t),p=L.get(t,"fxshow");for(i in n.queue||(null==(s=_._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,_.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],c=_.css(t,"display"),"inline"===("none"===c?L.get(t,"olddisplay")||ye(t.nodeName):c)&&"none"===_.css(t,"float")&&(f.display="inline-block")),n.overflow&&(f.overflow="hidden",u.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),e)if(r=e[i],je.exec(r)){if(delete e[i],o=o||"toggle"===r,r===(h?"hide":"show")){if("show"!==r||!p||void 0===p[i])continue;h=!0}d[i]=p&&p[i]||_.style(t,i)}else c=void 0;if(_.isEmptyObject(d))"inline"===("none"===c?ye(t.nodeName):c)&&(f.display=c);else for(i in p?"hidden"in p&&(h=p.hidden):p=L.access(t,"fxshow",{}),o&&(p.hidden=!h),h?_(t).show():u.done(function(){_(t).hide()}),u.done(function(){var e;for(e in L.remove(t,"fxshow"),d)_.style(t,e,d[e])}),d)a=Ke(h?p[i]:0,i,u),i in p||(p[i]=a.start,h&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}],Ue={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),r=ze.exec(t),o=r&&r[3]||(_.cssNumber[e]?"":"px"),a=(_.cssNumber[e]||"px"!==o&&+i)&&ze.exec(_.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o)for(o=o||a[3],r=r||[],a=+i||1;a/=s=s||".5",_.style(n.elem,e,a+o),s!==(s=n.cur()/i)&&1!==s&&--l;);return r&&(a=n.start=+a||+i||0,n.unit=o,n.end=r[1]?a+(r[1]+1)*r[2]:+r[2]),n}]};function Ve(){return setTimeout(function(){Pe=void 0}),Pe=_.now()}function Ye(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=W[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function Ke(e,t,n){for(var i,r=(Ue[t]||[]).concat(Ue["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,t,e))return i}function Xe(o,e,t){var n,a,i=0,r=qe.length,s=_.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var e=Pe||Ve(),t=Math.max(0,c.startTime+c.duration-e),n=1-(t/c.duration||0),i=0,r=c.tweens.length;i<r;i++)c.tweens[i].run(n);return s.notifyWith(o,[c,n,t]),n<1&&r?t:(s.resolveWith(o,[c]),!1)},c=s.promise({elem:o,props:_.extend({},e),opts:_.extend(!0,{specialEasing:{}},t),originalProperties:e,originalOptions:t,startTime:Pe||Ve(),duration:t.duration,tweens:[],createTween:function(e,t){var n=_.Tween(o,c.opts,e,t,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var t=0,n=e?c.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)c.tweens[t].run(1);return e?s.resolveWith(o,[c,e]):s.rejectWith(o,[c,e]),this}}),u=c.props;for(function(e,t){var n,i,r,o,a;for(n in e)if(r=t[i=_.camelCase(n)],o=e[n],_.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(a=_.cssHooks[i])&&"expand"in a)for(n in o=a.expand(o),delete e[i],o)n in e||(e[n]=o[n],t[n]=r);else t[i]=r}(u,c.opts.specialEasing);i<r;i++)if(n=qe[i].call(c,o,u,c.opts))return n;return _.map(u,Ke,c),_.isFunction(c.opts.start)&&c.opts.start.call(o,c),_.fx.timer(_.extend(l,{elem:o,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}_.Animation=_.extend(Xe,{tweener:function(e,t){_.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;i<r;i++)n=e[i],Ue[n]=Ue[n]||[],Ue[n].unshift(t)},prefilter:function(e,t){t?qe.unshift(e):qe.push(e)}}),_.speed=function(e,t,n){var i=e&&"object"==typeof e?_.extend({},e):{complete:n||!n&&t||_.isFunction(e)&&e,duration:e,easing:n&&t||t&&!_.isFunction(t)&&t};return i.duration=_.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in _.fx.speeds?_.fx.speeds[i.duration]:_.fx.speeds._default,(null==i.queue||!0===i.queue)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){_.isFunction(i.old)&&i.old.call(this),i.queue&&_.dequeue(this,i.queue)},i},_.fn.extend({fadeTo:function(e,t,n,i){return this.filter(q).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(t,e,n,i){var r=_.isEmptyObject(t),o=_.speed(e,n,i),a=function(){var e=Xe(this,_.extend({},t),o);(r||L.get(this,"finish"))&&e.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(r,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof r&&(o=e,e=r,r=void 0),e&&!1!==r&&this.queue(r||"fx",[]),this.each(function(){var e=!0,t=null!=r&&r+"queueHooks",n=_.timers,i=L.get(this);if(t)i[t]&&i[t].stop&&a(i[t]);else for(t in i)i[t]&&i[t].stop&&We.test(t)&&a(i[t]);for(t=n.length;t--;)n[t].elem!==this||null!=r&&n[t].queue!==r||(n[t].anim.stop(o),e=!1,n.splice(t,1));(e||!o)&&_.dequeue(this,r)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=L.get(this),n=t[a+"queue"],i=t[a+"queueHooks"],r=_.timers,o=n?n.length:0;for(t.finish=!0,_.queue(this,a,[]),i&&i.stop&&i.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===a&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),_.each(["toggle","show","hide"],function(e,i){var r=_.fn[i];_.fn[i]=function(e,t,n){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(Ye(i,!0),e,t,n)}}),_.each({slideDown:Ye("show"),slideUp:Ye("hide"),slideToggle:Ye("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,i){_.fn[e]=function(e,t,n){return this.animate(i,e,t,n)}}),_.timers=[],_.fx.tick=function(){var e,t=0,n=_.timers;for(Pe=_.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||_.fx.stop(),Pe=void 0},_.fx.timer=function(e){_.timers.push(e),e()?_.fx.start():_.timers.pop()},_.fx.interval=13,_.fx.start=function(){Me||(Me=setInterval(_.fx.tick,_.fx.interval))},_.fx.stop=function(){clearInterval(Me),Me=null},_.fx.speeds={slow:600,fast:200,_default:400},_.fn.delay=function(i,e){return i=_.fx&&_.fx.speeds[i]||i,e=e||"fx",this.queue(e,function(e,t){var n=setTimeout(e,i);t.stop=function(){clearTimeout(n)}})},He=y.createElement("input"),Fe=y.createElement("select"),$e=Fe.appendChild(y.createElement("option")),He.type="checkbox",v.checkOn=""!==He.value,v.optSelected=$e.selected,Fe.disabled=!0,v.optDisabled=!$e.disabled,(He=y.createElement("input")).value="t",He.type="radio",v.radioValue="t"===He.value;var Ge,Qe=_.expr.attrHandle;_.fn.extend({attr:function(e,t){return I(this,_.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){_.removeAttr(this,e)})}}),_.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===V?_.prop(e,t,n):(1===o&&_.isXMLDoc(e)||(t=t.toLowerCase(),i=_.attrHooks[t]||(_.expr.match.bool.test(t)?Ge:void 0)),void 0===n?i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=_.find.attr(e,t))?void 0:r:null!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):void _.removeAttr(e,t))},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(D);if(o&&1===e.nodeType)for(;n=o[r++];)i=_.propFix[n]||n,_.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&_.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),Ge={set:function(e,t,n){return!1===t?_.removeAttr(e,n):e.setAttribute(n,n),n}},_.each(_.expr.match.bool.source.match(/\w+/g),function(e,t){var o=Qe[t]||_.find.attr;Qe[t]=function(e,t,n){var i,r;return n||(r=Qe[t],Qe[t]=i,i=null!=o(e,t,n)?t.toLowerCase():null,Qe[t]=r),i}});var Je=/^(?:input|select|textarea|button)$/i;_.fn.extend({prop:function(e,t){return I(this,_.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[_.propFix[e]||e]})}}),_.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var i,r,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return(1!==o||!_.isXMLDoc(e))&&(t=_.propFix[t]||t,r=_.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||Je.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),v.optSelected||(_.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),_.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){_.propFix[this.toLowerCase()]=this});var Ze=/[\t\r\n\f]/g;_.fn.extend({addClass:function(t){var e,n,i,r,o,a,s="string"==typeof t&&t,l=0,c=this.length;if(_.isFunction(t))return this.each(function(e){_(this).addClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(D)||[];l<c;l++)if(i=1===(n=this[l]).nodeType&&(n.className?(" "+n.className+" ").replace(Ze," "):" ")){for(o=0;r=e[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");a=_.trim(i),n.className!==a&&(n.className=a)}return this},removeClass:function(t){var e,n,i,r,o,a,s=0===arguments.length||"string"==typeof t&&t,l=0,c=this.length;if(_.isFunction(t))return this.each(function(e){_(this).removeClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(D)||[];l<c;l++)if(i=1===(n=this[l]).nodeType&&(n.className?(" "+n.className+" ").replace(Ze," "):"")){for(o=0;r=e[o++];)for(;0<=i.indexOf(" "+r+" ");)i=i.replace(" "+r+" "," ");a=t?_.trim(i):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(r,t){var o=typeof r;return"boolean"==typeof t&&"string"===o?t?this.addClass(r):this.removeClass(r):this.each(_.isFunction(r)?function(e){_(this).toggleClass(r.call(this,e,this.className,t),t)}:function(){if("string"===o)for(var e,t=0,n=_(this),i=r.match(D)||[];e=i[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else(o===V||"boolean"===o)&&(this.className&&L.set(this,"__className__",this.className),this.className=this.className||!1===r?"":L.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;n<i;n++)if(1===this[n].nodeType&&0<=(" "+this[n].className+" ").replace(Ze," ").indexOf(t))return!0;return!1}});var et=/\r/g;_.fn.extend({val:function(n){var i,e,r,t=this[0];return arguments.length?(r=_.isFunction(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=r?n.call(this,e,_(this).val()):n)?t="":"number"==typeof t?t+="":_.isArray(t)&&(t=_.map(t,function(e){return null==e?"":e+""})),(i=_.valHooks[this.type]||_.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&void 0!==i.set(this,t,"value")||(this.value=t))})):t?(i=_.valHooks[t.type]||_.valHooks[t.nodeName.toLowerCase()])&&"get"in i&&void 0!==(e=i.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(et,""):null==e?"":e:void 0}}),_.extend({valHooks:{option:{get:function(e){var t=_.find.attr(e,"value");return null!=t?t:_.trim(_.text(e))}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||r<0,a=o?null:[],s=o?r+1:i.length,l=r<0?s:o?r:0;l<s;l++)if(!(!(n=i[l]).selected&&l!==r||(v.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&_.nodeName(n.parentNode,"optgroup"))){if(t=_(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,o=_.makeArray(t),a=r.length;a--;)((i=r[a]).selected=0<=_.inArray(i.value,o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),_.each(["radio","checkbox"],function(){_.valHooks[this]={set:function(e,t){return _.isArray(t)?e.checked=0<=_.inArray(_(e).val(),t):void 0}},v.checkOn||(_.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),_.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,n){_.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),_.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var tt=_.now(),nt=/\?/;_.parseJSON=function(e){return JSON.parse(e+"")},_.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&_.error("Invalid XML: "+e),t};var it=/#.*$/,rt=/([?&])_=[^&]*/,ot=/^(.*?):[ \t]*([^\r\n]*)$/gm,at=/^(?:GET|HEAD)$/,st=/^\/\//,lt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,ct={},ut={},dt="*/".concat("*"),ft=p.location.href,ht=lt.exec(ft.toLowerCase())||[];function pt(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,i=0,r=e.toLowerCase().match(D)||[];if(_.isFunction(t))for(;n=r[i++];)"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function gt(t,r,o,a){var s={},l=t===ut;function c(e){var i;return s[e]=!0,_.each(t[e]||[],function(e,t){var n=t(r,o,a);return"string"!=typeof n||l||s[n]?l?!(i=n):void 0:(r.dataTypes.unshift(n),c(n),!1)}),i}return c(r.dataTypes[0])||!s["*"]&&c("*")}function mt(e,t){var n,i,r=_.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&_.extend(!0,e,i),e}_.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ft,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ht[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":dt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":_.parseJSON,"text xml":_.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?mt(mt(e,_.ajaxSettings),t):mt(_.ajaxSettings,e)},ajaxPrefilter:pt(ct),ajaxTransport:pt(ut),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var u,d,f,n,h,i,p,r,g=_.ajaxSetup({},t),m=g.context||g,v=g.context&&(m.nodeType||m.jquery)?_(m):_.event,y=_.Deferred(),b=_.Callbacks("once memory"),C=g.statusCode||{},o={},a={},x=0,s="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!n)for(n={};t=ot.exec(f);)n[t[1].toLowerCase()]=t[2];t=n[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?f:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=a[n]=a[n]||e,o[e]=t),this},overrideMimeType:function(e){return x||(g.mimeType=e),this},statusCode:function(e){var t;if(e)if(x<2)for(t in e)C[t]=[C[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||s;return u&&u.abort(t),l(0,t),this}};if(y.promise(w).complete=b.add,w.success=w.done,w.error=w.fail,g.url=((e||g.url||ft)+"").replace(it,"").replace(st,ht[1]+"//"),g.type=t.method||t.type||g.method||g.type,g.dataTypes=_.trim(g.dataType||"*").toLowerCase().match(D)||[""],null==g.crossDomain&&(i=lt.exec(g.url.toLowerCase()),g.crossDomain=!(!i||i[1]===ht[1]&&i[2]===ht[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(ht[3]||("http:"===ht[1]?"80":"443")))),g.data&&g.processData&&"string"!=typeof g.data&&(g.data=_.param(g.data,g.traditional)),gt(ct,g,t,w),2===x)return w;for(r in(p=_.event&&g.global)&&0==_.active++&&_.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!at.test(g.type),d=g.url,g.hasContent||(g.data&&(d=g.url+=(nt.test(d)?"&":"?")+g.data,delete g.data),!1===g.cache&&(g.url=rt.test(d)?d.replace(rt,"$1_="+tt++):d+(nt.test(d)?"&":"?")+"_="+tt++)),g.ifModified&&(_.lastModified[d]&&w.setRequestHeader("If-Modified-Since",_.lastModified[d]),_.etag[d]&&w.setRequestHeader("If-None-Match",_.etag[d])),(g.data&&g.hasContent&&!1!==g.contentType||t.contentType)&&w.setRequestHeader("Content-Type",g.contentType),w.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+dt+"; q=0.01":""):g.accepts["*"]),g.headers)w.setRequestHeader(r,g.headers[r]);if(g.beforeSend&&(!1===g.beforeSend.call(m,w,g)||2===x))return w.abort();for(r in s="abort",{success:1,error:1,complete:1})w[r](g[r]);if(u=gt(ut,g,t,w)){w.readyState=1,p&&v.trigger("ajaxSend",[w,g]),g.async&&0<g.timeout&&(h=setTimeout(function(){w.abort("timeout")},g.timeout));try{x=1,u.send(o,l)}catch(e){if(!(x<2))throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,i){var r,o,a,s,l,c=t;2!==x&&(x=2,h&&clearTimeout(h),u=void 0,f=i||"",w.readyState=0<e?4:0,r=200<=e&&e<300||304===e,n&&(s=function(e,t,n){for(var i,r,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}a||(a=r)}o=o||a}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}(g,w,n)),s=function(e,t,n,i){var r,o,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=c[l+" "+o]||c["* "+o]))for(r in c)if((s=r.split(" "))[1]===o&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[r]:!0!==c[r]&&(o=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(g,s,w,r),r?(g.ifModified&&((l=w.getResponseHeader("Last-Modified"))&&(_.lastModified[d]=l),(l=w.getResponseHeader("etag"))&&(_.etag[d]=l)),204===e||"HEAD"===g.type?c="nocontent":304===e?c="notmodified":(c=s.state,o=s.data,r=!(a=s.error))):(a=c,(e||!c)&&(c="error",e<0&&(e=0))),w.status=e,w.statusText=(t||c)+"",r?y.resolveWith(m,[o,c,w]):y.rejectWith(m,[w,c,a]),w.statusCode(C),C=void 0,p&&v.trigger(r?"ajaxSuccess":"ajaxError",[w,g,r?o:a]),b.fireWith(m,[w,c]),p&&(v.trigger("ajaxComplete",[w,g]),--_.active||_.event.trigger("ajaxStop")))}return w},getJSON:function(e,t,n){return _.get(e,t,n,"json")},getScript:function(e,t){return _.get(e,void 0,t,"script")}}),_.each(["get","post"],function(e,r){_[r]=function(e,t,n,i){return _.isFunction(t)&&(i=i||n,n=t,t=void 0),_.ajax({url:e,type:r,dataType:i,data:t,success:n})}}),_._evalUrl=function(e){return _.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},_.fn.extend({wrapAll:function(t){var e;return _.isFunction(t)?this.each(function(e){_(this).wrapAll(t.call(this,e))}):(this[0]&&(e=_(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(n){return this.each(_.isFunction(n)?function(e){_(this).wrapInner(n.call(this,e))}:function(){var e=_(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=_.isFunction(t);return this.each(function(e){_(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(){return this.parent().each(function(){_.nodeName(this,"body")||_(this).replaceWith(this.childNodes)}).end()}}),_.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},_.expr.filters.visible=function(e){return!_.expr.filters.hidden(e)};var vt=/%20/g,yt=/\[\]$/,bt=/\r?\n/g,Ct=/^(?:submit|button|image|reset|file)$/i,xt=/^(?:input|select|textarea|keygen)/i;function wt(n,e,i,r){var t;if(_.isArray(e))_.each(e,function(e,t){i||yt.test(n)?r(n,t):wt(n+"["+("object"==typeof t?e:"")+"]",t,i,r)});else if(i||"object"!==_.type(e))r(n,e);else for(t in e)wt(n+"["+t+"]",e[t],i,r)}_.param=function(e,t){var n,i=[],r=function(e,t){t=_.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=_.ajaxSettings&&_.ajaxSettings.traditional),_.isArray(e)||e.jquery&&!_.isPlainObject(e))_.each(e,function(){r(this.name,this.value)});else for(n in e)wt(n,e[n],t,r);return i.join("&").replace(vt,"+")},_.fn.extend({serialize:function(){return _.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=_.prop(this,"elements");return e?_.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!_(this).is(":disabled")&&xt.test(this.nodeName)&&!Ct.test(e)&&(this.checked||!U.test(e))}).map(function(e,t){var n=_(this).val();return null==n?null:_.isArray(n)?_.map(n,function(e){return{name:t.name,value:e.replace(bt,"\r\n")}}):{name:t.name,value:n.replace(bt,"\r\n")}}).get()}}),_.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var _t=0,Et={},Tt={0:200,1223:204},St=_.ajaxSettings.xhr();p.attachEvent&&p.attachEvent("onunload",function(){for(var e in Et)Et[e]()}),v.cors=!!St&&"withCredentials"in St,v.ajax=St=!!St,_.ajaxTransport(function(o){var a;return v.cors||St&&!o.crossDomain?{send:function(e,t){var n,i=o.xhr(),r=++_t;if(i.open(o.type,o.url,o.async,o.username,o.password),o.xhrFields)for(n in o.xhrFields)i[n]=o.xhrFields[n];for(n in o.mimeType&&i.overrideMimeType&&i.overrideMimeType(o.mimeType),o.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)i.setRequestHeader(n,e[n]);a=function(e){return function(){a&&(delete Et[r],a=i.onload=i.onerror=null,"abort"===e?i.abort():"error"===e?t(i.status,i.statusText):t(Tt[i.status]||i.status,i.statusText,"string"==typeof i.responseText?{text:i.responseText}:void 0,i.getAllResponseHeaders()))}},i.onload=a(),i.onerror=a("error"),a=Et[r]=a("abort");try{i.send(o.hasContent&&o.data||null)}catch(e){if(a)throw e}},abort:function(){a&&a()}}:void 0}),_.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return _.globalEval(e),e}}}),_.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),_.ajaxTransport("script",function(n){var i,r;if(n.crossDomain)return{send:function(e,t){i=_("<script>").prop({async:!0,charset:n.scriptCharset,src:n.url}).on("load error",r=function(e){i.remove(),r=null,e&&t("error"===e.type?404:200,e.type)}),y.head.appendChild(i[0])},abort:function(){r&&r()}}});var Nt=[],kt=/(=)\?(?=&|$)|\?\?/;_.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Nt.pop()||_.expando+"_"+tt++;return this[e]=!0,e}}),_.ajaxPrefilter("json jsonp",function(e,t,n){var i,r,o,a=!1!==e.jsonp&&(kt.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&kt.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(i=e.jsonpCallback=_.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(kt,"$1"+i):!1!==e.jsonp&&(e.url+=(nt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return o||_.error(i+" was not called"),o[0]},e.dataTypes[0]="json",r=p[i],p[i]=function(){o=arguments},n.always(function(){p[i]=r,e[i]&&(e.jsonpCallback=t.jsonpCallback,Nt.push(i)),o&&_.isFunction(r)&&r(o[0]),o=r=void 0}),"script"):void 0}),_.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||y;var i=C.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=_.buildFragment([e],t,r),r&&r.length&&_(r).remove(),_.merge([],i.childNodes))};var At=_.fn.load;_.fn.load=function(e,t,n){if("string"!=typeof e&&At)return At.apply(this,arguments);var i,r,o,a=this,s=e.indexOf(" ");return 0<=s&&(i=_.trim(e.slice(s)),e=e.slice(0,s)),_.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),0<a.length&&_.ajax({url:e,type:r,dataType:"html",data:t}).done(function(e){o=arguments,a.html(i?_("<div>").append(_.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){a.each(n,o||[e.responseText,t,e])}),this},_.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){_.fn[t]=function(e){return this.on(t,e)}}),_.expr.filters.animated=function(t){return _.grep(_.timers,function(e){return t===e.elem}).length};var Dt=p.document.documentElement;function Rt(e){return _.isWindow(e)?e:9===e.nodeType&&e.defaultView}_.offset={setOffset:function(e,t,n){var i,r,o,a,s,l,c=_.css(e,"position"),u=_(e),d={};"static"===c&&(e.style.position="relative"),s=u.offset(),o=_.css(e,"top"),l=_.css(e,"left"),("absolute"===c||"fixed"===c)&&-1<(o+l).indexOf("auto")?(a=(i=u.position()).top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),_.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+r),"using"in t?t.using.call(e,d):u.css(d)}},_.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){_.offset.setOffset(this,t,e)});var e,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;return o?(e=o.documentElement,_.contains(e,i)?(typeof i.getBoundingClientRect!==V&&(r=i.getBoundingClientRect()),n=Rt(o),{top:r.top+n.pageYOffset-e.clientTop,left:r.left+n.pageXOffset-e.clientLeft}):r):void 0},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===_.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),_.nodeName(e[0],"html")||(i=e.offset()),i.top+=_.css(e[0],"borderTopWidth",!0),i.left+=_.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-_.css(n,"marginTop",!0),left:t.left-i.left-_.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Dt;e&&!_.nodeName(e,"html")&&"static"===_.css(e,"position");)e=e.offsetParent;return e||Dt})}}),_.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,r){var o="pageYOffset"===r;_.fn[t]=function(e){return I(this,function(e,t,n){var i=Rt(e);return void 0===n?i?i[r]:e[t]:void(i?i.scrollTo(o?p.pageXOffset:n,o?n:p.pageYOffset):e[t]=n)},t,e,arguments.length,null)}}),_.each(["top","left"],function(e,n){_.cssHooks[n]=_e(v.pixelPosition,function(e,t){return t?(t=we(e,n),Ce.test(t)?_(e).position()[n]+"px":t):void 0})}),_.each({Height:"height",Width:"width"},function(o,a){_.each({padding:"inner"+o,content:a,"":"outer"+o},function(i,e){_.fn[e]=function(e,t){var n=arguments.length&&(i||"boolean"!=typeof e),r=i||(!0===e||!0===t?"margin":"border");return I(this,function(e,t,n){var i;return _.isWindow(e)?e.document.documentElement["client"+o]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+o],i["scroll"+o],e.body["offset"+o],i["offset"+o],i["client"+o])):void 0===n?_.css(e,t,r):_.style(e,t,n,r)},a,n?e:void 0,n,null)}})}),_.fn.size=function(){return this.length},_.fn.andSelf=_.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return _});var Ot=p.jQuery,It=p.$;return _.noConflict=function(e){return p.$===_&&(p.$=It),e&&p.jQuery===_&&(p.jQuery=Ot),_},typeof e===V&&(p.jQuery=p.$=_),_}),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t(require,exports,module):e.Tether=t()}(this,function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){var t=e.getBoundingClientRect(),n={};for(var i in t)n[i]=t[i];if(e.ownerDocument!==document){var r=e.ownerDocument.defaultView.frameElement;if(r){var o=a(r);n.top+=o.top,n.bottom+=o.top,n.left+=o.left,n.right+=o.left}}return n}function s(e){var t=(getComputedStyle(e)||{}).position,n=[];if("fixed"===t)return[e];for(var i=e;(i=i.parentNode)&&i&&1===i.nodeType;){var r=void 0;try{r=getComputedStyle(i)}catch(e){}if(null==r)return n.push(i),n;var o=r,a=o.overflow,s=o.overflowX,l=o.overflowY;/(auto|scroll)/.test(a+l+s)&&("absolute"!==t||0<=["relative","absolute","fixed"].indexOf(r.position))&&n.push(i)}return n.push(e.ownerDocument.body),e.ownerDocument!==document&&n.push(e.ownerDocument.defaultView),n}function r(){v&&document.body.removeChild(v),v=null}function S(e){var t=void 0;e===document?(t=document,e=document.documentElement):t=e.ownerDocument;var n=t.documentElement,i=a(e),r=C();return i.top-=r.top,i.left-=r.left,void 0===i.width&&(i.width=document.body.scrollWidth-i.left-i.right),void 0===i.height&&(i.height=document.body.scrollHeight-i.top-i.bottom),i.top=i.top-n.clientTop,i.left=i.left-n.clientLeft,i.right=t.body.clientWidth-i.width-i.left,i.bottom=t.body.clientHeight-i.height-i.top,i}function T(e){return e.offsetParent||document.documentElement}function N(){if(x)return x;var e=document.createElement("div");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");k(t.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);var n=e.offsetWidth;t.style.overflow="scroll";var i=e.offsetWidth;n===i&&(i=t.clientWidth),document.body.removeChild(t);var r=n-i;return x={width:r,height:r}}function k(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=[];return Array.prototype.push.apply(e,arguments),e.slice(1).forEach(function(e){if(e)for(var t in e)({}).hasOwnProperty.call(e,t)&&(n[t]=e[t])}),n}function o(t,e){if(void 0!==t.classList)e.split(" ").forEach(function(e){e.trim()&&t.classList.remove(e)});else{var n=new RegExp("(^| )"+e.split(" ").join("|")+"( |$)","gi"),i=u(t).replace(n," ");d(t,i)}}function l(t,e){if(void 0!==t.classList)e.split(" ").forEach(function(e){e.trim()&&t.classList.add(e)});else{o(t,e);var n=u(t)+" "+e;d(t,n)}}function c(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=u(e);return new RegExp("(^| )"+t+"( |$)","gi").test(n)}function u(e){return e.className instanceof e.ownerDocument.defaultView.SVGAnimatedString?e.className.baseVal:e.className}function d(e,t){e.setAttribute("class",t)}function h(t,n,e){e.forEach(function(e){-1===n.indexOf(e)&&c(t,e)&&o(t,e)}),n.forEach(function(e){c(t,e)||l(t,e)})}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){var n=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return t<=e+n&&e-n<=t}function f(){return"undefined"!=typeof performance&&void 0!==performance.now?performance.now():+new Date}function A(){for(var i={top:0,left:0},e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.forEach(function(e){var t=e.top,n=e.left;"string"==typeof t&&(t=parseFloat(t,10)),"string"==typeof n&&(n=parseFloat(n,10)),i.top+=t,i.left+=n}),i}function D(e,t){return"string"==typeof e.left&&-1!==e.left.indexOf("%")&&(e.left=parseFloat(e.left,10)/100*t.width),"string"==typeof e.top&&-1!==e.top.indexOf("%")&&(e.top=parseFloat(e.top,10)/100*t.height),e}var p=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),R=void 0;void 0===R&&(R={modules:[]});var g,v=null,y=(g=0,function(){return++g}),b={},C=function(){var e=v;e&&document.body.contains(e)||((e=document.createElement("div")).setAttribute("data-tether-id",y()),k(e.style,{top:0,left:0,position:"absolute"}),document.body.appendChild(e),v=e);var t=e.getAttribute("data-tether-id");return void 0===b[t]&&(b[t]=a(e),O(function(){delete b[t]})),b[t]},x=null,w=[],O=function(e){w.push(e)},I=function(){for(var e=void 0;e=w.pop();)e()},_=function(){function e(){i(this,e)}return p(e,[{key:"on",value:function(e,t,n){var i=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];void 0===this.bindings&&(this.bindings={}),void 0===this.bindings[e]&&(this.bindings[e]=[]),this.bindings[e].push({handler:t,ctx:n,once:i})}},{key:"once",value:function(e,t,n){this.on(e,t,n,!0)}},{key:"off",value:function(e,t){if(void 0!==this.bindings&&void 0!==this.bindings[e])if(void 0===t)delete this.bindings[e];else for(var n=0;n<this.bindings[e].length;)this.bindings[e][n].handler===t?this.bindings[e].splice(n,1):++n}},{key:"trigger",value:function(e){if(void 0!==this.bindings&&this.bindings[e]){for(var t=0,n=arguments.length,i=Array(1<n?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];for(;t<this.bindings[e].length;){var o=this.bindings[e][t],a=o.handler,s=o.ctx,l=o.once,c=s;void 0===c&&(c=this),a.apply(c,i),l?this.bindings[e].splice(t,1):++t}}}}]),e}();R.Utils={getActualBoundingClientRect:a,getScrollParents:s,getBounds:S,getOffsetParent:T,extend:k,addClass:l,removeClass:o,hasClass:c,updateClasses:h,defer:O,flush:I,uniqueId:y,Evented:_,getScrollBarSize:N,removeUtilElements:r};var B=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},E=(p=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=o,n=a,i=!0,s=c=void 0}});if(void 0===R)throw new Error("You must include the utils.js file before tether.js");var L,P,M,H,s=(Q=R.Utils).getScrollParents,T=(S=Q.getBounds,Q.getOffsetParent),l=(k=Q.extend,Q.addClass),o=Q.removeClass,N=(h=Q.updateClasses,O=Q.defer,I=Q.flush,Q.getScrollBarSize),r=Q.removeUtilElements,F=function(){if("undefined"==typeof document)return"";for(var e=document.createElement("div"),t=["transform","WebkitTransform","OTransform","MozTransform","msTransform"],n=0;n<t.length;++n){var i=t[n];if(void 0!==e.style[i])return i}}(),$=[],j=function(){$.forEach(function(e){e.position(!1)}),I()};M=P=L=null,H=function e(){return void 0!==P&&16<P?(P=Math.min(P-16,250),void(M=setTimeout(e,250))):void(void 0!==L&&f()-L<10||(null!=M&&(clearTimeout(M),M=null),L=f(),j(),P=f()-L))},"undefined"!=typeof window&&void 0!==window.addEventListener&&["resize","scroll","touchmove"].forEach(function(e){window.addEventListener(e,H)});var z={center:"center",left:"right",right:"left"},W={middle:"middle",top:"bottom",bottom:"top"},q={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},U=function(e){var t=e.left,n=e.top;return void 0!==q[e.left]&&(t=q[e.left]),void 0!==q[e.top]&&(n=q[e.top]),{left:t,top:n}},V=function(e){var t=e.split(" "),n=B(t,2);return{top:n[0],left:n[1]}},Y=V,K=function(e){function n(e){var t=this;i(this,n),E(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),this.position=this.position.bind(this),$.push(this),this.history=[],this.setOptions(e,!1),R.modules.forEach(function(e){void 0!==e.initialize&&e.initialize.call(t)}),this.position()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,_),p(n,[{key:"getClass",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=this.options.classes;return void 0!==t&&t[e]?this.options.classes[e]:this.options.classPrefix?this.options.classPrefix+"-"+e:e}},{key:"setOptions",value:function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]||arguments[1];this.options=k({offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"},e);var i=this.options,r=i.element,o=i.target,a=i.targetModifier;if(this.element=r,this.target=o,this.targetModifier=a,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(e){if(void 0===t[e])throw new Error("Tether Error: Both element and target must be defined");void 0!==t[e].jquery?t[e]=t[e][0]:"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))}),l(this.element,this.getClass("element")),!1!==this.options.addTargetClasses&&l(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=Y(this.options.targetAttachment),this.attachment=Y(this.options.attachment),this.offset=V(this.options.offset),this.targetOffset=V(this.options.targetOffset),void 0!==this.scrollParents&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParents=[this.target]:this.scrollParents=s(this.target),!1!==this.options.enabled&&this.enable(n)}},{key:"getTargetBounds",value:function(){if(void 0===this.targetModifier)return S(this.target);if("visible"===this.targetModifier)return this.target===document.body?{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth}:((o={height:(e=S(this.target)).height,width:e.width,top:e.top,left:e.left}).height=Math.min(o.height,e.height-(pageYOffset-e.top)),o.height=Math.min(o.height,e.height-(e.top+e.height-(pageYOffset+innerHeight))),o.height=Math.min(innerHeight,o.height),o.height-=2,o.width=Math.min(o.width,e.width-(pageXOffset-e.left)),o.width=Math.min(o.width,e.width-(e.left+e.width-(pageXOffset+innerWidth))),o.width=Math.min(innerWidth,o.width),o.width-=2,o.top<pageYOffset&&(o.top=pageYOffset),o.left<pageXOffset&&(o.left=pageXOffset),o);if("scroll-handle"===this.targetModifier){var e=void 0,t=this.target;t===document.body?(t=document.documentElement,e={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):e=S(t);var n=getComputedStyle(t),i=0;(t.scrollWidth>t.clientWidth||0<=[n.overflow,n.overflowX].indexOf("scroll")||this.target!==document.body)&&(i=15);var r=e.height-parseFloat(n.borderTopWidth)-parseFloat(n.borderBottomWidth)-i,o={width:15,height:.975*r*(r/t.scrollHeight),left:e.left+e.width-parseFloat(n.borderLeftWidth)-15},a=0;r<408&&this.target===document.body&&(a=-11e-5*Math.pow(r,2)-.00727*r+22.58),this.target!==document.body&&(o.height=Math.max(o.height,24));var s=this.target.scrollTop/(t.scrollHeight-r);return o.top=s*(r-o.height-a)+e.top+parseFloat(n.borderTopWidth),this.target===document.body&&(o.height=Math.max(o.height,24)),o}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(e,t){return void 0===this._cache&&(this._cache={}),void 0===this._cache[e]&&(this._cache[e]=t.call(this)),this._cache[e]}},{key:"enable",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]||arguments[0];!1!==this.options.addTargetClasses&&l(this.target,this.getClass("enabled")),l(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParents.forEach(function(e){e!==t.target.ownerDocument&&e.addEventListener("scroll",t.position)}),e&&this.position()}},{key:"disable",value:function(){var t=this;o(this.target,this.getClass("enabled")),o(this.element,this.getClass("enabled")),this.enabled=!1,void 0!==this.scrollParents&&this.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.position)})}},{key:"destroy",value:function(){var n=this;this.disable(),$.forEach(function(e,t){e===n&&$.splice(t,1)}),0===$.length&&r()}},{key:"updateAttachClasses",value:function(e,t){var n=this;e=e||this.attachment,t=t||this.targetAttachment;void 0!==this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),void 0===this._addAttachClasses&&(this._addAttachClasses=[]);var i=this._addAttachClasses;e.top&&i.push(this.getClass("element-attached")+"-"+e.top),e.left&&i.push(this.getClass("element-attached")+"-"+e.left),t.top&&i.push(this.getClass("target-attached")+"-"+t.top),t.left&&i.push(this.getClass("target-attached")+"-"+t.left);var r=[];["left","top","bottom","right","middle","center"].forEach(function(e){r.push(n.getClass("element-attached")+"-"+e),r.push(n.getClass("target-attached")+"-"+e)}),O(function(){void 0!==n._addAttachClasses&&(h(n.element,n._addAttachClasses,r),!1!==n.options.addTargetClasses&&h(n.target,n._addAttachClasses,r),delete n._addAttachClasses)})}},{key:"position",value:function(){var e,t,n,i,s=this,r=arguments.length<=0||void 0===arguments[0]||arguments[0];if(this.enabled){this.clearCache();var o=(e=this.targetAttachment,t=this.attachment,n=e.left,i=e.top,"auto"===n&&(n=z[t.left]),"auto"===i&&(i=W[t.top]),{left:n,top:i});this.updateAttachClasses(this.attachment,o);var a=this.cache("element-bounds",function(){return S(s.element)}),l=a.width,c=a.height;if(0===l&&0===c&&void 0!==this.lastSize){var u=this.lastSize;l=u.width,c=u.height}else this.lastSize={width:l,height:c};var d=this.cache("target-bounds",function(){return s.getTargetBounds()}),f=d,h=D(U(this.attachment),{width:l,height:c}),p=D(U(o),f),g=D(this.offset,{width:l,height:c}),m=D(this.targetOffset,f);h=A(h,g),p=A(p,m);for(var v=d.left+p.left-h.left,y=d.top+p.top-h.top,b=0;b<R.modules.length;++b){var C=R.modules[b].position.call(this,{left:v,top:y,targetAttachment:o,targetPos:d,elementPos:a,offset:h,targetOffset:p,manualOffset:g,manualTargetOffset:m,scrollbarSize:E,attachment:this.attachment});if(!1===C)return!1;void 0!==C&&"object"==typeof C&&(y=C.top,v=C.left)}var x={page:{top:y,left:v},viewport:{top:y-pageYOffset,bottom:pageYOffset-y-c+innerHeight,left:v-pageXOffset,right:pageXOffset-v-l+innerWidth}},w=this.target.ownerDocument,_=w.defaultView,E=void 0;return _.innerHeight>w.documentElement.clientHeight&&(E=this.cache("scrollbar-size",N),x.viewport.bottom-=E.height),_.innerWidth>w.documentElement.clientWidth&&(E=this.cache("scrollbar-size",N),x.viewport.right-=E.width),-1!==["","static"].indexOf(w.body.style.position)&&-1!==["","static"].indexOf(w.body.parentElement.style.position)||(x.page.bottom=w.body.scrollHeight-y-c,x.page.right=w.body.scrollWidth-v-l),void 0!==this.options.optimizations&&!1!==this.options.optimizations.moveElement&&void 0===this.targetModifier&&function(){var e=s.cache("target-offsetparent",function(){return T(s.target)}),t=s.cache("target-offsetparent-bounds",function(){return S(e)}),n=getComputedStyle(e),i=t,r={};if(["Top","Left","Bottom","Right"].forEach(function(e){r[e.toLowerCase()]=parseFloat(n["border"+e+"Width"])}),t.right=w.body.scrollWidth-t.left-i.width+r.right,t.bottom=w.body.scrollHeight-t.top-i.height+r.bottom,x.page.top>=t.top+r.top&&x.page.bottom>=t.bottom&&x.page.left>=t.left+r.left&&x.page.right>=t.right){var o=e.scrollTop,a=e.scrollLeft;x.offset={top:x.page.top-t.top+o-r.top,left:x.page.left-t.left+a-r.left}}}(),this.move(x),this.history.unshift(x),3<this.history.length&&this.history.pop(),r&&I(),!0}}},{key:"move",value:function(t){var r=this;if(void 0!==this.element.parentNode){var n={};for(var e in t)for(var i in n[e]={},t[e]){for(var o=!1,a=0;a<this.history.length;++a){var s=this.history[a];if(void 0!==s[e]&&!m(s[e][i],t[e][i])){o=!0;break}}o||(n[e][i]=!0)}var l={top:"",left:"",right:"",bottom:""},c=function(e,t){if(!1!==(void 0!==r.options.optimizations?r.options.optimizations.gpu:null)){var n=void 0,i=void 0;if(e.top?(l.top=0,n=t.top):(l.bottom=0,n=-t.bottom),e.left?(l.left=0,i=t.left):(l.right=0,i=-t.right),window.matchMedia)window.matchMedia("only screen and (min-resolution: 1.3dppx)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3)").matches||(i=Math.round(i),n=Math.round(n));l[F]="translateX("+i+"px) translateY("+n+"px)","msTransform"!==F&&(l[F]+=" translateZ(0)")}else e.top?l.top=t.top+"px":l.bottom=t.bottom+"px",e.left?l.left=t.left+"px":l.right=t.right+"px"},u=!1;if((n.page.top||n.page.bottom)&&(n.page.left||n.page.right)?(l.position="absolute",c(n.page,t.page)):(n.viewport.top||n.viewport.bottom)&&(n.viewport.left||n.viewport.right)?(l.position="fixed",c(n.viewport,t.viewport)):void 0!==n.offset&&n.offset.top&&n.offset.left?function(){l.position="absolute";var e=r.cache("target-offsetparent",function(){return T(r.target)});T(r.element)!==e&&O(function(){r.element.parentNode.removeChild(r.element),e.appendChild(r.element)}),c(n.offset,t.offset),u=!0}():(l.position="absolute",c({top:!0,left:!0},t.page)),!u){for(var d=!0,f=this.element.parentNode;f&&1===f.nodeType&&"BODY"!==f.tagName;){if("static"!==getComputedStyle(f).position){d=!1;break}f=f.parentNode}d||(this.element.parentNode.removeChild(this.element),this.element.ownerDocument.body.appendChild(this.element))}var h={},p=!1;for(var i in l){var g=l[i];this.element.style[i]!==g&&(p=!0,h[i]=g)}p&&O(function(){k(r.element.style,h),r.trigger("repositioned")})}}}]),n}();K.modules=[],R.position=j;var X=k(K,R),k=(B=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},S=(Q=R.Utils).getBounds,Q.extend),G=(h=Q.updateClasses,O=Q.defer,["left","top","right","bottom"]);R.modules.push({position:function(e){var g=this,m=e.top,v=e.left,y=e.targetAttachment;if(!this.options.constraints)return!0;var t=this.cache("element-bounds",function(){return S(g.element)}),b=t.height,C=t.width;if(0===C&&0===b&&void 0!==this.lastSize){var n=this.lastSize;C=n.width,b=n.height}var i=this.cache("target-bounds",function(){return g.getTargetBounds()}),x=i.height,w=i.width,r=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(e){var t=e.outOfBoundsClass,n=e.pinnedClass;t&&r.push(t),n&&r.push(n)}),r.forEach(function(t){["left","top","right","bottom"].forEach(function(e){r.push(t+"-"+e)})});var _=[],E=k({},y),T=k({},this.attachment);return this.options.constraints.forEach(function(e){var t=e.to,n=e.attachment,i=e.pin;void 0===n&&(n="");var r=void 0,o=void 0;if(0<=n.indexOf(" ")){var a=n.split(" "),s=B(a,2);o=s[0],r=s[1]}else r=o=n;var l,c,u=(l=g,"scrollParent"===(c=t)?c=l.scrollParents[0]:"window"===c&&(c=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),c===document&&(c=c.documentElement),void 0!==c.nodeType&&function(){var e=c,t=S(c),n=t,i=getComputedStyle(c);if(c=[n.left,n.top,t.width+n.left,t.height+n.top],e.ownerDocument!==document){var r=e.ownerDocument.defaultView;c[0]+=r.pageXOffset,c[1]+=r.pageYOffset,c[2]+=r.pageXOffset,c[3]+=r.pageYOffset}G.forEach(function(e,t){"Top"===(e=e[0].toUpperCase()+e.substr(1))||"Left"===e?c[t]+=parseFloat(i["border"+e+"Width"]):c[t]-=parseFloat(i["border"+e+"Width"])})}(),c);"target"!==o&&"both"!==o||(m<u[1]&&"top"===E.top&&(m+=x,E.top="bottom"),m+b>u[3]&&"bottom"===E.top&&(m-=x,E.top="top")),"together"===o&&("top"===E.top&&("bottom"===T.top&&m<u[1]?(m+=x,E.top="bottom",m+=b,T.top="top"):"top"===T.top&&m+b>u[3]&&m-(b-x)>=u[1]&&(m-=b-x,E.top="bottom",T.top="bottom")),"bottom"===E.top&&("top"===T.top&&m+b>u[3]?(m-=x,E.top="top",m-=b,T.top="bottom"):"bottom"===T.top&&m<u[1]&&m+(2*b-x)<=u[3]&&(m+=b-x,E.top="top",T.top="top")),"middle"===E.top&&(m+b>u[3]&&"top"===T.top?(m-=b,T.top="bottom"):m<u[1]&&"bottom"===T.top&&(m+=b,T.top="top"))),"target"!==r&&"both"!==r||(v<u[0]&&"left"===E.left&&(v+=w,E.left="right"),v+C>u[2]&&"right"===E.left&&(v-=w,E.left="left")),"together"===r&&(v<u[0]&&"left"===E.left?"right"===T.left?(v+=w,E.left="right",v+=C,T.left="left"):"left"===T.left&&(v+=w,E.left="right",v-=C,T.left="right"):v+C>u[2]&&"right"===E.left?"left"===T.left?(v-=w,E.left="left",v-=C,T.left="right"):"right"===T.left&&(v-=w,E.left="left",v+=C,T.left="left"):"center"===E.left&&(v+C>u[2]&&"left"===T.left?(v-=C,T.left="right"):v<u[0]&&"right"===T.left&&(v+=C,T.left="left"))),"element"!==o&&"both"!==o||(m<u[1]&&"bottom"===T.top&&(m+=b,T.top="top"),m+b>u[3]&&"top"===T.top&&(m-=b,T.top="bottom")),"element"!==r&&"both"!==r||(v<u[0]&&("right"===T.left?(v+=C,T.left="left"):"center"===T.left&&(v+=C/2,T.left="left")),v+C>u[2]&&("left"===T.left?(v-=C,T.left="right"):"center"===T.left&&(v-=C/2,T.left="right"))),"string"==typeof i?i=i.split(",").map(function(e){return e.trim()}):!0===i&&(i=["top","left","right","bottom"]),i=i||[];var d,f,h=[],p=[];m<u[1]&&(0<=i.indexOf("top")?(m=u[1],h.push("top")):p.push("top")),m+b>u[3]&&(0<=i.indexOf("bottom")?(m=u[3]-b,h.push("bottom")):p.push("bottom")),v<u[0]&&(0<=i.indexOf("left")?(v=u[0],h.push("left")):p.push("left")),v+C>u[2]&&(0<=i.indexOf("right")?(v=u[2]-C,h.push("right")):p.push("right")),h.length&&(f=void 0!==g.options.pinnedClass?g.options.pinnedClass:g.getClass("pinned"),_.push(f),h.forEach(function(e){_.push(f+"-"+e)})),p.length&&(d=void 0!==g.options.outOfBoundsClass?g.options.outOfBoundsClass:g.getClass("out-of-bounds"),_.push(d),p.forEach(function(e){_.push(d+"-"+e)})),(0<=h.indexOf("left")||0<=h.indexOf("right"))&&(T.left=E.left=!1),(0<=h.indexOf("top")||0<=h.indexOf("bottom"))&&(T.top=E.top=!1),E.top===y.top&&E.left===y.left&&T.top===g.attachment.top&&T.left===g.attachment.left||(g.updateAttachClasses(T,E),g.trigger("update",{attachment:T,targetAttachment:E}))}),O(function(){!1!==g.options.addTargetClasses&&h(g.target,_,r),h(g.element,_,r)}),{top:m,left:v}}});var Q,S=(Q=R.Utils).getBounds,h=Q.updateClasses;O=Q.defer;R.modules.push({position:function(e){var t=this,n=e.top,i=e.left,r=this.cache("element-bounds",function(){return S(t.element)}),o=r.height,a=r.width,s=this.getTargetBounds(),l=n+o,c=i+a,u=[];n<=s.bottom&&l>=s.top&&["left","right"].forEach(function(e){var t=s[e];t!==i&&t!==c||u.push(e)}),i<=s.right&&c>=s.left&&["top","bottom"].forEach(function(e){var t=s[e];t!==n&&t!==l||u.push(e)});var d=[],f=[];return d.push(this.getClass("abutted")),["left","top","right","bottom"].forEach(function(e){d.push(t.getClass("abutted")+"-"+e)}),u.length&&f.push(this.getClass("abutted")),u.forEach(function(e){f.push(t.getClass("abutted")+"-"+e)}),O(function(){!1!==t.options.addTargetClasses&&h(t.target,f,d),h(t.element,f,d)}),!0}});B=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};return R.modules.push({position:function(e){var t=e.top,n=e.left;if(this.options.shift){var i=this.options.shift;"function"==typeof this.options.shift&&(i=this.options.shift.call(this,{top:t,left:n}));var r=void 0,o=void 0;if("string"==typeof i){(i=i.split(" "))[1]=i[1]||i[0];var a=B(i,2);r=a[0],o=a[1],r=parseFloat(r,10),o=parseFloat(o,10)}else r=i.top,o=i.left;return{top:t+=r,left:n+=o}}}}),X}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(e){var t=jQuery.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1||4<=t[0])throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(),function(){function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l,r,e,t,c,a,u,s,d,f,h,p,g,m,n,v,y,i,o,C,x,w,_,E,T,S,N,k,A,D,R,O,I,B,L,P,M,H,F,$,j,z,W,q,U,V,Y,K,X,G,Q,J,Z,ee,te,ne,ie,re,oe,ae,se,le,ce,ue,de,fe,he,pe,ge,me,ve,ye,be,Ce,xe,we,_e,Ee,Te,Se,Ne,ke,Ae,De,Re,Oe,Ie,Be,Le,Pe,Me,He,Fe,$e,je,ze,We,qe,Ue,Ve,Ye,Ke,Xe,Ge,Qe,Je,Ze,et,tt,nt,it,rt,ot,at,st,lt,ct,ut,dt,ft,ht,pt,gt,mt,vt,yt,bt,Ct,xt,wt,_t,Et,Tt,St,Nt,kt,At,Dt,Rt,Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},It=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),Bt=function(i){function e(e){var t=this,n=!1;return i(this).one(r.TRANSITION_END,function(){n=!0}),setTimeout(function(){n||r.triggerTransitionEnd(t)},e),this}var t=!1,n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},r={TRANSITION_END:"bsTransitionEnd",getUID:function(e){for(;e+=~~(1e6*Math.random()),document.getElementById(e););return e},getSelectorFromElement:function(e){var t=e.getAttribute("data-target");return t||(t=e.getAttribute("href")||"",t=/^#[a-z]/i.test(t)?t:null),t},reflow:function(e){new Function("bs","return bs")(e.offsetHeight)},triggerTransitionEnd:function(e){i(e).trigger(t.end)},supportsTransitionEnd:function(){return Boolean(t)},typeCheckConfig:function(e,t,n){for(var i in n)if(n.hasOwnProperty(i)){var r,o=n[i],a=t[i];if(r=a&&((l=a)[0]||l).nodeType?"element":(s=a,{}.toString.call(s).match(/\s([a-zA-Z]+)/)[1].toLowerCase()),!new RegExp(o).test(r))throw new Error(e.toUpperCase()+': Option "'+i+'" provided type "'+r+'" but expected type "'+o+'".')}var s,l}};return t=function(){if(window.QUnit)return!1;var e=document.createElement("bootstrap");for(var t in n)if(void 0!==e.style[t])return{end:n[t]};return!1}(),i.fn.emulateTransitionEnd=e,r.supportsTransitionEnd()&&(i.event.special[r.TRANSITION_END]={bindType:t.end,delegateType:t.end,handle:function(e){if(i(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}}),r}(jQuery),Lt=(ct=jQuery,ut="alert",ft="."+(dt="bs.alert"),ht=ct.fn[ut],pt={CLOSE:"close"+ft,CLOSED:"closed"+ft,CLICK_DATA_API:"click"+ft+".data-api"},gt="alert",mt="fade",vt="in",yt=function(){function i(e){b(this,i),this._element=e}return i.prototype.close=function(e){e=e||this._element;var t=this._getRootElement(e);this._triggerCloseEvent(t).isDefaultPrevented()||this._removeElement(t)},i.prototype.dispose=function(){ct.removeData(this._element,dt),this._element=null},i.prototype._getRootElement=function(e){var t=Bt.getSelectorFromElement(e),n=!1;return t&&(n=ct(t)[0]),n||(n=ct(e).closest("."+gt)[0]),n},i.prototype._triggerCloseEvent=function(e){var t=ct.Event(pt.CLOSE);return ct(e).trigger(t),t},i.prototype._removeElement=function(e){return ct(e).removeClass(vt),Bt.supportsTransitionEnd()&&ct(e).hasClass(mt)?void ct(e).one(Bt.TRANSITION_END,ct.proxy(this._destroyElement,this,e)).emulateTransitionEnd(150):void this._destroyElement(e)},i.prototype._destroyElement=function(e){ct(e).detach().trigger(pt.CLOSED).remove()},i._jQueryInterface=function(n){return this.each(function(){var e=ct(this),t=e.data(dt);t||(t=new i(this),e.data(dt,t)),"close"===n&&t[n](this)})},i._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},It(i,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.5"}}]),i}(),ct(document).on(pt.CLICK_DATA_API,'[data-dismiss="alert"]',yt._handleDismiss(new yt)),ct.fn[ut]=yt._jQueryInterface,ct.fn[ut].Constructor=yt,ct.fn[ut].noConflict=function(){return ct.fn[ut]=ht,yt._jQueryInterface},Ye=jQuery,Ke="button",Ge="."+(Xe="bs.button"),Qe=".data-api",Je=Ye.fn[Ke],Ze="active",et="btn",nt='[data-toggle^="button"]',it='[data-toggle="buttons"]',rt="input",ot=".active",at=".btn",st={CLICK_DATA_API:"click"+Ge+Qe,FOCUS_BLUR_DATA_API:(tt="focus")+Ge+Qe+" blur"+Ge+Qe},lt=function(){function n(e){b(this,n),this._element=e}return n.prototype.toggle=function(){var e=!0,t=Ye(this._element).closest(it)[0];if(t){var n=Ye(this._element).find(rt)[0];if(n){if("radio"===n.type)if(n.checked&&Ye(this._element).hasClass(Ze))e=!1;else{var i=Ye(t).find(ot)[0];i&&Ye(i).removeClass(Ze)}e&&(n.checked=!Ye(this._element).hasClass(Ze),Ye(this._element).trigger("change")),n.focus()}}else this._element.setAttribute("aria-pressed",!Ye(this._element).hasClass(Ze));e&&Ye(this._element).toggleClass(Ze)},n.prototype.dispose=function(){Ye.removeData(this._element,Xe),this._element=null},n._jQueryInterface=function(t){return this.each(function(){var e=Ye(this).data(Xe);e||(e=new n(this),Ye(this).data(Xe,e)),"toggle"===t&&e[t]()})},It(n,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.5"}}]),n}(),Ye(document).on(st.CLICK_DATA_API,nt,function(e){e.preventDefault();var t=e.target;Ye(t).hasClass(et)||(t=Ye(t).closest(at)),lt._jQueryInterface.call(Ye(t),"toggle")}).on(st.FOCUS_BLUR_DATA_API,nt,function(e){var t=Ye(e.target).closest(at)[0];Ye(t).toggleClass(tt,/^focus(in)?$/.test(e.type))}),Ye.fn[Ke]=lt._jQueryInterface,Ye.fn[Ke].Constructor=lt,Ye.fn[Ke].noConflict=function(){return Ye.fn[Ke]=Je,lt._jQueryInterface},Ae=jQuery,De="carousel",Oe="."+(Re="bs.carousel"),Ie=".data-api",Be=Ae.fn[De],Le={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0},Pe={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},Me="next",He="prev",Fe={SLIDE:"slide"+Oe,SLID:"slid"+Oe,KEYDOWN:"keydown"+Oe,MOUSEENTER:"mouseenter"+Oe,MOUSELEAVE:"mouseleave"+Oe,LOAD_DATA_API:"load"+Oe+Ie,CLICK_DATA_API:"click"+Oe+Ie},$e="carousel",je="active",ze="slide",We="right",qe="left",Ue={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",NEXT_PREV:".next, .prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},Ve=function(){function o(e,t){b(this,o),this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this._config=this._getConfig(t),this._element=Ae(e)[0],this._indicatorsElement=Ae(this._element).find(Ue.INDICATORS)[0],this._addEventListeners()}return o.prototype.next=function(){this._isSliding||this._slide(Me)},o.prototype.nextWhenVisible=function(){document.hidden||this.next()},o.prototype.prev=function(){this._isSliding||this._slide(He)},o.prototype.pause=function(e){e||(this._isPaused=!0),Ae(this._element).find(Ue.NEXT_PREV)[0]&&Bt.supportsTransitionEnd()&&(Bt.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},o.prototype.cycle=function(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval(Ae.proxy(document.visibilityState?this.nextWhenVisible:this.next,this),this._config.interval))},o.prototype.to=function(e){var t=this;this._activeElement=Ae(this._element).find(Ue.ACTIVE_ITEM)[0];var n=this._getItemIndex(this._activeElement);if(!(e>this._items.length-1||e<0)){if(this._isSliding)return void Ae(this._element).one(Fe.SLID,function(){return t.to(e)});if(n===e)return this.pause(),void this.cycle();var i=n<e?Me:He;this._slide(i,this._items[e])}},o.prototype.dispose=function(){Ae(this._element).off(Oe),Ae.removeData(this._element,Re),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},o.prototype._getConfig=function(e){return e=Ae.extend({},Le,e),Bt.typeCheckConfig(De,e,Pe),e},o.prototype._addEventListeners=function(){this._config.keyboard&&Ae(this._element).on(Fe.KEYDOWN,Ae.proxy(this._keydown,this)),"hover"!==this._config.pause||"ontouchstart"in document.documentElement||Ae(this._element).on(Fe.MOUSEENTER,Ae.proxy(this.pause,this)).on(Fe.MOUSELEAVE,Ae.proxy(this.cycle,this))},o.prototype._keydown=function(e){if(e.preventDefault(),!/input|textarea/i.test(e.target.tagName))switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}},o.prototype._getItemIndex=function(e){return this._items=Ae.makeArray(Ae(e).parent().find(Ue.ITEM)),this._items.indexOf(e)},o.prototype._getItemByDirection=function(e,t){var n=e===Me,i=e===He,r=this._getItemIndex(t),o=this._items.length-1;if((i&&0===r||n&&r===o)&&!this._config.wrap)return t;var a=(r+(e===He?-1:1))%this._items.length;return-1===a?this._items[this._items.length-1]:this._items[a]},o.prototype._triggerSlideEvent=function(e,t){var n=Ae.Event(Fe.SLIDE,{relatedTarget:e,direction:t});return Ae(this._element).trigger(n),n},o.prototype._setActiveIndicatorElement=function(e){if(this._indicatorsElement){Ae(this._indicatorsElement).find(Ue.ACTIVE).removeClass(je);var t=this._indicatorsElement.children[this._getItemIndex(e)];t&&Ae(t).addClass(je)}},o.prototype._slide=function(e,t){var n=this,i=Ae(this._element).find(Ue.ACTIVE_ITEM)[0],r=t||i&&this._getItemByDirection(e,i),o=Boolean(this._interval),a=e===Me?qe:We;if(r&&Ae(r).hasClass(je))this._isSliding=!1;else if(!this._triggerSlideEvent(r,a).isDefaultPrevented()&&i&&r){this._isSliding=!0,o&&this.pause(),this._setActiveIndicatorElement(r);var s=Ae.Event(Fe.SLID,{relatedTarget:r,direction:a});Bt.supportsTransitionEnd()&&Ae(this._element).hasClass(ze)?(Ae(r).addClass(e),Bt.reflow(r),Ae(i).addClass(a),Ae(r).addClass(a),Ae(i).one(Bt.TRANSITION_END,function(){Ae(r).removeClass(a).removeClass(e),Ae(r).addClass(je),Ae(i).removeClass(je).removeClass(e).removeClass(a),n._isSliding=!1,setTimeout(function(){return Ae(n._element).trigger(s)},0)}).emulateTransitionEnd(600)):(Ae(i).removeClass(je),Ae(r).addClass(je),this._isSliding=!1,Ae(this._element).trigger(s)),o&&this.cycle()}},o._jQueryInterface=function(i){return this.each(function(){var e=Ae(this).data(Re),t=Ae.extend({},Le,Ae(this).data());"object"===(void 0===i?"undefined":Ot(i))&&Ae.extend(t,i);var n="string"==typeof i?i:t.slide;if(e||(e=new o(this,t),Ae(this).data(Re,e)),"number"==typeof i)e.to(i);else if("string"==typeof n){if(void 0===e[n])throw new Error('No method named "'+n+'"');e[n]()}else t.interval&&(e.pause(),e.cycle())})},o._dataApiClickHandler=function(e){var t=Bt.getSelectorFromElement(this);if(t){var n=Ae(t)[0];if(n&&Ae(n).hasClass($e)){var i=Ae.extend({},Ae(n).data(),Ae(this).data()),r=this.getAttribute("data-slide-to");r&&(i.interval=!1),o._jQueryInterface.call(Ae(n),i),r&&Ae(n).data(Re).to(r),e.preventDefault()}}},It(o,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.5"}},{key:"Default",get:function(){return Le}}]),o}(),Ae(document).on(Fe.CLICK_DATA_API,Ue.DATA_SLIDE,Ve._dataApiClickHandler),Ae(window).on(Fe.LOAD_DATA_API,function(){Ae(Ue.DATA_RIDE).each(function(){var e=Ae(this);Ve._jQueryInterface.call(e,e.data())})}),Ae.fn[De]=Ve._jQueryInterface,Ae.fn[De].Constructor=Ve,Ae.fn[De].noConflict=function(){return Ae.fn[De]=Be,Ve._jQueryInterface},fe=jQuery,he="collapse",ge="."+(pe="bs.collapse"),me=fe.fn[he],ve={toggle:!0,parent:""},ye={toggle:"boolean",parent:"string"},be={SHOW:"show"+ge,SHOWN:"shown"+ge,HIDE:"hide"+ge,HIDDEN:"hidden"+ge,CLICK_DATA_API:"click"+ge+".data-api"},Ce="in",xe="collapse",we="collapsing",_e="collapsed",Ee="width",Te="height",Se=".card > .in, .card > .collapsing",Ne='[data-toggle="collapse"]',ke=function(){function s(e,t){b(this,s),this._isTransitioning=!1,this._element=e,this._config=this._getConfig(t),this._triggerArray=fe.makeArray(fe('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]')),this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}return s.prototype.toggle=function(){fe(this._element).hasClass(Ce)?this.hide():this.show()},s.prototype.show=function(){var e=this;if(!this._isTransitioning&&!fe(this._element).hasClass(Ce)){var t=void 0,n=void 0;if(this._parent&&((t=fe.makeArray(fe(Se))).length||(t=null)),!(t&&((n=fe(t).data(pe))&&n._isTransitioning))){var i=fe.Event(be.SHOW);if(fe(this._element).trigger(i),!i.isDefaultPrevented()){t&&(s._jQueryInterface.call(fe(t),"hide"),n||fe(t).data(pe,null));var r=this._getDimension();fe(this._element).removeClass(xe).addClass(we),this._element.style[r]=0,this._element.setAttribute("aria-expanded",!0),this._triggerArray.length&&fe(this._triggerArray).removeClass(_e).attr("aria-expanded",!0),this.setTransitioning(!0);var o=function(){fe(e._element).removeClass(we).addClass(xe).addClass(Ce),e._element.style[r]="",e.setTransitioning(!1),fe(e._element).trigger(be.SHOWN)};if(!Bt.supportsTransitionEnd())return void o();var a="scroll"+(r[0].toUpperCase()+r.slice(1));fe(this._element).one(Bt.TRANSITION_END,o).emulateTransitionEnd(600),this._element.style[r]=this._element[a]+"px"}}}},s.prototype.hide=function(){var e=this;if(!this._isTransitioning&&fe(this._element).hasClass(Ce)){var t=fe.Event(be.HIDE);if(fe(this._element).trigger(t),!t.isDefaultPrevented()){var n=this._getDimension(),i=n===Ee?"offsetWidth":"offsetHeight";this._element.style[n]=this._element[i]+"px",Bt.reflow(this._element),fe(this._element).addClass(we).removeClass(xe).removeClass(Ce),this._element.setAttribute("aria-expanded",!1),this._triggerArray.length&&fe(this._triggerArray).addClass(_e).attr("aria-expanded",!1),this.setTransitioning(!0);var r=function(){e.setTransitioning(!1),fe(e._element).removeClass(we).addClass(xe).trigger(be.HIDDEN)};return this._element.style[n]="",Bt.supportsTransitionEnd()?void fe(this._element).one(Bt.TRANSITION_END,r).emulateTransitionEnd(600):void r()}}},s.prototype.setTransitioning=function(e){this._isTransitioning=e},s.prototype.dispose=function(){fe.removeData(this._element,pe),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},s.prototype._getConfig=function(e){return(e=fe.extend({},ve,e)).toggle=Boolean(e.toggle),Bt.typeCheckConfig(he,e,ye),e},s.prototype._getDimension=function(){return fe(this._element).hasClass(Ee)?Ee:Te},s.prototype._getParent=function(){var n=this,e=fe(this._config.parent)[0],t='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]';return fe(e).find(t).each(function(e,t){n._addAriaAndCollapsedClass(s._getTargetFromElement(t),[t])}),e},s.prototype._addAriaAndCollapsedClass=function(e,t){if(e){var n=fe(e).hasClass(Ce);e.setAttribute("aria-expanded",n),t.length&&fe(t).toggleClass(_e,!n).attr("aria-expanded",n)}},s._getTargetFromElement=function(e){var t=Bt.getSelectorFromElement(e);return t?fe(t)[0]:null},s._jQueryInterface=function(i){return this.each(function(){var e=fe(this),t=e.data(pe),n=fe.extend({},ve,e.data(),"object"===(void 0===i?"undefined":Ot(i))&&i);if(!t&&n.toggle&&/show|hide/.test(i)&&(n.toggle=!1),t||(t=new s(this,n),e.data(pe,t)),"string"==typeof i){if(void 0===t[i])throw new Error('No method named "'+i+'"');t[i]()}})},It(s,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.5"}},{key:"Default",get:function(){return ve}}]),s}(),fe(document).on(be.CLICK_DATA_API,Ne,function(e){e.preventDefault();var t=ke._getTargetFromElement(this),n=fe(t).data(pe)?"toggle":fe(this).data();ke._jQueryInterface.call(fe(t),n)}),fe.fn[he]=ke._jQueryInterface,fe.fn[he].Constructor=ke,fe.fn[he].noConflict=function(){return fe.fn[he]=me,ke._jQueryInterface},K=jQuery,X="dropdown",Q="."+(G="bs.dropdown"),J=".data-api",Z=K.fn[X],ee={HIDE:"hide"+Q,HIDDEN:"hidden"+Q,SHOW:"show"+Q,SHOWN:"shown"+Q,CLICK:"click"+Q,CLICK_DATA_API:"click"+Q+J,KEYDOWN_DATA_API:"keydown"+Q+J},te="dropdown-backdrop",ne="disabled",ie="open",re=".dropdown-backdrop",oe='[data-toggle="dropdown"]',ae=".dropdown form",se='[role="menu"]',le='[role="listbox"]',ce=".navbar-nav",ue='[role="menu"] li:not(.disabled) a, [role="listbox"] li:not(.disabled) a',de=function(){function s(e){b(this,s),this._element=e,this._addEventListeners()}return s.prototype.toggle=function(){if(this.disabled||K(this).hasClass(ne))return!1;var e=s._getParentFromElement(this),t=K(e).hasClass(ie);if(s._clearMenus(),t)return!1;if("ontouchstart"in document.documentElement&&!K(e).closest(ce).length){var n=document.createElement("div");n.className=te,K(n).insertBefore(this),K(n).on("click",s._clearMenus)}var i={relatedTarget:this},r=K.Event(ee.SHOW,i);return K(e).trigger(r),!r.isDefaultPrevented()&&(this.focus(),this.setAttribute("aria-expanded","true"),K(e).toggleClass(ie),K(e).trigger(K.Event(ee.SHOWN,i)),!1)},s.prototype.dispose=function(){K.removeData(this._element,G),K(this._element).off(Q),this._element=null},s.prototype._addEventListeners=function(){K(this._element).on(ee.CLICK,this.toggle)},s._jQueryInterface=function(t){return this.each(function(){var e=K(this).data(G);if(e||K(this).data(G,e=new s(this)),"string"==typeof t){if(void 0===e[t])throw new Error('No method named "'+t+'"');e[t].call(this)}})},s._clearMenus=function(e){if(!e||3!==e.which){var t=K(re)[0];t&&t.parentNode.removeChild(t);for(var n=K.makeArray(K(oe)),i=0;i<n.length;i++){var r=s._getParentFromElement(n[i]),o={relatedTarget:n[i]};if(K(r).hasClass(ie)&&!(e&&"click"===e.type&&/input|textarea/i.test(e.target.tagName)&&K.contains(r,e.target))){var a=K.Event(ee.HIDE,o);K(r).trigger(a),a.isDefaultPrevented()||(n[i].setAttribute("aria-expanded","false"),K(r).removeClass(ie).trigger(K.Event(ee.HIDDEN,o)))}}}},s._getParentFromElement=function(e){var t=void 0,n=Bt.getSelectorFromElement(e);return n&&(t=K(n)[0]),t||e.parentNode},s._dataApiKeydownHandler=function(e){if(/(38|40|27|32)/.test(e.which)&&!/input|textarea/i.test(e.target.tagName)&&(e.preventDefault(),e.stopPropagation(),!this.disabled&&!K(this).hasClass(ne))){var t=s._getParentFromElement(this),n=K(t).hasClass(ie);if(!n&&27!==e.which||n&&27===e.which){if(27===e.which){var i=K(t).find(oe)[0];K(i).trigger("focus")}return void K(this).trigger("click")}var r=K.makeArray(K(ue));if((r=r.filter(function(e){return e.offsetWidth||e.offsetHeight})).length){var o=r.indexOf(e.target);38===e.which&&0<o&&o--,40===e.which&&o<r.length-1&&o++,o<0&&(o=0),r[o].focus()}}},It(s,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.5"}}]),s}(),K(document).on(ee.KEYDOWN_DATA_API,oe,de._dataApiKeydownHandler).on(ee.KEYDOWN_DATA_API,se,de._dataApiKeydownHandler).on(ee.KEYDOWN_DATA_API,le,de._dataApiKeydownHandler).on(ee.CLICK_DATA_API,de._clearMenus).on(ee.CLICK_DATA_API,oe,de.prototype.toggle).on(ee.CLICK_DATA_API,ae,function(e){e.stopPropagation()}),K.fn[X]=de._jQueryInterface,K.fn[X].Constructor=de,K.fn[X].noConflict=function(){return K.fn[X]=Z,de._jQueryInterface},I=jQuery,B="modal",P="."+(L="bs.modal"),M=I.fn[B],H={backdrop:!0,keyboard:!0,focus:!0,show:!0},F={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},$={HIDE:"hide"+P,HIDDEN:"hidden"+P,SHOW:"show"+P,SHOWN:"shown"+P,FOCUSIN:"focusin"+P,RESIZE:"resize"+P,CLICK_DISMISS:"click.dismiss"+P,KEYDOWN_DISMISS:"keydown.dismiss"+P,MOUSEUP_DISMISS:"mouseup.dismiss"+P,MOUSEDOWN_DISMISS:"mousedown.dismiss"+P,CLICK_DATA_API:"click"+P+".data-api"},j="modal-scrollbar-measure",z="modal-backdrop",W="modal-open",q="fade",U="in",V={DIALOG:".modal-dialog",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".navbar-fixed-top, .navbar-fixed-bottom, .is-fixed"},Y=function(){function r(e,t){b(this,r),this._config=this._getConfig(t),this._element=e,this._dialog=I(e).find(V.DIALOG)[0],this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._originalBodyPadding=0,this._scrollbarWidth=0}return r.prototype.toggle=function(e){return this._isShown?this.hide():this.show(e)},r.prototype.show=function(e){var t=this,n=I.Event($.SHOW,{relatedTarget:e});I(this._element).trigger(n),this._isShown||n.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),I(document.body).addClass(W),this._setEscapeEvent(),this._setResizeEvent(),I(this._element).on($.CLICK_DISMISS,V.DATA_DISMISS,I.proxy(this.hide,this)),I(this._dialog).on($.MOUSEDOWN_DISMISS,function(){I(t._element).one($.MOUSEUP_DISMISS,function(e){I(e.target).is(t._element)&&(t._ignoreBackdropClick=!0)})}),this._showBackdrop(I.proxy(this._showElement,this,e)))},r.prototype.hide=function(e){e&&e.preventDefault();var t=I.Event($.HIDE);I(this._element).trigger(t),this._isShown&&!t.isDefaultPrevented()&&(this._isShown=!1,this._setEscapeEvent(),this._setResizeEvent(),I(document).off($.FOCUSIN),I(this._element).removeClass(U),I(this._element).off($.CLICK_DISMISS),I(this._dialog).off($.MOUSEDOWN_DISMISS),Bt.supportsTransitionEnd()&&I(this._element).hasClass(q)?I(this._element).one(Bt.TRANSITION_END,I.proxy(this._hideModal,this)).emulateTransitionEnd(300):this._hideModal())},r.prototype.dispose=function(){I.removeData(this._element,L),I(window).off(P),I(document).off(P),I(this._element).off(P),I(this._backdrop).off(P),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._originalBodyPadding=null,this._scrollbarWidth=null},r.prototype._getConfig=function(e){return e=I.extend({},H,e),Bt.typeCheckConfig(B,e,F),e},r.prototype._showElement=function(e){var t=this,n=Bt.supportsTransitionEnd()&&I(this._element).hasClass(q);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.scrollTop=0,n&&Bt.reflow(this._element),I(this._element).addClass(U),this._config.focus&&this._enforceFocus();var i=I.Event($.SHOWN,{relatedTarget:e}),r=function(){t._config.focus&&t._element.focus(),I(t._element).trigger(i)};n?I(this._dialog).one(Bt.TRANSITION_END,r).emulateTransitionEnd(300):r()},r.prototype._enforceFocus=function(){var t=this;I(document).off($.FOCUSIN).on($.FOCUSIN,function(e){document===e.target||t._element===e.target||I(t._element).has(e.target).length||t._element.focus()})},r.prototype._setEscapeEvent=function(){var t=this;this._isShown&&this._config.keyboard?I(this._element).on($.KEYDOWN_DISMISS,function(e){27===e.which&&t.hide()}):this._isShown||I(this._element).off($.KEYDOWN_DISMISS)},r.prototype._setResizeEvent=function(){this._isShown?I(window).on($.RESIZE,I.proxy(this._handleUpdate,this)):I(window).off($.RESIZE)},r.prototype._hideModal=function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden","true"),this._showBackdrop(function(){I(document.body).removeClass(W),e._resetAdjustments(),e._resetScrollbar(),I(e._element).trigger($.HIDDEN)})},r.prototype._removeBackdrop=function(){this._backdrop&&(I(this._backdrop).remove(),this._backdrop=null)},r.prototype._showBackdrop=function(e){var t=this,n=I(this._element).hasClass(q)?q:"";if(this._isShown&&this._config.backdrop){var i=Bt.supportsTransitionEnd()&&n;if(this._backdrop=document.createElement("div"),this._backdrop.className=z,n&&I(this._backdrop).addClass(n),I(this._backdrop).appendTo(document.body),I(this._element).on($.CLICK_DISMISS,function(e){return t._ignoreBackdropClick?void(t._ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"===t._config.backdrop?t._element.focus():t.hide()))}),i&&Bt.reflow(this._backdrop),I(this._backdrop).addClass(U),!e)return;if(!i)return void e();I(this._backdrop).one(Bt.TRANSITION_END,e).emulateTransitionEnd(150)}else if(!this._isShown&&this._backdrop){I(this._backdrop).removeClass(U);var r=function(){t._removeBackdrop(),e&&e()};Bt.supportsTransitionEnd()&&I(this._element).hasClass(q)?I(this._backdrop).one(Bt.TRANSITION_END,r).emulateTransitionEnd(150):r()}else e&&e()},r.prototype._handleUpdate=function(){this._adjustDialog()},r.prototype._adjustDialog=function(){var e=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&e&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!e&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},r.prototype._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},r.prototype._checkScrollbar=function(){this._isBodyOverflowing=document.body.clientWidth<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},r.prototype._setScrollbar=function(){var e=parseInt(I(V.FIXED_CONTENT).css("padding-right")||0,10);this._originalBodyPadding=document.body.style.paddingRight||"",this._isBodyOverflowing&&(document.body.style.paddingRight=e+this._scrollbarWidth+"px")},r.prototype._resetScrollbar=function(){document.body.style.paddingRight=this._originalBodyPadding},r.prototype._getScrollbarWidth=function(){var e=document.createElement("div");e.className=j,document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t},r._jQueryInterface=function(n,i){return this.each(function(){var e=I(this).data(L),t=I.extend({},r.Default,I(this).data(),"object"===(void 0===n?"undefined":Ot(n))&&n);if(e||(e=new r(this,t),I(this).data(L,e)),"string"==typeof n){if(void 0===e[n])throw new Error('No method named "'+n+'"');e[n](i)}else t.show&&e.show(i)})},It(r,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.5"}},{key:"Default",get:function(){return H}}]),r}(),I(document).on($.CLICK_DATA_API,V.DATA_TOGGLE,function(e){var t=this,n=void 0,i=Bt.getSelectorFromElement(this);i&&(n=I(i)[0]);var r=I(n).data(L)?"toggle":I.extend({},I(n).data(),I(this).data());"A"===this.tagName&&e.preventDefault();var o=I(n).one($.SHOW,function(e){e.isDefaultPrevented()||o.one($.HIDDEN,function(){I(t).is(":visible")&&t.focus()})});Y._jQueryInterface.call(I(n),r,this)}),I.fn[B]=Y._jQueryInterface,I.fn[B].Constructor=Y,I.fn[B].noConflict=function(){return I.fn[B]=M,Y._jQueryInterface},o=jQuery,C="scrollspy",w="."+(x="bs.scrollspy"),_=o.fn[C],E={offset:10,method:"auto",target:""},T={offset:"number",method:"string",target:"(string|element)"},S={ACTIVATE:"activate"+w,SCROLL:"scroll"+w,LOAD_DATA_API:"load"+w+".data-api"},N="dropdown-item",k="active",A={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",LIST_ITEM:".list-item",LI:"li",LI_DROPDOWN:"li.dropdown",NAV_LINKS:".nav-link",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},D="offset",R="position",O=function(){function i(e,t){b(this,i),this._element=e,this._scrollElement="BODY"===e.tagName?window:e,this._config=this._getConfig(t),this._selector=this._config.target+" "+A.NAV_LINKS+","+this._config.target+" "+A.DROPDOWN_ITEMS,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,o(this._scrollElement).on(S.SCROLL,o.proxy(this._process,this)),this.refresh(),this._process()}return i.prototype.refresh=function(){var t=this,e=this._scrollElement!==this._scrollElement.window?R:D,i="auto"===this._config.method?e:this._config.method,r=i===R?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),o.makeArray(o(this._selector)).map(function(e){var t=void 0,n=Bt.getSelectorFromElement(e);return n&&(t=o(n)[0]),t&&(t.offsetWidth||t.offsetHeight)?[o(t)[i]().top+r,n]:null}).filter(function(e){return e}).sort(function(e,t){return e[0]-t[0]}).forEach(function(e){t._offsets.push(e[0]),t._targets.push(e[1])})},i.prototype.dispose=function(){o.removeData(this._element,x),o(this._scrollElement).off(w),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},i.prototype._getConfig=function(e){if("string"!=typeof(e=o.extend({},E,e)).target){var t=o(e.target).attr("id");t||(t=Bt.getUID(C),o(e.target).attr("id",t)),e.target="#"+t}return Bt.typeCheckConfig(C,e,T),e},i.prototype._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.scrollY:this._scrollElement.scrollTop},i.prototype._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},i.prototype._process=function(){var e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),n=this._config.offset+t-this._scrollElement.offsetHeight;if(this._scrollHeight!==t&&this.refresh(),n<=e){var i=this._targets[this._targets.length-1];this._activeTarget!==i&&this._activate(i)}if(this._activeTarget&&e<this._offsets[0])return this._activeTarget=null,void this._clear();for(var r=this._offsets.length;r--;){this._activeTarget!==this._targets[r]&&e>=this._offsets[r]&&(void 0===this._offsets[r+1]||e<this._offsets[r+1])&&this._activate(this._targets[r])}},i.prototype._activate=function(t){this._activeTarget=t,this._clear();var e=this._selector.split(",");e=e.map(function(e){return e+'[data-target="'+t+'"],'+e+'[href="'+t+'"]'});var n=o(e.join(","));n.hasClass(N)?(n.closest(A.DROPDOWN).find(A.DROPDOWN_TOGGLE).addClass(k),n.addClass(k)):n.parents(A.LI).find(A.NAV_LINKS).addClass(k),o(this._scrollElement).trigger(S.ACTIVATE,{relatedTarget:t})},i.prototype._clear=function(){o(this._selector).filter(A.ACTIVE).removeClass(k)},i._jQueryInterface=function(n){return this.each(function(){var e=o(this).data(x),t="object"===(void 0===n?"undefined":Ot(n))&&n||null;if(e||(e=new i(this,t),o(this).data(x,e)),"string"==typeof n){if(void 0===e[n])throw new Error('No method named "'+n+'"');e[n]()}})},It(i,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.5"}},{key:"Default",get:function(){return E}}]),i}(),o(window).on(S.LOAD_DATA_API,function(){for(var e=o.makeArray(o(A.DATA_SPY)),t=e.length;t--;){var n=o(e[t]);O._jQueryInterface.call(n,n.data())}}),o.fn[C]=O._jQueryInterface,o.fn[C].Constructor=O,o.fn[C].noConflict=function(){return o.fn[C]=_,O._jQueryInterface},l=jQuery,e="."+(r="bs.tab"),t=l.fn.tab,c={HIDE:"hide"+e,HIDDEN:"hidden"+e,SHOW:"show"+e,SHOWN:"shown"+e,CLICK_DATA_API:"click"+e+".data-api"},a="dropdown-menu",u="active",s="fade",d="in",f=".dropdown",h="ul:not(.dropdown-menu)",p="> .nav-item .fade, > .fade",g=".active",m="> .nav-item > .active, > .active",n='[data-toggle="tab"], [data-toggle="pill"]',v=".dropdown-toggle",y="> .dropdown-menu .active",i=function(){function i(e){b(this,i),this._element=e}return i.prototype.show=function(){var n=this;if(!this._element.parentNode||this._element.parentNode.nodeType!==Node.ELEMENT_NODE||!l(this._element).hasClass(u)){var e=void 0,i=void 0,t=l(this._element).closest(h)[0],r=Bt.getSelectorFromElement(this._element);t&&(i=(i=l.makeArray(l(t).find(g)))[i.length-1]);var o=l.Event(c.HIDE,{relatedTarget:this._element}),a=l.Event(c.SHOW,{relatedTarget:i});if(i&&l(i).trigger(o),l(this._element).trigger(a),!a.isDefaultPrevented()&&!o.isDefaultPrevented()){r&&(e=l(r)[0]),this._activate(this._element,t);var s=function(){var e=l.Event(c.HIDDEN,{relatedTarget:n._element}),t=l.Event(c.SHOWN,{relatedTarget:i});l(i).trigger(e),l(n._element).trigger(t)};e?this._activate(e,e.parentNode,s):s()}}},i.prototype.dispose=function(){l.removeClass(this._element,r),this._element=null},i.prototype._activate=function(e,t,n){var i=l(t).find(m)[0],r=n&&Bt.supportsTransitionEnd()&&(i&&l(i).hasClass(s)||Boolean(l(t).find(p)[0])),o=l.proxy(this._transitionComplete,this,e,i,r,n);i&&r?l(i).one(Bt.TRANSITION_END,o).emulateTransitionEnd(150):o(),i&&l(i).removeClass(d)},i.prototype._transitionComplete=function(e,t,n,i){if(t){l(t).removeClass(u);var r=l(t).find(y)[0];r&&l(r).removeClass(u),t.setAttribute("aria-expanded",!1)}if(l(e).addClass(u),e.setAttribute("aria-expanded",!0),n?(Bt.reflow(e),l(e).addClass(d)):l(e).removeClass(s),e.parentNode&&l(e.parentNode).hasClass(a)){var o=l(e).closest(f)[0];o&&l(o).find(v).addClass(u),e.setAttribute("aria-expanded",!0)}i&&i()},i._jQueryInterface=function(n){return this.each(function(){var e=l(this),t=e.data(r);if(t||(t=t=new i(this),e.data(r,t)),"string"==typeof n){if(void 0===t[n])throw new Error('No method named "'+n+'"');t[n]()}})},It(i,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.5"}}]),i}(),l(document).on(c.CLICK_DATA_API,n,function(e){e.preventDefault(),i._jQueryInterface.call(l(this),"show")}),l.fn.tab=i._jQueryInterface,l.fn.tab.Constructor=i,l.fn.tab.noConflict=function(){return l.fn.tab=t,i._jQueryInterface},function(c){if(void 0===window.Tether)throw new Error("Bootstrap tooltips require Tether (http://tether.io/)");var t="tooltip",i="bs.tooltip",e="."+i,n=c.fn[t],r={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:"0 0",constraints:[]},o={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"string",constraints:"array"},a={TOP:"bottom center",RIGHT:"middle left",BOTTOM:"top center",LEFT:"middle right"},s="in",u="out",d={HIDE:"hide"+e,HIDDEN:"hidden"+e,SHOW:"show"+e,SHOWN:"shown"+e,INSERTED:"inserted"+e,CLICK:"click"+e,FOCUSIN:"focusin"+e,FOCUSOUT:"focusout"+e,MOUSEENTER:"mouseenter"+e,MOUSELEAVE:"mouseleave"+e},f="fade",h="in",p=".tooltip-inner",g={element:!1,enabled:!1},m="hover",v="focus",y="manual",l=function(){function l(e,t){b(this,l),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._tether=null,this.element=e,this.config=this._getConfig(t),this.tip=null,this._setListeners()}return l.prototype.enable=function(){this._isEnabled=!0},l.prototype.disable=function(){this._isEnabled=!1},l.prototype.toggleEnabled=function(){this._isEnabled=!this._isEnabled},l.prototype.toggle=function(e){if(e){var t=this.constructor.DATA_KEY,n=c(e.currentTarget).data(t);n||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),c(e.currentTarget).data(t,n)),n._activeTrigger.click=!n._activeTrigger.click,n._isWithActiveTrigger()?n._enter(null,n):n._leave(null,n)}else{if(c(this.getTipElement()).hasClass(h))return void this._leave(null,this);this._enter(null,this)}},l.prototype.dispose=function(){clearTimeout(this._timeout),this.cleanupTether(),c.removeData(this.element,this.constructor.DATA_KEY),c(this.element).off(this.constructor.EVENT_KEY),this.tip&&c(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._tether=null,this.element=null,this.config=null,this.tip=null},l.prototype.show=function(){var t=this,e=c.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){c(this.element).trigger(e);var n=c.contains(this.element.ownerDocument.documentElement,this.element);if(e.isDefaultPrevented()||!n)return;var i=this.getTipElement(),r=Bt.getUID(this.constructor.NAME);i.setAttribute("id",r),this.element.setAttribute("aria-describedby",r),this.setContent(),this.config.animation&&c(i).addClass(f);var o="function"==typeof this.config.placement?this.config.placement.call(this,i,this.element):this.config.placement,a=this._getAttachment(o);c(i).data(this.constructor.DATA_KEY,this).appendTo(document.body),c(this.element).trigger(this.constructor.Event.INSERTED),this._tether=new Tether({attachment:a,element:i,target:this.element,classes:g,classPrefix:"bs-tether",offset:this.config.offset,constraints:this.config.constraints,addTargetClasses:!1}),Bt.reflow(i),this._tether.position(),c(i).addClass(h);var s=function(){var e=t._hoverState;t._hoverState=null,c(t.element).trigger(t.constructor.Event.SHOWN),e===u&&t._leave(null,t)};if(Bt.supportsTransitionEnd()&&c(this.tip).hasClass(f))return void c(this.tip).one(Bt.TRANSITION_END,s).emulateTransitionEnd(l._TRANSITION_DURATION);s()}},l.prototype.hide=function(e){var t=this,n=this.getTipElement(),i=c.Event(this.constructor.Event.HIDE),r=function(){t._hoverState!==s&&n.parentNode&&n.parentNode.removeChild(n),t.element.removeAttribute("aria-describedby"),c(t.element).trigger(t.constructor.Event.HIDDEN),t.cleanupTether(),e&&e()};c(this.element).trigger(i),i.isDefaultPrevented()||(c(n).removeClass(h),Bt.supportsTransitionEnd()&&c(this.tip).hasClass(f)?c(n).one(Bt.TRANSITION_END,r).emulateTransitionEnd(150):r(),this._hoverState="")},l.prototype.isWithContent=function(){return Boolean(this.getTitle())},l.prototype.getTipElement=function(){return this.tip=this.tip||c(this.config.template)[0]},l.prototype.setContent=function(){var e=c(this.getTipElement());this.setElementContent(e.find(p),this.getTitle()),e.removeClass(f).removeClass(h),this.cleanupTether()},l.prototype.setElementContent=function(e,t){var n=this.config.html;"object"===(void 0===t?"undefined":Ot(t))&&(t.nodeType||t.jquery)?n?c(t).parent().is(e)||e.empty().append(t):e.text(c(t).text()):e[n?"html":"text"](t)},l.prototype.getTitle=function(){var e=this.element.getAttribute("data-original-title");return e||(e="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),e},l.prototype.cleanupTether=function(){this._tether&&this._tether.destroy()},l.prototype._getAttachment=function(e){return a[e.toUpperCase()]},l.prototype._setListeners=function(){var i=this;this.config.trigger.split(" ").forEach(function(e){if("click"===e)c(i.element).on(i.constructor.Event.CLICK,i.config.selector,c.proxy(i.toggle,i));else if(e!==y){var t=e===m?i.constructor.Event.MOUSEENTER:i.constructor.Event.FOCUSIN,n=e===m?i.constructor.Event.MOUSELEAVE:i.constructor.Event.FOCUSOUT;c(i.element).on(t,i.config.selector,c.proxy(i._enter,i)).on(n,i.config.selector,c.proxy(i._leave,i))}}),this.config.selector?this.config=c.extend({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},l.prototype._fixTitle=function(){var e=Ot(this.element.getAttribute("data-original-title"));(this.element.getAttribute("title")||"string"!==e)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},l.prototype._enter=function(e,t){var n=this.constructor.DATA_KEY;return(t=t||c(e.currentTarget).data(n))||(t=new this.constructor(e.currentTarget,this._getDelegateConfig()),c(e.currentTarget).data(n,t)),e&&(t._activeTrigger["focusin"===e.type?v:m]=!0),c(t.getTipElement()).hasClass(h)||t._hoverState===s?void(t._hoverState=s):(clearTimeout(t._timeout),t._hoverState=s,t.config.delay&&t.config.delay.show?void(t._timeout=setTimeout(function(){t._hoverState===s&&t.show()},t.config.delay.show)):void t.show())},l.prototype._leave=function(e,t){var n=this.constructor.DATA_KEY;if((t=t||c(e.currentTarget).data(n))||(t=new this.constructor(e.currentTarget,this._getDelegateConfig()),c(e.currentTarget).data(n,t)),e&&(t._activeTrigger["focusout"===e.type?v:m]=!1),!t._isWithActiveTrigger())return clearTimeout(t._timeout),t._hoverState=u,t.config.delay&&t.config.delay.hide?void(t._timeout=setTimeout(function(){t._hoverState===u&&t.hide()},t.config.delay.hide)):void t.hide()},l.prototype._isWithActiveTrigger=function(){for(var e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1},l.prototype._getConfig=function(e){return(e=c.extend({},this.constructor.Default,c(this.element).data(),e)).delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),Bt.typeCheckConfig(t,e,this.constructor.DefaultType),e},l.prototype._getDelegateConfig=function(){var e={};if(this.config)for(var t in this.config)this.constructor.Default[t]!==this.config[t]&&(e[t]=this.config[t]);return e},l._jQueryInterface=function(n){return this.each(function(){var e=c(this).data(i),t="object"===(void 0===n?"undefined":Ot(n))?n:null;if((e||!/dispose|hide/.test(n))&&(e||(e=new l(this,t),c(this).data(i,e)),"string"==typeof n)){if(void 0===e[n])throw new Error('No method named "'+n+'"');e[n]()}})},It(l,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.5"}},{key:"Default",get:function(){return r}},{key:"NAME",get:function(){return t}},{key:"DATA_KEY",get:function(){return i}},{key:"Event",get:function(){return d}},{key:"EVENT_KEY",get:function(){return e}},{key:"DefaultType",get:function(){return o}}]),l}();return c.fn[t]=l._jQueryInterface,c.fn[t].Constructor=l,c.fn[t].noConflict=function(){return c.fn[t]=n,l._jQueryInterface},l}(jQuery));bt=jQuery,Ct="popover",wt="."+(xt="bs.popover"),_t=bt.fn[Ct],Et=bt.extend({},Lt.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),Tt=bt.extend({},Lt.DefaultType,{content:"(string|element|function)"}),St="fade",Nt="in",kt=".popover-title",At=".popover-content",Dt={HIDE:"hide"+wt,HIDDEN:"hidden"+wt,SHOW:"show"+wt,SHOWN:"shown"+wt,INSERTED:"inserted"+wt,CLICK:"click"+wt,FOCUSIN:"focusin"+wt,FOCUSOUT:"focusout"+wt,MOUSEENTER:"mouseenter"+wt,MOUSELEAVE:"mouseleave"+wt},Rt=function(e){function i(){return b(this,i),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,e),i.prototype.isWithContent=function(){return this.getTitle()||this._getContent()},i.prototype.getTipElement=function(){return this.tip=this.tip||bt(this.config.template)[0]},i.prototype.setContent=function(){var e=bt(this.getTipElement());this.setElementContent(e.find(kt),this.getTitle()),this.setElementContent(e.find(At),this._getContent()),e.removeClass(St).removeClass(Nt),this.cleanupTether()},i.prototype._getContent=function(){return this.element.getAttribute("data-content")||("function"==typeof this.config.content?this.config.content.call(this.element):this.config.content)},i._jQueryInterface=function(n){return this.each(function(){var e=bt(this).data(xt),t="object"===(void 0===n?"undefined":Ot(n))?n:null;if((e||!/destroy|hide/.test(n))&&(e||(e=new i(this,t),bt(this).data(xt,e)),"string"==typeof n)){if(void 0===e[n])throw new Error('No method named "'+n+'"');e[n]()}})},It(i,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.5"}},{key:"Default",get:function(){return Et}},{key:"NAME",get:function(){return Ct}},{key:"DATA_KEY",get:function(){return xt}},{key:"Event",get:function(){return Dt}},{key:"EVENT_KEY",get:function(){return wt}},{key:"DefaultType",get:function(){return Tt}}]),i}(Lt),bt.fn[Ct]=Rt._jQueryInterface,bt.fn[Ct].Constructor=Rt,bt.fn[Ct].noConflict=function(){return bt.fn[Ct]=_t,Rt._jQueryInterface}}();var ResponsiveBootstrapToolkit=function(i){var s={detectionDivs:{bootstrap:{xs:i('<div class="device-xs visible-xs visible-xs-block"></div>'),sm:i('<div class="device-sm visible-sm visible-sm-block"></div>'),md:i('<div class="device-md visible-md visible-md-block"></div>'),lg:i('<div class="device-lg visible-lg visible-lg-block"></div>')},foundation:{small:i('<div class="device-xs show-for-small-only"></div>'),medium:i('<div class="device-sm show-for-medium-only"></div>'),large:i('<div class="device-md show-for-large-only"></div>'),xlarge:i('<div class="device-lg show-for-xlarge-only"></div>')}},applyDetectionDivs:function(){i(document).ready(function(){i.each(l.breakpoints,function(e){l.breakpoints[e].appendTo(".responsive-bootstrap-toolkit")})})},isAnExpression:function(e){return"<"==e.charAt(0)||">"==e.charAt(0)},splitExpression:function(e){var t=e.charAt(0),n="="==e.charAt(1),i=1+(n?1:0);return{operator:t,orEqual:n,breakpointName:e.slice(i)}},isAnyActive:function(e){var n=!1;return i.each(e,function(e,t){return l.breakpoints[t].is(":visible")?!(n=!0):void 0}),n},isMatchingExpression:function(e){var t=s.splitExpression(e),n=Object.keys(l.breakpoints),i=n.indexOf(t.breakpointName);if(-1!==i){var r=0,o=0;"<"==t.operator&&(r=0,o=t.orEqual?++i:i),">"==t.operator&&(r=t.orEqual?i:++i,o=void 0);var a=n.slice(r,o);return s.isAnyActive(a)}}},l={interval:300,framework:null,breakpoints:null,is:function(e){return s.isAnExpression(e)?s.isMatchingExpression(e):l.breakpoints[e]&&l.breakpoints[e].is(":visible")},use:function(e,t){l.framework=e.toLowerCase(),l.breakpoints="bootstrap"===l.framework||"foundation"===l.framework?s.detectionDivs[l.framework]:t,s.applyDetectionDivs()},current:function(){var t="unrecognized";return i.each(l.breakpoints,function(e){l.is(e)&&(t=e)}),t},changed:function(e,t){var n;return function(){clearTimeout(n),n=setTimeout(function(){e()},t||l.interval)}}};return i(document).ready(function(){i('<div class="responsive-bootstrap-toolkit"></div>').appendTo("body")}),null===l.framework&&l.use("bootstrap"),l}(jQuery);!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(c){c.extend(c.fn,{validate:function(e){if(this.length){var i=c.data(this[0],"validator");return i||(this.attr("novalidate","novalidate"),i=new c.validator(e,this[0]),c.data(this[0],"validator",i),i.settings.onsubmit&&(this.on("click.validate",":submit",function(e){i.settings.submitHandler&&(i.submitButton=e.target),c(this).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==c(this).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.on("submit.validate",function(n){function e(){var e,t;return!i.settings.submitHandler||(i.submitButton&&(e=c("<input type='hidden'/>").attr("name",i.submitButton.name).val(c(i.submitButton).val()).appendTo(i.currentForm)),t=i.settings.submitHandler.call(i,i.currentForm,n),i.submitButton&&e.remove(),void 0!==t&&t)}return i.settings.debug&&n.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,e()):i.form()?i.pendingRequest?!(i.formSubmitted=!0):e():(i.focusInvalid(),!1)})),i)}e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var e,t,n;return c(this[0]).is("form")?e=this.validate().form():(n=[],e=!0,t=c(this[0].form).validate(),this.each(function(){e=t.element(this)&&e,n=n.concat(t.errorList)}),t.errorList=n),e},rules:function(e,t){var n,i,r,o,a,s,l=this[0];if(e)switch(n=c.data(l.form,"validator").settings,i=n.rules,r=c.validator.staticRules(l),e){case"add":c.extend(r,c.validator.normalizeRule(t)),delete r.messages,i[l.name]=r,t.messages&&(n.messages[l.name]=c.extend(n.messages[l.name],t.messages));break;case"remove":return t?(s={},c.each(t.split(/\s/),function(e,t){s[t]=r[t],delete r[t],"required"===t&&c(l).removeAttr("aria-required")}),s):(delete i[l.name],r)}return(o=c.validator.normalizeRules(c.extend({},c.validator.classRules(l),c.validator.attributeRules(l),c.validator.dataRules(l),c.validator.staticRules(l)),l)).required&&(a=o.required,delete o.required,o=c.extend({required:a},o),c(l).attr("aria-required","true")),o.remote&&(a=o.remote,delete o.remote,o=c.extend(o,{remote:a})),o}}),c.extend(c.expr[":"],{blank:function(e){return!c.trim(""+c(e).val())},filled:function(e){return!!c.trim(""+c(e).val())},unchecked:function(e){return!c(e).prop("checked")}}),c.validator=function(e,t){this.settings=c.extend(!0,{},c.validator.defaults,e),this.currentForm=t,this.init()},c.validator.format=function(n,e){return 1===arguments.length?function(){var e=c.makeArray(arguments);return e.unshift(n),c.validator.format.apply(this,e)}:(2<arguments.length&&e.constructor!==Array&&(e=c.makeArray(arguments).slice(1)),e.constructor!==Array&&(e=[e]),c.each(e,function(e,t){n=n.replace(new RegExp("\\{"+e+"\\}","g"),function(){return t})}),n)},c.extend(c.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:c([]),errorLabelContainer:c([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e,t){9===t.which&&""===this.elementValue(e)||-1!==c.inArray(t.keyCode,[16,17,18,20,35,36,37,38,39,40,45,144,225])||(e.name in this.submitted||e===this.lastElement)&&this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(e,t,n){"radio"===e.type?this.findByName(e.name).addClass(t).removeClass(n):c(e).addClass(t).removeClass(n)},unhighlight:function(e,t,n){"radio"===e.type?this.findByName(e.name).removeClass(t).addClass(n):c(e).removeClass(t).addClass(n)}},setDefaults:function(e){c.extend(c.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:c.validator.format("Please enter no more than {0} characters."),minlength:c.validator.format("Please enter at least {0} characters."),rangelength:c.validator.format("Please enter a value between {0} and {1} characters long."),range:c.validator.format("Please enter a value between {0} and {1}."),max:c.validator.format("Please enter a value less than or equal to {0}."),min:c.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var t=c.data(this.form,"validator"),n="on"+e.type.replace(/^validate/,""),i=t.settings;i[n]&&!c(this).is(i.ignore)&&i[n].call(t,this,e)}this.labelContainer=c(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||c(this.currentForm),this.containers=c(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var n,i=this.groups={};c.each(this.settings.groups,function(n,e){"string"==typeof e&&(e=e.split(/\s/)),c.each(e,function(e,t){i[t]=n})}),n=this.settings.rules,c.each(n,function(e,t){n[e]=c.validator.normalizeRule(t)}),c(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']",e).on("click.validate","select, option, [type='radio'], [type='checkbox']",e),this.settings.invalidHandler&&c(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),c(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),c.extend(this.submitted,this.errorMap),this.invalid=c.extend({},this.errorMap),this.valid()||c(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(e){var t=this.clean(e),n=this.validationTargetFor(t),i=!0;return void 0===(this.lastElement=n)?delete this.invalid[t.name]:(this.prepareElement(n),this.currentElements=c(n),(i=!1!==this.check(n))?delete this.invalid[n.name]:this.invalid[n.name]=!0),c(e).attr("aria-invalid",!i),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),i},showErrors:function(t){if(t){for(var e in c.extend(this.errorMap,t),this.errorList=[],t)this.errorList.push({message:t[e],element:this.findByName(e)[0]});this.successList=c.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){c.fn.resetForm&&c(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors();var e,t=this.elements().removeData("previousValue").removeAttr("aria-invalid");if(this.settings.unhighlight)for(e=0;t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,"");else t.removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,n=0;for(t in e)n++;return n},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{c(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var t=this.lastActive;return t&&1===c.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var e=this,t={};return c(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){return!this.name&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),!(this.name in t||!e.objectLength(c(this).rules()))&&(t[this.name]=!0)})},clean:function(e){return c(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return c(this.settings.errorElement+"."+e,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=c([]),this.toHide=c([]),this.currentElements=c([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(e){var t,n=c(e),i=e.type;return"radio"===i||"checkbox"===i?this.findByName(e.name).filter(":checked").val():"number"===i&&void 0!==e.validity?!e.validity.badInput&&n.val():"string"==typeof(t=n.val())?t.replace(/\r/g,""):t},check:function(t){t=this.validationTargetFor(this.clean(t));var e,n,i,r=c(t).rules(),o=c.map(r,function(e,t){return t}).length,a=!1,s=this.elementValue(t);for(n in r){i={method:n,parameters:r[n]};try{if("dependency-mismatch"===(e=c.validator.methods[n].call(this,s,t,i.parameters))&&1===o){a=!0;continue}if(a=!1,"pending"===e)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!e)return this.formatAndAdd(t,i),!1}catch(e){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+i.method+"' method.",e),e instanceof TypeError&&(e.message+=".  Exception occurred when checking element "+t.id+", check the '"+i.method+"' method."),e}}if(!a)return this.objectLength(r)&&this.successList.push(t),!0},customDataMessage:function(e,t){return c(e).data("msg"+t.charAt(0).toUpperCase()+t.substring(1).toLowerCase())||c(e).data("msg")},customMessage:function(e,t){var n=this.settings.messages[e];return n&&(n.constructor===String?n:n[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(e,t){return this.findDefined(this.customMessage(e.name,t),this.customDataMessage(e,t),!this.settings.ignoreTitle&&e.title||void 0,c.validator.messages[t],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(e,t){var n=this.defaultMessage(e,t.method),i=/\$?\{(\d+)\}/g;"function"==typeof n?n=n.call(this,t.parameters,e):i.test(n)&&(n=c.validator.format(n.replace(i,"{$1}"),t.parameters)),this.errorList.push({message:n,element:e,method:t.method}),this.errorMap[e.name]=n,this.submitted[e.name]=n},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t,n;for(e=0;this.errorList[e];e++)n=this.errorList[e],this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return c(this.errorList).map(function(){return this.element})},showLabel:function(e,t){var n,i,r,o=this.errorsFor(e),a=this.idOrName(e),s=c(e).attr("aria-describedby");o.length?(o.removeClass(this.settings.validClass).addClass(this.settings.errorClass),o.html(t)):(n=o=c("<"+this.settings.errorElement+">").attr("id",a+"-error").addClass(this.settings.errorClass).html(t||""),this.settings.wrapper&&(n=o.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(n):this.settings.errorPlacement?this.settings.errorPlacement(n,c(e)):n.insertAfter(e),o.is("label")?o.attr("for",a):0===o.parents("label[for='"+a+"']").length&&(r=o.attr("id").replace(/(:|\.|\[|\]|\$)/g,"\\$1"),s?s.match(new RegExp("\\b"+r+"\\b"))||(s+=" "+r):s=r,c(e).attr("aria-describedby",s),(i=this.groups[e.name])&&c.each(this.groups,function(e,t){t===i&&c("[name='"+e+"']",this.currentForm).attr("aria-describedby",o.attr("id"))}))),!t&&this.settings.success&&(o.text(""),"string"==typeof this.settings.success?o.addClass(this.settings.success):this.settings.success(o,e)),this.toShow=this.toShow.add(o)},errorsFor:function(e){var t=this.idOrName(e),n=c(e).attr("aria-describedby"),i="label[for='"+t+"'], label[for='"+t+"'] *";return n&&(i=i+", #"+n.replace(/\s+/g,", #")),this.errors().filter(i)},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name)),c(e).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(e){return c(this.currentForm).find("[name='"+e+"']")},getLength:function(e,t){switch(t.nodeName.toLowerCase()){case"select":return c("option:selected",t).length;case"input":if(this.checkable(t))return this.findByName(t.name).filter(":checked").length}return e.length},depend:function(e,t){return!this.dependTypes[typeof e]||this.dependTypes[typeof e](e,t)},dependTypes:{boolean:function(e){return e},string:function(e,t){return!!c(e,t.form).length},function:function(e,t){return e(t)}},optional:function(e){var t=this.elementValue(e);return!c.validator.methods.required.call(this,t,e)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(e,t){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],t&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(c(this.currentForm).submit(),this.formSubmitted=!1):!t&&0===this.pendingRequest&&this.formSubmitted&&(c(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e){return c.data(e,"previousValue")||c.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,"remote")})},destroy:function(){this.resetForm(),c(this.currentForm).off(".validate").removeData("validator")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,t){e.constructor===String?this.classRuleSettings[e]=t:c.extend(this.classRuleSettings,e)},classRules:function(e){var t={},n=c(e).attr("class");return n&&c.each(n.split(" "),function(){this in c.validator.classRuleSettings&&c.extend(t,c.validator.classRuleSettings[this])}),t},normalizeAttributeRule:function(e,t,n,i){/min|max/.test(n)&&(null===t||/number|range|text/.test(t))&&(i=Number(i),isNaN(i)&&(i=void 0)),i||0===i?e[n]=i:t===n&&"range"!==t&&(e[n]=!0)},attributeRules:function(e){var t,n,i={},r=c(e),o=e.getAttribute("type");for(t in c.validator.methods)"required"===t?(""===(n=e.getAttribute(t))&&(n=!0),n=!!n):n=r.attr(t),this.normalizeAttributeRule(i,o,t,n);return i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength,i},dataRules:function(e){var t,n,i={},r=c(e),o=e.getAttribute("type");for(t in c.validator.methods)n=r.data("rule"+t.charAt(0).toUpperCase()+t.substring(1).toLowerCase()),this.normalizeAttributeRule(i,o,t,n);return i},staticRules:function(e){var t={},n=c.data(e.form,"validator");return n.settings.rules&&(t=c.validator.normalizeRule(n.settings.rules[e.name])||{}),t},normalizeRules:function(i,r){return c.each(i,function(e,t){if(!1!==t){if(t.param||t.depends){var n=!0;switch(typeof t.depends){case"string":n=!!c(t.depends,r.form).length;break;case"function":n=t.depends.call(r,r)}n?i[e]=void 0===t.param||t.param:delete i[e]}}else delete i[e]}),c.each(i,function(e,t){i[e]=c.isFunction(t)?t(r):t}),c.each(["minlength","maxlength"],function(){i[this]&&(i[this]=Number(i[this]))}),c.each(["rangelength","range"],function(){var e;i[this]&&(c.isArray(i[this])?i[this]=[Number(i[this][0]),Number(i[this][1])]:"string"==typeof i[this]&&(e=i[this].replace(/[\[\]]/g,"").split(/[\s,]+/),i[this]=[Number(e[0]),Number(e[1])]))}),c.validator.autoCreateRanges&&(null!=i.min&&null!=i.max&&(i.range=[i.min,i.max],delete i.min,delete i.max),null!=i.minlength&&null!=i.maxlength&&(i.rangelength=[i.minlength,i.maxlength],delete i.minlength,delete i.maxlength)),i},normalizeRule:function(e){if("string"==typeof e){var t={};c.each(e.split(/\s/),function(){t[this]=!0}),e=t}return e},addMethod:function(e,t,n){c.validator.methods[e]=t,c.validator.messages[e]=void 0!==n?n:c.validator.messages[e],t.length<3&&c.validator.addClassRules(e,c.validator.normalizeRule(e))},methods:{required:function(e,t,n){if(!this.depend(n,t))return"dependency-mismatch";if("select"===t.nodeName.toLowerCase()){var i=c(t).val();return i&&0<i.length}return this.checkable(t)?0<this.getLength(e,t):0<e.length},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var n,i,r=0,o=0,a=!1;if((e=e.replace(/\D/g,"")).length<13||19<e.length)return!1;for(n=e.length-1;0<=n;n--)i=e.charAt(n),o=parseInt(i,10),a&&9<(o*=2)&&(o-=9),r+=o,a=!a;return r%10==0},minlength:function(e,t,n){var i=c.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||n<=i},maxlength:function(e,t,n){var i=c.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||i<=n},rangelength:function(e,t,n){var i=c.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||i>=n[0]&&i<=n[1]},min:function(e,t,n){return this.optional(t)||n<=e},max:function(e,t,n){return this.optional(t)||e<=n},range:function(e,t,n){return this.optional(t)||e>=n[0]&&e<=n[1]},equalTo:function(e,t,n){var i=c(n);return this.settings.onfocusout&&i.off(".validate-equalTo").on("blur.validate-equalTo",function(){c(t).valid()}),e===i.val()},remote:function(o,a,e){if(this.optional(a))return"dependency-mismatch";var s,t,l=this.previousValue(a);return this.settings.messages[a.name]||(this.settings.messages[a.name]={}),l.originalMessage=this.settings.messages[a.name].remote,this.settings.messages[a.name].remote=l.message,e="string"==typeof e&&{url:e}||e,l.old===o?l.valid:(l.old=o,(s=this).startRequest(a),(t={})[a.name]=o,c.ajax(c.extend(!0,{mode:"abort",port:"validate"+a.name,dataType:"json",data:t,context:s.currentForm,success:function(e){var t,n,i,r=!0===e||"true"===e;s.settings.messages[a.name].remote=l.originalMessage,r?(i=s.formSubmitted,s.prepareElement(a),s.formSubmitted=i,s.successList.push(a),delete s.invalid[a.name],s.showErrors()):(t={},n=e||s.defaultMessage(a,"remote"),t[a.name]=l.message=c.isFunction(n)?n(o):n,s.invalid[a.name]=!0,s.showErrors(t)),l.valid=r,s.stopRequest(a,r)}},e)),"pending")}}});var i,r={};c.ajaxPrefilter?c.ajaxPrefilter(function(e,t,n){var i=e.port;"abort"===e.mode&&(r[i]&&r[i].abort(),r[i]=n)}):(i=c.ajax,c.ajax=function(e){var t=("mode"in e?e:c.ajaxSettings).mode,n=("port"in e?e:c.ajaxSettings).port;return"abort"===t?(r[n]&&r[n].abort(),r[n]=i.apply(this,arguments),r[n]):i.apply(this,arguments)})}),function(l){"use strict";l.fn.emulateTransitionEnd=function(e){var t=!1,n=this;l(this).one("mmTransitionEnd",function(){t=!0});return setTimeout(function(){t||l(n).trigger(c.end)},e),this};var c=function(){var e=document.createElement("mm"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}();c&&(l.event.special.mmTransitionEnd={bindType:c.end,delegateType:c.end,handle:function(e){return l(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}});var u=function(e,t){this.$element=l(e),this.options=l.extend({},u.DEFAULTS,t),this.transitioning=null,this.init()};u.TRANSITION_DURATION=350,u.DEFAULTS={toggle:!0,doubleTapToGo:!1,activeClass:"active",collapseClass:"collapse",collapseInClass:"in",collapsingClass:"collapsing"},u.prototype.init=function(){var r=this,o=this.options.activeClass,e=this.options.collapseClass,t=this.options.collapseInClass;this.$element.find("li."+o).has("ul").children("ul").addClass(e+" "+t),this.$element.find("li").not("."+o).has("ul").children("ul").addClass(e),this.options.doubleTapToGo&&this.$element.find("li."+o).has("ul").children("a").addClass("doubleTapToGo"),this.$element.find("li").has("ul").children("a").on("click.metisMenu",function(e){var t=l(this),n=t.parent("li"),i=n.children("ul");return e.preventDefault(),n.hasClass(o)&&!r.options.doubleTapToGo?r.hide(i):r.show(i),r.options.doubleTapToGo&&r.doubleTapToGo(t)&&"#"!==t.attr("href")&&""!==t.attr("href")?(e.stopPropagation(),void(document.location=t.attr("href"))):void 0})},u.prototype.doubleTapToGo=function(e){var t=this.$element;return e.hasClass("doubleTapToGo")?(e.removeClass("doubleTapToGo"),!0):e.parent().children("ul").length?(t.find(".doubleTapToGo").removeClass("doubleTapToGo"),e.addClass("doubleTapToGo"),!1):void 0},u.prototype.show=function(e){var t=this.options.activeClass,n=this.options.collapseClass,i=this.options.collapseInClass,r=this.options.collapsingClass,o=l(e),a=o.parent("li");if(!this.transitioning&&!o.hasClass(i)){a.addClass(t),this.options.toggle&&this.hide(a.siblings().children("ul."+i)),o.removeClass(n).addClass(r).height(0),this.transitioning=1;var s=function(){o.removeClass(r).addClass(n+" "+i).height(""),this.transitioning=0};return c?void o.one("mmTransitionEnd",l.proxy(s,this)).emulateTransitionEnd(u.TRANSITION_DURATION).height(o[0].scrollHeight):s.call(this)}},u.prototype.hide=function(e){var t=this.options.activeClass,n=this.options.collapseClass,i=this.options.collapseInClass,r=this.options.collapsingClass,o=l(e);if(!this.transitioning&&o.hasClass(i)){o.parent("li").removeClass(t),o.height(o.height())[0].offsetHeight,o.addClass(r).removeClass(n).removeClass(i),this.transitioning=1;var a=function(){this.transitioning=0,o.removeClass(r).addClass(n)};return c?void o.height(0).one("mmTransitionEnd",l.proxy(a,this)).emulateTransitionEnd(u.TRANSITION_DURATION):a.call(this)}};var e=l.fn.metisMenu;l.fn.metisMenu=function(i){return this.each(function(){var e=l(this),t=e.data("mm"),n=l.extend({},u.DEFAULTS,e.data(),"object"==typeof i&&i);t||e.data("mm",t=new u(this,n)),"string"==typeof i&&t[i]()})},l.fn.metisMenu.Constructor=u,l.fn.metisMenu.noConflict=function(){return l.fn.metisMenu=e,this}}(jQuery),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.NProgress=t()}(this,function(){var t,n,a={version:"0.2.0"},s=a.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function l(e,t,n){return e<t?t:n<e?n:e}function c(e){return 100*(-1+e)}a.configure=function(e){var t,n;for(t in e)void 0!==(n=e[t])&&e.hasOwnProperty(t)&&(s[t]=n);return this},a.status=null,a.set=function(t){var e=a.isStarted();t=l(t,s.minimum,1),a.status=1===t?null:t;var n=a.render(!e),i=n.querySelector(s.barSelector),r=s.speed,o=s.easing;return n.offsetWidth,u(function(e){""===s.positionUsing&&(s.positionUsing=a.getPositioningCSS()),d(i,function(e,t,n){var i;i="translate3d"===s.positionUsing?{transform:"translate3d("+c(e)+"%,0,0)"}:"translate"===s.positionUsing?{transform:"translate("+c(e)+"%,0)"}:{"margin-left":c(e)+"%"};return i.transition="all "+t+"ms "+n,i}(t,r,o)),1===t?(d(n,{transition:"none",opacity:1}),n.offsetWidth,setTimeout(function(){d(n,{transition:"all "+r+"ms linear",opacity:0}),setTimeout(function(){a.remove(),e()},r)},r)):setTimeout(e,r)}),this},a.isStarted=function(){return"number"==typeof a.status},a.start=function(){a.status||a.set(0);var e=function(){setTimeout(function(){a.status&&(a.trickle(),e())},s.trickleSpeed)};return s.trickle&&e(),this},a.done=function(e){return e||a.status?a.inc(.3+.5*Math.random()).set(1):this},a.inc=function(e){var t=a.status;return t?("number"!=typeof e&&(e=(1-t)*l(Math.random()*t,.1,.95)),t=l(t+e,0,.994),a.set(t)):a.start()},a.trickle=function(){return a.inc(Math.random()*s.trickleRate)},n=t=0,a.promise=function(e){return e&&"resolved"!==e.state()&&(0===n&&a.start(),t++,n++,e.always(function(){0==--n?(t=0,a.done()):a.set((t-n)/t)})),this},a.render=function(e){if(a.isRendered())return document.getElementById("nprogress");f(document.documentElement,"nprogress-busy");var t=document.createElement("div");t.id="nprogress",t.innerHTML=s.template;var n,i=t.querySelector(s.barSelector),r=e?"-100":c(a.status||0),o=document.querySelector(s.parent);return d(i,{transition:"all 0 linear",transform:"translate3d("+r+"%,0,0)"}),s.showSpinner||(n=t.querySelector(s.spinnerSelector))&&h(n),o!=document.body&&f(o,"nprogress-custom-parent"),o.appendChild(t),t},a.remove=function(){i(document.documentElement,"nprogress-busy"),i(document.querySelector(s.parent),"nprogress-custom-parent");var e=document.getElementById("nprogress");e&&h(e)},a.isRendered=function(){return!!document.getElementById("nprogress")},a.getPositioningCSS=function(){var e=document.body.style,t="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return t+"Perspective"in e?"translate3d":t+"Transform"in e?"translate":"margin"};var u=function(){var t=[];function n(){var e=t.shift();e&&e(n)}return function(e){t.push(e),1==t.length&&n()}}(),d=function(){var o=["Webkit","O","Moz","ms"],t={};function i(e){return e=e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(e,t){return t.toUpperCase()}),t[e]||(t[e]=function(e){var t=document.body.style;if(e in t)return e;for(var n,i=o.length,r=e.charAt(0).toUpperCase()+e.slice(1);i--;)if((n=o[i]+r)in t)return n;return e}(e))}function a(e,t,n){t=i(t),e.style[t]=n}return function(e,t){var n,i,r=arguments;if(2==r.length)for(n in t)void 0!==(i=t[n])&&t.hasOwnProperty(n)&&a(e,n,i);else a(e,r[1],r[2])}}();function r(e,t){return 0<=("string"==typeof e?e:o(e)).indexOf(" "+t+" ")}function f(e,t){var n=o(e),i=n+t;r(n,t)||(e.className=i.substring(1))}function i(e,t){var n,i=o(e);r(e,t)&&(n=i.replace(" "+t+" "," "),e.className=n.substring(1,n.length-1))}function o(e){return(" "+(e.className||"")+" ").replace(/\s+/gi," ")}function h(e){e&&e.parentNode&&e.parentNode.removeChild(e)}return a}),function(e){"use strict";"function"==typeof define&&define.amd?define(e):"undefined"!=typeof module&&void 0!==module.exports?module.exports=e():"undefined"!=typeof Package?Sortable=e():window.Sortable=e()}(function(){"use strict";function o(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(e);this.el=e,this.options=t=s({},t),e[j]=this;var n={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(e.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",ignore:"a, img",filter:null,animation:0,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1};for(var i in n)!(i in t)&&(t[i]=n[i]);for(var r in Y(t),this)"_"===r.charAt(0)&&(this[r]=this[r].bind(this));this.nativeDraggable=!t.forceFallback&&E,l(e,"mousedown",this._onTapStart),l(e,"touchstart",this._onTapStart),this.nativeDraggable&&(l(e,"dragover",this),l(e,"dragenter",this)),U.push(this._onDragOver),t.store&&this.sort(t.store.get(this))}function T(e){I&&I.state!==e&&(N(I,"display",e?"none":""),!e&&I.state&&B.insertBefore(I,D),I.state=e)}function S(e,t,n){if(e){n=n||w;var i=(t=t.split(".")).shift().toUpperCase(),r=new RegExp("\\s("+t.join("|")+")(?=\\s)","g");do{if(">*"===i&&e.parentNode===n||(""===i||e.nodeName.toUpperCase()==i)&&(!t.length||((" "+e.className+" ").match(r)||[]).length==t.length))return e}while(e!==n&&(e=e.parentNode))}return null}function l(e,t,n){e.addEventListener(t,n,!1)}function i(e,t,n){e.removeEventListener(t,n,!1)}function c(e,t,n){if(e)if(e.classList)e.classList[n?"add":"remove"](t);else{var i=(" "+e.className+" ").replace(C," ").replace(" "+t+" "," ");e.className=(i+(n?" "+t:"")).replace(C," ")}}function N(e,t,n){var i=e&&e.style;if(i){if(void 0===n)return w.defaultView&&w.defaultView.getComputedStyle?n=w.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in i||(t="-webkit-"+t),i[t]=n+("string"==typeof n?"":"px")}}function u(e,t,n){if(e){var i=e.getElementsByTagName(t),r=0,o=i.length;if(n)for(;r<o;r++)n(i[r],r);return i}return[]}function d(e,t,n,i,r,o,a){var s=w.createEvent("Event"),l=(e||t[j]).options,c="on"+n.charAt(0).toUpperCase()+n.substr(1);s.initEvent(n,!0,!0),s.to=t,s.from=r||t,s.item=i||t,s.clone=I,s.oldIndex=o,s.newIndex=a,t.dispatchEvent(s),l[c]&&l[c].call(e,s)}function k(e,t,n,i,r,o){var a,s,l=e[j],c=l.options.onMove;return(a=w.createEvent("Event")).initEvent("move",!0,!0),a.to=t,a.from=e,a.dragged=n,a.draggedRect=i,a.related=r||t,a.relatedRect=o||t.getBoundingClientRect(),e.dispatchEvent(a),c&&(s=c.call(l,a)),s}function f(e){e.draggable=!1}function A(){W=!1}function a(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,i=0;n--;)i+=t.charCodeAt(n);return i.toString(36)}function h(e){var t=0;if(!e||!e.parentNode)return-1;for(;e&&(e=e.previousElementSibling);)"TEMPLATE"!==e.nodeName.toUpperCase()&&t++;return t}function e(e,t){var n,i;return function(){void 0===n&&(n=arguments,i=this,setTimeout(function(){1===n.length?e.call(i,n[0]):e.apply(i,n),n=void 0},t))}}function s(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var D,R,O,I,B,L,p,g,P,M,H,m,r,F,v,y,$,t,b={},C=/\s+/g,j="Sortable"+(new Date).getTime(),x=window,w=x.document,_=x.parseInt,E=!!("draggable"in w.createElement("div")),z=((t=w.createElement("x")).style.cssText="pointer-events:auto","auto"===t.style.pointerEvents),W=!1,q=Math.abs,U=[],V=e(function(e,t,n){if(n&&t.scroll){var i,r,o,a,s=t.scrollSensitivity,l=t.scrollSpeed,c=e.clientX,u=e.clientY,d=window.innerWidth,f=window.innerHeight;if(g!==n&&(p=t.scroll,g=n,!0===p)){p=n;do{if(p.offsetWidth<p.scrollWidth||p.offsetHeight<p.scrollHeight)break}while(p=p.parentNode)}p&&(r=(i=p).getBoundingClientRect(),o=(q(r.right-c)<=s)-(q(r.left-c)<=s),a=(q(r.bottom-u)<=s)-(q(r.top-u)<=s)),o||a||(a=(f-u<=s)-(u<=s),((o=(d-c<=s)-(c<=s))||a)&&(i=x)),(b.vx!==o||b.vy!==a||b.el!==i)&&(b.el=i,b.vx=o,b.vy=a,clearInterval(b.pid),i&&(b.pid=setInterval(function(){i===x?x.scrollTo(x.pageXOffset+o*l,x.pageYOffset+a*l):(a&&(i.scrollTop+=a*l),o&&(i.scrollLeft+=o*l))},24)))}},30),Y=function(e){var t=e.group;t&&"object"==typeof t||(t=e.group={name:t}),["pull","put"].forEach(function(e){e in t||(t[e]=!0)}),e.groups=" "+t.name+(t.put.join?" "+t.put.join(" "):"")+" "};return o.prototype={constructor:o,_onTapStart:function(e){var t=this,n=this.el,i=this.options,r=e.type,o=e.touches&&e.touches[0],a=(o||e).target,s=a,l=i.filter;if(!("mousedown"===r&&0!==e.button||i.disabled)&&(a=S(a,i.draggable,n))){if(m=h(a),"function"==typeof l){if(l.call(this,e,a,this))return d(t,s,"filter",a,n,m),void e.preventDefault()}else if(l&&(l=l.split(",").some(function(e){return(e=S(s,e.trim(),n))?(d(t,e,"filter",a,n,m),!0):void 0})))return void e.preventDefault();(!i.handle||S(s,i.handle,n))&&this._prepareDragStart(e,o,a)}},_prepareDragStart:function(e,t,n){var i,r=this,o=r.el,a=r.options,s=o.ownerDocument;n&&!D&&n.parentNode===o&&(v=e,B=o,R=(D=n).parentNode,L=D.nextSibling,F=a.group,i=function(){r._disableDelayedDrag(),D.draggable=!0,c(D,r.options.chosenClass,!0),r._triggerDragStart(t)},a.ignore.split(",").forEach(function(e){u(D,e.trim(),f)}),l(s,"mouseup",r._onDrop),l(s,"touchend",r._onDrop),l(s,"touchcancel",r._onDrop),a.delay?(l(s,"mouseup",r._disableDelayedDrag),l(s,"touchend",r._disableDelayedDrag),l(s,"touchcancel",r._disableDelayedDrag),l(s,"mousemove",r._disableDelayedDrag),l(s,"touchmove",r._disableDelayedDrag),r._dragStartTimer=setTimeout(i,a.delay)):i())},_disableDelayedDrag:function(){var e=this.el.ownerDocument;clearTimeout(this._dragStartTimer),i(e,"mouseup",this._disableDelayedDrag),i(e,"touchend",this._disableDelayedDrag),i(e,"touchcancel",this._disableDelayedDrag),i(e,"mousemove",this._disableDelayedDrag),i(e,"touchmove",this._disableDelayedDrag)},_triggerDragStart:function(e){e?(v={target:D,clientX:e.clientX,clientY:e.clientY},this._onDragStart(v,"touch")):this.nativeDraggable?(l(D,"dragend",this),l(B,"dragstart",this._onDragStart)):this._onDragStart(v,!0);try{w.selection?w.selection.empty():window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(){B&&D&&(c(D,this.options.ghostClass,!0),d(o.active=this,B,"start",D,B,m))},_emulateDragOver:function(){if(y){if(this._lastX===y.clientX&&this._lastY===y.clientY)return;this._lastX=y.clientX,this._lastY=y.clientY,z||N(O,"display","none");var e=w.elementFromPoint(y.clientX,y.clientY),t=e,n=" "+this.options.group.name,i=U.length;if(t)do{if(t[j]&&-1<t[j].options.groups.indexOf(n)){for(;i--;)U[i]({clientX:y.clientX,clientY:y.clientY,target:e,rootEl:t});break}e=t}while(t=t.parentNode);z||N(O,"display","")}},_onTouchMove:function(e){if(v){o.active||this._dragStarted(),this._appendGhost();var t=e.touches?e.touches[0]:e,n=t.clientX-v.clientX,i=t.clientY-v.clientY,r=e.touches?"translate3d("+n+"px,"+i+"px,0)":"translate("+n+"px,"+i+"px)";$=!0,y=t,N(O,"webkitTransform",r),N(O,"mozTransform",r),N(O,"msTransform",r),N(O,"transform",r),e.preventDefault()}},_appendGhost:function(){if(!O){var e,t=D.getBoundingClientRect(),n=N(D),i=this.options;c(O=D.cloneNode(!0),i.ghostClass,!1),c(O,i.fallbackClass,!0),N(O,"top",t.top-_(n.marginTop,10)),N(O,"left",t.left-_(n.marginLeft,10)),N(O,"width",t.width),N(O,"height",t.height),N(O,"opacity","0.8"),N(O,"position","fixed"),N(O,"zIndex","100000"),N(O,"pointerEvents","none"),i.fallbackOnBody&&w.body.appendChild(O)||B.appendChild(O),e=O.getBoundingClientRect(),N(O,"width",2*t.width-e.width),N(O,"height",2*t.height-e.height)}},_onDragStart:function(e,t){var n=e.dataTransfer,i=this.options;this._offUpEvents(),"clone"==F.pull&&(N(I=D.cloneNode(!0),"display","none"),B.insertBefore(I,D)),t?("touch"===t?(l(w,"touchmove",this._onTouchMove),l(w,"touchend",this._onDrop),l(w,"touchcancel",this._onDrop)):(l(w,"mousemove",this._onTouchMove),l(w,"mouseup",this._onDrop)),this._loopId=setInterval(this._emulateDragOver,50)):(n&&(n.effectAllowed="move",i.setData&&i.setData.call(this,n,D)),l(w,"drop",this),setTimeout(this._dragStarted,0))},_onDragOver:function(e){var t,n,i,r,o,a,s=this.el,l=this.options,c=l.group,u=c.put,d=F===c,f=l.sort;if(void 0!==e.preventDefault&&(e.preventDefault(),!l.dragoverBubble&&e.stopPropagation()),$=!0,F&&!l.disabled&&(d?f||(i=!B.contains(D)):F.pull&&u&&(F.name===c.name||u.indexOf&&~u.indexOf(F.name)))&&(void 0===e.rootEl||e.rootEl===this.el)){if(V(e,l,this.el),W)return;if(t=S(e.target,l.draggable,s),n=D.getBoundingClientRect(),i)return T(!0),void(I||L?B.insertBefore(D,I||L):f||B.appendChild(D));if(0===s.children.length||s.children[0]===O||s===e.target&&(r=e,o=s.lastElementChild,a=o.getBoundingClientRect(),t=(5<r.clientY-(a.top+a.height)||5<r.clientX-(a.right+a.width))&&o)){if(t){if(t.animated)return;p=t.getBoundingClientRect()}T(d),!1!==k(B,s,D,n,t,p)&&(D.contains(s)||(s.appendChild(D),R=s),this._animate(n,D),t&&this._animate(p,t))}else if(t&&!t.animated&&t!==D&&void 0!==t.parentNode[j]){P!==t&&(M=N(P=t),H=N(t.parentNode));var h,p=t.getBoundingClientRect(),g=p.right-p.left,m=p.bottom-p.top,v=/left|right|inline/.test(M.cssFloat+M.display)||"flex"==H.display&&0===H["flex-direction"].indexOf("row"),y=t.offsetWidth>D.offsetWidth,b=t.offsetHeight>D.offsetHeight,C=.5<(v?(e.clientX-p.left)/g:(e.clientY-p.top)/m),x=t.nextElementSibling,w=k(B,s,D,n,t,p);if(!1!==w){if(W=!0,setTimeout(A,30),T(d),1===w||-1===w)h=1===w;else if(v){var _=D.offsetTop,E=t.offsetTop;h=_===E?t.previousElementSibling===D&&!y||C&&y:_<E}else h=x!==D&&!b||C&&b;D.contains(s)||(h&&!x?s.appendChild(D):t.parentNode.insertBefore(D,h?x:t)),R=D.parentNode,this._animate(n,D),this._animate(p,t)}}}},_animate:function(e,t){var n=this.options.animation;if(n){var i=t.getBoundingClientRect();N(t,"transition","none"),N(t,"transform","translate3d("+(e.left-i.left)+"px,"+(e.top-i.top)+"px,0)"),t.offsetWidth,N(t,"transition","all "+n+"ms"),N(t,"transform","translate3d(0,0,0)"),clearTimeout(t.animated),t.animated=setTimeout(function(){N(t,"transition",""),N(t,"transform",""),t.animated=!1},n)}},_offUpEvents:function(){var e=this.el.ownerDocument;i(w,"touchmove",this._onTouchMove),i(e,"mouseup",this._onDrop),i(e,"touchend",this._onDrop),i(e,"touchcancel",this._onDrop)},_onDrop:function(e){var t=this.el,n=this.options;clearInterval(this._loopId),clearInterval(b.pid),clearTimeout(this._dragStartTimer),i(w,"mousemove",this._onTouchMove),this.nativeDraggable&&(i(w,"drop",this),i(t,"dragstart",this._onDragStart)),this._offUpEvents(),e&&($&&(e.preventDefault(),!n.dropBubble&&e.stopPropagation()),O&&O.parentNode.removeChild(O),D&&(this.nativeDraggable&&i(D,"dragend",this),f(D),c(D,this.options.ghostClass,!1),c(D,this.options.chosenClass,!1),B!==R?0<=(r=h(D))&&(d(null,R,"sort",D,B,m,r),d(this,B,"sort",D,B,m,r),d(null,R,"add",D,B,m,r),d(this,B,"remove",D,B,m,r)):(I&&I.parentNode.removeChild(I),D.nextSibling!==L&&(0<=(r=h(D))&&(d(this,B,"update",D,B,m,r),d(this,B,"sort",D,B,m,r)))),o.active&&((null===r||-1===r)&&(r=m),d(this,B,"end",D,B,m,r),this.save())),B=D=R=O=L=I=p=g=v=y=$=r=P=M=F=o.active=null)},handleEvent:function(e){var t,n=e.type;"dragover"===n||"dragenter"===n?D&&(this._onDragOver(e),(t=e).dataTransfer&&(t.dataTransfer.dropEffect="move"),t.preventDefault()):("drop"===n||"dragend"===n)&&this._onDrop(e)},toArray:function(){for(var e,t=[],n=this.el.children,i=0,r=n.length,o=this.options;i<r;i++)S(e=n[i],o.draggable,this.el)&&t.push(e.getAttribute(o.dataIdAttr)||a(e));return t},sort:function(e){var i={},r=this.el;this.toArray().forEach(function(e,t){var n=r.children[t];S(n,this.options.draggable,r)&&(i[e]=n)},this),e.forEach(function(e){i[e]&&(r.removeChild(i[e]),r.appendChild(i[e]))})},save:function(){var e=this.options.store;e&&e.set(this)},closest:function(e,t){return S(e,t||this.options.draggable,this.el)},option:function(e,t){var n=this.options;return void 0===t?n[e]:(n[e]=t,void("group"===e&&Y(n)))},destroy:function(){var e=this.el;e[j]=null,i(e,"mousedown",this._onTapStart),i(e,"touchstart",this._onTapStart),this.nativeDraggable&&(i(e,"dragover",this),i(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),U.splice(U.indexOf(this._onDragOver),1),this._onDrop(),this.el=e=null}},o.utils={on:l,off:i,css:N,find:u,is:function(e,t){return!!S(e,t,e)},extend:s,throttle:e,closest:S,toggleClass:c,index:h},o.create=function(e,t){return new o(e,t)},o.version="1.4.2",o}),function(s,be){"use strict";function e(e,t,n){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(t===be)throw"invalid module definition, dependencies must be specified";if(n===be)throw"invalid module definition, definition function must be specified";!function(e,t){for(var n,i=[],r=0;r<e.length;++r){if(!(n=l[e[r]]||o(e[r])))throw"module definition dependecy not found: "+e[r];i.push(n)}t.apply(null,i)}(t,function(){l[e]=n.apply(null,arguments)})}function o(e){for(var t=s,n=e.split(/[.\/]/),i=0;i<n.length;++i){if(!t[n[i]])return;t=t[n[i]]}return t}var l={},t="tinymce/geom/Rect",n="tinymce/util/Promise",i="tinymce/util/Delay",r="tinymce/Env",a="tinymce/dom/EventUtils",c="tinymce/dom/Sizzle",u="tinymce/util/Arr",d="tinymce/util/Tools",f="tinymce/dom/DomQuery",h="tinymce/html/Styles",p="tinymce/dom/TreeWalker",g="tinymce/dom/Range",m="tinymce/html/Entities",v="tinymce/dom/StyleSheetLoader",y="tinymce/dom/DOMUtils",b="tinymce/dom/ScriptLoader",C="tinymce/AddOnManager",x="tinymce/dom/NodeType",w="tinymce/text/Zwsp",_="tinymce/caret/CaretContainer",E="tinymce/dom/RangeUtils",T="tinymce/NodeChange",S="tinymce/html/Node",N="tinymce/html/Schema",k="tinymce/html/SaxParser",A="tinymce/html/DomParser",D="tinymce/html/Writer",R="tinymce/html/Serializer",O="tinymce/dom/Serializer",I="tinymce/dom/TridentSelection",B="tinymce/util/VK",L="tinymce/dom/ControlSelection",P="tinymce/util/Fun",M="tinymce/caret/CaretCandidate",H="tinymce/geom/ClientRect",F="tinymce/text/ExtendingChar",$="tinymce/caret/CaretPosition",j="tinymce/caret/CaretBookmark",z="tinymce/dom/BookmarkManager",W="tinymce/dom/Selection",q="tinymce/dom/ElementUtils",U="tinymce/fmt/Preview",V="tinymce/fmt/Hooks",Y="tinymce/Formatter",K="tinymce/undo/Diff",X="tinymce/undo/Fragments",G="tinymce/undo/Levels",Q="tinymce/UndoManager",J="tinymce/EnterKey",Z="tinymce/ForceBlocks",ee="tinymce/caret/CaretUtils",te="tinymce/caret/CaretWalker",ne="tinymce/InsertList",ie="tinymce/InsertContent",re="tinymce/EditorCommands",oe="tinymce/util/URI",ae="tinymce/util/Class",se="tinymce/util/EventDispatcher",le="tinymce/data/Binding",ce="tinymce/util/Observable",ue="tinymce/data/ObservableObject",de="tinymce/ui/Selector",fe="tinymce/ui/Collection",he="tinymce/ui/DomUtils",pe="tinymce/ui/BoxUtils",ge="tinymce/ui/ClassList",me="tinymce/ui/ReflowQueue",ve="tinymce/ui/Control",ye="tinymce/ui/Factory",Ce="tinymce/ui/KeyboardNavigation",xe="tinymce/ui/Container",we="tinymce/ui/DragHelper",_e="tinymce/ui/Scrollable",Ee="tinymce/ui/Panel",Te="tinymce/ui/Movable",Se="tinymce/ui/Resizable",Ne="tinymce/ui/FloatPanel",ke="tinymce/ui/Window",Ae="tinymce/ui/MessageBox",De="tinymce/WindowManager",Re="tinymce/ui/Tooltip",Oe="tinymce/ui/Widget",Ie="tinymce/ui/Progress",Be="tinymce/ui/Notification",Le="tinymce/NotificationManager",Pe="tinymce/dom/NodePath",Me="tinymce/util/Quirks",He="tinymce/EditorObservable",Fe="tinymce/Mode",$e="tinymce/Shortcuts",je="tinymce/file/Uploader",ze="tinymce/file/Conversions",We="tinymce/file/ImageScanner",qe="tinymce/file/BlobCache",Ue="tinymce/file/UploadStatus",Ve="tinymce/ErrorReporter",Ye="tinymce/EditorUpload",Ke="tinymce/caret/FakeCaret",Xe="tinymce/dom/Dimensions",Ge="tinymce/caret/LineWalker",Qe="tinymce/caret/LineUtils",Je="tinymce/dom/MousePosition",Ze="tinymce/DragDropOverrides",et="tinymce/SelectionOverrides",tt="tinymce/util/Uuid",nt="tinymce/ui/Sidebar",it="tinymce/Editor",rt="tinymce/util/I18n",ot="tinymce/FocusManager",at="tinymce/EditorManager",st="tinymce/util/XHR",lt="tinymce/util/JSON",ct="tinymce/util/JSONRequest",ut="tinymce/util/JSONP",dt="tinymce/util/LocalStorage",ft="tinymce/Compat",ht="tinymce/ui/Layout",pt="tinymce/ui/AbsoluteLayout",gt="tinymce/ui/Button",mt="tinymce/ui/ButtonGroup",vt="tinymce/ui/Checkbox",yt="tinymce/ui/ComboBox",bt="tinymce/ui/ColorBox",Ct="tinymce/ui/PanelButton",xt="tinymce/ui/ColorButton",wt="tinymce/util/Color",_t="tinymce/ui/ColorPicker",Et="tinymce/ui/Path",Tt="tinymce/ui/ElementPath",St="tinymce/ui/FormItem",Nt="tinymce/ui/Form",kt="tinymce/ui/FieldSet",At="tinymce/content/LinkTargets",Dt="tinymce/ui/FilePicker",Rt="tinymce/ui/FitLayout",Ot="tinymce/ui/FlexLayout",It="tinymce/ui/FlowLayout",Bt="tinymce/fmt/FontInfo",Lt="tinymce/ui/FormatControls",Pt="tinymce/ui/GridLayout",Mt="tinymce/ui/Iframe",Ht="tinymce/ui/InfoBox",Ft="tinymce/ui/Label",$t="tinymce/ui/Toolbar",jt="tinymce/ui/MenuBar",zt="tinymce/ui/MenuButton",Wt="tinymce/ui/MenuItem",qt="tinymce/ui/Throbber",Ut="tinymce/ui/Menu",Vt="tinymce/ui/ListBox",Yt="tinymce/ui/Radio",Kt="tinymce/ui/ResizeHandle",Xt="tinymce/ui/SelectBox",Gt="tinymce/ui/Slider",Qt="tinymce/ui/Spacer",Jt="tinymce/ui/SplitButton",Zt="tinymce/ui/StackLayout",en="tinymce/ui/TabPanel",tn="tinymce/ui/TextBox";e(t,[],function(){function a(e,t,n){var i,r,o,a,s,l;return i=t.x,r=t.y,o=e.w,a=e.h,s=t.w,l=t.h,"b"===(n=(n||"").split(""))[0]&&(r+=l),"r"===n[1]&&(i+=s),"c"===n[0]&&(r+=c(l/2)),"c"===n[1]&&(i+=c(s/2)),"b"===n[3]&&(r-=a),"r"===n[4]&&(i-=o),"c"===n[3]&&(r-=c(a/2)),"c"===n[4]&&(i-=c(o/2)),h(i,r,o,a)}function h(e,t,n,i){return{x:e,y:t,w:n,h:i}}var s=Math.min,p=Math.max,c=Math.round;return{inflate:function(e,t,n){return h(e.x-t,e.y-n,e.w+2*t,e.h+2*n)},relativePosition:a,findBestRelativePosition:function(e,t,n,i){var r,o;for(o=0;o<i.length;o++)if((r=a(e,t,i[o])).x>=n.x&&r.x+r.w<=n.w+n.x&&r.y>=n.y&&r.y+r.h<=n.h+n.y)return i[o];return null},intersect:function(e,t){var n,i,r,o;return n=p(e.x,t.x),i=p(e.y,t.y),r=s(e.x+e.w,t.x+t.w),o=s(e.y+e.h,t.y+t.h),r-n<0||o-i<0?null:h(n,i,r-n,o-i)},clamp:function(e,t,n){var i,r,o,a,s,l,c,u,d,f;return s=e.x,l=e.y,c=e.x+e.w,u=e.y+e.h,d=t.x+t.w,f=t.y+t.h,i=p(0,t.x-s),r=p(0,t.y-l),o=p(0,c-d),a=p(0,u-f),s+=i,l+=r,n&&(c+=i,u+=r,s-=o,l-=a),h(s,l,(c-=o)-s,(u-=a)-l)},create:h,fromClientRect:function(e){return h(e.left,e.top,e.width,e.height)}}}),e(n,[],function(){function n(e,t){return function(){e.apply(t,arguments)}}function e(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],l(e,n(i,this),n(r,this))}function o(n){var i=this;return null===this._state?void this._deferreds.push(n):void t(function(){var e=i._state?n.onFulfilled:n.onRejected;if(null!==e){var t;try{t=e(i._value)}catch(e){return void n.reject(e)}n.resolve(t)}else(i._state?n.resolve:n.reject)(i._value)})}function i(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;if("function"==typeof t)return void l(n(t,e),n(i,this),n(r,this))}this._state=!0,this._value=e,a.call(this)}catch(e){r.call(this,e)}}function r(e){this._state=!1,this._value=e,a.call(this)}function a(){for(var e=0,t=this._deferreds.length;e<t;e++)o.call(this,this._deferreds[e]);this._deferreds=null}function s(e,t,n,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=i}function l(e,t,n){var i=!1;try{e(function(e){i||(i=!0,t(e))},function(e){i||(i=!0,n(e))})}catch(e){if(i)return;i=!0,n(e)}}if(window.Promise)return window.Promise;var t=e.immediateFn||"function"==typeof setImmediate&&setImmediate||function(e){setTimeout(e,1)},c=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.then=function(n,i){var r=this;return new e(function(e,t){o.call(r,new s(n,i,e,t))})},e.all=function(){var s=Array.prototype.slice.call(1===arguments.length&&c(arguments[0])?arguments[0]:arguments);return new e(function(i,r){function o(t,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void n.call(e,function(e){o(t,e)},r)}s[t]=e,0==--a&&i(s)}catch(e){r(e)}}if(0===s.length)return i([]);for(var a=s.length,e=0;e<s.length;e++)o(e,s[e])})},e.resolve=function(t){return t&&"object"==typeof t&&t.constructor===e?t:new e(function(e){e(t)})},e.reject=function(n){return new e(function(e,t){t(n)})},e.race=function(r){return new e(function(e,t){for(var n=0,i=r.length;n<i;n++)r[n].then(e,t)})},e}),e(i,[n],function(n){function r(e,t){return"number"!=typeof t&&(t=0),setTimeout(e,t)}function o(e,t){return"number"!=typeof t&&(t=1),setInterval(e,t)}function e(t,n){var i,e;return(e=function(){var e=arguments;clearTimeout(i),i=r(function(){t.apply(this,e)},n)}).stop=function(){clearTimeout(i)},e}var i;return{requestAnimationFrame:function(e,t){return i?void i.then(e):void(i=new n(function(e){t||(t=document.body),function(e,t){var n,i=window.requestAnimationFrame,r=["ms","moz","webkit"];for(n=0;n<r.length&&!i;n++)i=window[r[n]+"RequestAnimationFrame"];i||(i=function(e){window.setTimeout(e,0)}),i(e,t)}(e,t)}).then(e))},setTimeout:r,setInterval:o,setEditorTimeout:function(e,t,n){return r(function(){e.removed||t()},n)},setEditorInterval:function(e,t,n){var i;return i=o(function(){e.removed?clearInterval(i):t()},n)},debounce:e,throttle:e,clearInterval:function(e){return clearInterval(e)},clearTimeout:function(e){return clearTimeout(e)}}}),e(r,[],function(){function e(e){return"matchMedia"in window&&matchMedia(e).matches}var t,n,i,r,o,a,s,l,c,u,d,f,h,p=navigator,g=p.userAgent;return t=window.opera&&window.opera.buildNumber,c=/Android/.test(g),i=(i=!(n=/WebKit/.test(g))&&!t&&/MSIE/gi.test(g)&&/Explorer/gi.test(p.appName))&&/MSIE (\w+)\./.exec(g)[1],r=-1!=g.indexOf("Trident/")&&(-1!=g.indexOf("rv:")||-1!=p.appName.indexOf("Netscape"))&&11,o=-1!=g.indexOf("Edge/")&&!i&&!r&&12,i=i||r||o,a=!n&&!r&&/Gecko/.test(g),s=-1!=g.indexOf("Mac"),l=/(iPad|iPhone)/.test(g),u="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,d=e("only screen and (max-device-width: 480px)")&&(c||l),f=e("only screen and (min-width: 800px)")&&(c||l),h=-1!=g.indexOf("Windows Phone"),o&&(n=!1),{opera:t,webkit:n,ie:i,gecko:a,mac:s,iOS:l,android:c,contentEditable:!l||u||534<=g.match(/AppleWebKit\/(\d*)/)[1],transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=i,range:window.getSelection&&"Range"in window,documentMode:i&&!o?document.documentMode||7:10,fileApi:u,ceFalse:!1===i||8<i,canHaveCSP:!1===i||11<i,desktop:!d&&!f,windowsPhone:h}}),e(a,[i,r],function(a,h){function x(e,t,n,i){e.addEventListener?e.addEventListener(t,n,i||!1):e.attachEvent&&e.attachEvent("on"+t,n)}function f(e,t,n,i){e.removeEventListener?e.removeEventListener(t,n,i||!1):e.detachEvent&&e.detachEvent("on"+t,n)}function w(e,t){function n(){return!1}function i(){return!0}var r,o,a,s,l,c=t||{};for(r in e)g[r]||(c[r]=e[r]);if(c.target||(c.target=c.srcElement||document),h.experimentalShadowDom&&(c.target=(o=e,a=c.target,l=a,(s=o.path)&&0<s.length&&(l=s[0]),o.deepPath&&(s=o.deepPath())&&0<s.length&&(l=s[0]),l)),e&&p.test(e.type)&&void 0===e.pageX&&void 0!==e.clientX){var u=c.target.ownerDocument||document,d=u.documentElement,f=u.body;c.pageX=e.clientX+(d&&d.scrollLeft||f&&f.scrollLeft||0)-(d&&d.clientLeft||f&&f.clientLeft||0),c.pageY=e.clientY+(d&&d.scrollTop||f&&f.scrollTop||0)-(d&&d.clientTop||f&&f.clientTop||0)}return c.preventDefault=function(){c.isDefaultPrevented=i,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},c.stopPropagation=function(){c.isPropagationStopped=i,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},c.stopImmediatePropagation=function(){c.isImmediatePropagationStopped=i,c.stopPropagation()},c.isDefaultPrevented||(c.isDefaultPrevented=n,c.isPropagationStopped=n,c.isImmediatePropagationStopped=n),void 0===c.metaKey&&(c.metaKey=!1),c}function _(e,t,n){function i(){n.domLoaded||(n.domLoaded=!0,t(o))}var r=e.document,o={type:"ready"};return n.domLoaded?void t(o):(r.addEventListener?"complete"===r.readyState?i():x(e,"DOMContentLoaded",i):(x(r,"readystatechange",function e(){("complete"===r.readyState||"interactive"===r.readyState&&r.body)&&(f(r,"readystatechange",e),i())}),r.documentElement.doScroll&&e.self===e.top&&function t(){try{r.documentElement.doScroll("left")}catch(e){return void a.setTimeout(t)}i()}()),void x(e,"load",i))}function e(){function h(e,t){var n,i,r,o,a=C[t];if(n=a&&a[e.type])for(i=0,r=n.length;i<r;i++)if((o=n[i])&&!1===o.func.call(o.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}var p,g,m,v,y,b=this,C={};g=t+(+new Date).toString(32),v="onmouseenter"in document.documentElement,m="onfocusin"in document.documentElement,y={mouseenter:"mouseover",mouseleave:"mouseout"},p=1,b.domLoaded=!1,b.events=C,b.bind=function(e,t,n,i){function r(e){h(w(e||f.event),o)}var o,a,s,l,c,u,d,f=window;if(e&&3!==e.nodeType&&8!==e.nodeType){for(e[g]?o=e[g]:(o=p++,e[g]=o,C[o]={}),i=i||e,s=(t=t.split(" ")).length;s--;)u=r,c=d=!1,"DOMContentLoaded"===(l=t[s])&&(l="ready"),b.domLoaded&&"ready"===l&&"complete"==e.readyState?n.call(i,w({type:l})):(v||(c=y[l])&&(u=function(e){var t,n;if(t=e.currentTarget,(n=e.relatedTarget)&&t.contains)n=t.contains(n);else for(;n&&n!==t;)n=n.parentNode;n||((e=w(e||f.event)).type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,h(e,o))}),m||"focusin"!==l&&"focusout"!==l||(d=!0,c="focusin"===l?"focus":"blur",u=function(e){(e=w(e||f.event)).type="focus"===e.type?"focusin":"focusout",h(e,o)}),(a=C[o][l])?"ready"===l&&b.domLoaded?n({type:l}):a.push({func:n,scope:i}):(C[o][l]=a=[{func:n,scope:i}],a.fakeName=c,a.capture=d,a.nativeHandler=u,"ready"===l?_(e,u,b):x(e,c||l,u,d)));return e=a=0,n}},b.unbind=function(t,e,n){var i,r,o,a,s,l;if(!t||3===t.nodeType||8===t.nodeType)return b;if(i=t[g]){if(l=C[i],e){for(o=(e=e.split(" ")).length;o--;)if(r=l[s=e[o]]){if(n)for(a=r.length;a--;)if(r[a].func===n){var c=r.nativeHandler,u=r.fakeName,d=r.capture;(r=r.slice(0,a).concat(r.slice(a+1))).nativeHandler=c,r.fakeName=u,r.capture=d,l[s]=r}n&&0!==r.length||(delete l[s],f(t,r.fakeName||s,r.nativeHandler,r.capture))}}else{for(s in l)f(t,(r=l[s]).fakeName||s,r.nativeHandler,r.capture);l={}}for(s in l)return b;delete C[i];try{delete t[g]}catch(e){t[g]=null}}return b},b.fire=function(e,t,n){var i;if(!e||3===e.nodeType||8===e.nodeType)return b;for((n=w(null,n)).type=t,n.target=e;(i=e[g])&&h(n,i),(e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow)&&!n.isPropagationStopped(););return b},b.clean=function(e){var t,n,i=b.unbind;if(!e||3===e.nodeType||8===e.nodeType)return b;if(e[g]&&i(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(i(e),t=(n=e.getElementsByTagName("*")).length;t--;)(e=n[t])[g]&&i(e);return b},b.destroy=function(){C={}},b.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}}var t="mce-data-",p=/^(?:mouse|contextmenu)|click/,g={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1};return(e.Event=new e).bind(window,"ready",function(){}),e}),e(c,[],function(){function C(e,t,n,i){var r,o,a,s,l,c,u,d,f,h;if((t?t.ownerDocument||t:M)!==A&&k(t),n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=(t=t||A).nodeType)&&9!==s)return[];if(R&&!i){if(r=pe.exec(e))if(a=r[1]){if(9===s){if(!(o=t.getElementById(a))||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&L(t,o)&&o.id===a)return n.push(o),n}else{if(r[2])return G.apply(n,t.getElementsByTagName(e)),n;if((a=r[3])&&m.getElementsByClassName)return G.apply(n,t.getElementsByClassName(a)),n}if(m.qsa&&(!O||!O.test(e))){if(d=u=P,f=t,h=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=_(e),(u=t.getAttribute("id"))?d=u.replace(me,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",l=c.length;l--;)c[l]=d+g(c[l]);f=ge.test(e)&&p(t.parentNode)||t,h=c.join(",")}if(h)try{return G.apply(n,f.querySelectorAll(h)),n}catch(e){}finally{u||t.removeAttribute("id")}}}return E(e.replace(re,"$1"),t,n,i)}function e(){var i=[];return function e(t,n){return i.push(t+" ")>w.cacheLength&&delete e[i.shift()],e[t+" "]=n}}function l(e){return e[P]=!0,e}function i(e){var t=A.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function t(e,t){for(var n=e.split("|"),i=e.length;i--;)w.attrHandle[n[i]]=t}function c(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||U)-(~e.sourceIndex||U);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function n(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function r(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function o(a){return l(function(o){return o=+o,l(function(e,t){for(var n,i=a([],e.length,o),r=i.length;r--;)e[n=i[r]]&&(e[n]=!(t[n]=e[n]))})})}function p(e){return e&&typeof e.getElementsByTagName!==q&&e}function a(){}function g(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function d(a,e,t){var s=e.dir,l=t&&"parentNode"===s,c=F++;return e.first?function(e,t,n){for(;e=e[s];)if(1===e.nodeType||l)return a(e,t,n)}:function(e,t,n){var i,r,o=[H,c];if(n){for(;e=e[s];)if((1===e.nodeType||l)&&a(e,t,n))return!0}else for(;e=e[s];)if(1===e.nodeType||l){if((i=(r=e[P]||(e[P]={}))[s])&&i[0]===H&&i[1]===c)return o[2]=i[2];if((r[s]=o)[2]=a(e,t,n))return!0}}}function f(r){return 1<r.length?function(e,t,n){for(var i=r.length;i--;)if(!r[i](e,t,n))return!1;return!0}:r[0]}function x(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,i,r)||(a.push(o),c&&t.push(s)));return a}function y(h,p,g,m,v,e){return m&&!m[P]&&(m=y(m)),v&&!v[P]&&(v=y(v,e)),l(function(e,t,n,i){var r,o,a,s=[],l=[],c=t.length,u=e||function(e,t,n){for(var i=0,r=t.length;i<r;i++)C(e,t[i],n);return n}(p||"*",n.nodeType?[n]:n,[]),d=!h||!e&&p?u:x(u,s,h,n,i),f=g?v||(e?h:c||m)?[]:t:d;if(g&&g(d,f,n,i),m)for(r=x(f,l),m(r,[],n,i),o=r.length;o--;)(a=r[o])&&(f[l[o]]=!(d[l[o]]=a));if(e){if(v||h){if(v){for(r=[],o=f.length;o--;)(a=f[o])&&r.push(d[o]=a);v(null,f=[],r,i)}for(o=f.length;o--;)(a=f[o])&&-1<(r=v?J.call(e,a):s[o])&&(e[r]=!(t[r]=a))}}else f=x(f===t?f.splice(c,f.length):f),v?v(null,t,f,i):G.apply(t,f)})}function h(e){for(var i,t,n,r=e.length,o=w.relative[e[0].type],a=o||w.relative[" "],s=o?1:0,l=d(function(e){return e===i},a,!0),c=d(function(e){return-1<J.call(i,e)},a,!0),u=[function(e,t,n){return!o&&(n||t!==T)||((i=t).nodeType?l(e,t,n):c(e,t,n))}];s<r;s++)if(t=w.relative[e[s].type])u=[d(f(u),t)];else{if((t=w.filter[e[s].type].apply(null,e[s].matches))[P]){for(n=++s;n<r&&!w.relative[e[n].type];n++);return y(1<s&&f(u),1<s&&g(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(re,"$1"),t,s<n&&h(e.slice(s,n)),n<r&&h(e=e.slice(n)),n<r&&g(e))}u.push(t)}return f(u)}var s,m,w,u,v,_,b,E,T,S,N,k,A,D,R,O,I,B,L,P="sizzle"+-new Date,M=window.document,H=0,F=0,$=e(),j=e(),z=e(),W=function(e,t){return e===t&&(N=!0),0},q=typeof be,U=1<<31,V={}.hasOwnProperty,Y=[],K=Y.pop,X=Y.push,G=Y.push,Q=Y.slice,J=Y.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},Z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ne="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+te+"))|)"+ee+"*\\]",ie=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ne+")*)|.*)\\)|)",re=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),oe=new RegExp("^"+ee+"*,"+ee+"*"),ae=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),se=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),le=new RegExp(ie),ce=new RegExp("^"+te+"$"),ue={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te+"|[*])"),ATTR:new RegExp("^"+ne),PSEUDO:new RegExp("^"+ie),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+Z+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},de=/^(?:input|select|textarea|button)$/i,fe=/^h\d$/i,he=/^[^{]+\{\s*\[native \w/,pe=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ge=/[+~]/,me=/'|\\/g,ve=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),ye=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{G.apply(Y=Q.call(M.childNodes),M.childNodes),Y[M.childNodes.length].nodeType}catch(e){G={apply:Y.length?function(e,t){X.apply(e,Q.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}for(s in m=C.support={},v=C.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},k=C.setDocument=function(e){var t,l=e?e.ownerDocument||e:M,n=l.defaultView;return l!==A&&9===l.nodeType&&l.documentElement?(D=(A=l).documentElement,R=!v(l),n&&n!==function(e){try{return e.top}catch(e){}return null}(n)&&(n.addEventListener?n.addEventListener("unload",function(){k()},!1):n.attachEvent&&n.attachEvent("onunload",function(){k()})),m.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),m.getElementsByTagName=i(function(e){return e.appendChild(l.createComment("")),!e.getElementsByTagName("*").length}),m.getElementsByClassName=he.test(l.getElementsByClassName),m.getById=i(function(e){return D.appendChild(e).id=P,!l.getElementsByName||!l.getElementsByName(P).length}),m.getById?(w.find.ID=function(e,t){if(typeof t.getElementById!==q&&R){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},w.filter.ID=function(e){var t=e.replace(ve,ye);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var n=e.replace(ve,ye);return function(e){var t=typeof e.getAttributeNode!==q&&e.getAttributeNode("id");return t&&t.value===n}}),w.find.TAG=m.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==q)return t.getElementsByTagName(e)}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},w.find.CLASS=m.getElementsByClassName&&function(e,t){if(R)return t.getElementsByClassName(e)},I=[],O=[],(m.qsa=he.test(l.querySelectorAll))&&(i(function(e){e.innerHTML="<select msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&O.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||O.push("\\["+ee+"*(?:value|"+Z+")"),e.querySelectorAll(":checked").length||O.push(":checked")}),i(function(e){var t=l.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&O.push("name"+ee+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||O.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),O.push(",.*:")})),(m.matchesSelector=he.test(B=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&i(function(e){m.disconnectedMatch=B.call(e,"div"),B.call(e,"[s!='']:x"),I.push("!=",ie)}),O=O.length&&new RegExp(O.join("|")),I=I.length&&new RegExp(I.join("|")),t=he.test(D.compareDocumentPosition),L=t||he.test(D.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},W=t?function(e,t){if(e===t)return N=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!m.sortDetached&&t.compareDocumentPosition(e)===n?e===l||e.ownerDocument===M&&L(M,e)?-1:t===l||t.ownerDocument===M&&L(M,t)?1:S?J.call(S,e)-J.call(S,t):0:4&n?-1:1)}:function(e,t){if(e===t)return N=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!r||!o)return e===l?-1:t===l?1:r?-1:o?1:S?J.call(S,e)-J.call(S,t):0;if(r===o)return c(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?c(a[i],s[i]):a[i]===M?-1:s[i]===M?1:0},l):A},C.matches=function(e,t){return C(e,null,null,t)},C.matchesSelector=function(e,t){if((e.ownerDocument||e)!==A&&k(e),t=t.replace(se,"='$1']"),m.matchesSelector&&R&&(!I||!I.test(t))&&(!O||!O.test(t)))try{var n=B.call(e,t);if(n||m.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<C(t,A,null,[e]).length},C.contains=function(e,t){return(e.ownerDocument||e)!==A&&k(e),L(e,t)},C.attr=function(e,t){(e.ownerDocument||e)!==A&&k(e);var n=w.attrHandle[t.toLowerCase()],i=n&&V.call(w.attrHandle,t.toLowerCase())?n(e,t,!R):be;return i!==be?i:m.attributes||!R?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},C.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},C.uniqueSort=function(e){var t,n=[],i=0,r=0;if(N=!m.detectDuplicates,S=!m.sortStable&&e.slice(0),e.sort(W),N){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return S=null,e},u=C.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=u(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=u(t);return n},(w=C.selectors={cacheLength:50,createPseudo:l,match:ue,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ve,ye),e[3]=(e[3]||e[4]||e[5]||"").replace(ve,ye),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||C.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&C.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return ue.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&le.test(n)&&(t=_(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ve,ye).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=$[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&$(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==q&&e.getAttribute("class")||"")})},ATTR:function(n,i,r){return function(e){var t=C.attr(e,n);return null==t?"!="===i:!i||(t+="","="===i?t===r:"!="===i?t!==r:"^="===i?r&&0===t.indexOf(r):"*="===i?r&&-1<t.indexOf(r):"$="===i?r&&t.slice(-r.length)===r:"~="===i?-1<(" "+t+" ").indexOf(r):"|="===i&&(t===r||t.slice(0,r.length+1)===r+"-"))}},CHILD:function(h,e,t,p,g){var m="nth"!==h.slice(0,3),v="last"!==h.slice(-4),y="of-type"===e;return 1===p&&0===g?function(e){return!!e.parentNode}:function(e,t,n){var i,r,o,a,s,l,c=m!==v?"nextSibling":"previousSibling",u=e.parentNode,d=y&&e.nodeName.toLowerCase(),f=!n&&!y;if(u){if(m){for(;c;){for(o=e;o=o[c];)if(y?o.nodeName.toLowerCase()===d:1===o.nodeType)return!1;l=c="only"===h&&!l&&"nextSibling"}return!0}if(l=[v?u.firstChild:u.lastChild],v&&f){for(s=(i=(r=u[P]||(u[P]={}))[h]||[])[0]===H&&i[1],a=i[0]===H&&i[2],o=s&&u.childNodes[s];o=++s&&o&&o[c]||(a=s=0)||l.pop();)if(1===o.nodeType&&++a&&o===e){r[h]=[H,s,a];break}}else if(f&&(i=(e[P]||(e[P]={}))[h])&&i[0]===H)a=i[1];else for(;(o=++s&&o&&o[c]||(a=s=0)||l.pop())&&((y?o.nodeName.toLowerCase()!==d:1!==o.nodeType)||!++a||(f&&((o[P]||(o[P]={}))[h]=[H,a]),o!==e)););return(a-=g)===p||a%p==0&&0<=a/p}}},PSEUDO:function(e,o){var t,a=w.pseudos[e]||w.setFilters[e.toLowerCase()]||C.error("unsupported pseudo: "+e);return a[P]?a(o):1<a.length?(t=[e,e,"",o],w.setFilters.hasOwnProperty(e.toLowerCase())?l(function(e,t){for(var n,i=a(e,o),r=i.length;r--;)e[n=J.call(e,i[r])]=!(t[n]=i[r])}):function(e){return a(e,0,t)}):a}},pseudos:{not:l(function(e){var i=[],r=[],s=b(e.replace(re,"$1"));return s[P]?l(function(e,t,n,i){for(var r,o=s(e,null,i,[]),a=e.length;a--;)(r=o[a])&&(e[a]=!(t[a]=r))}):function(e,t,n){return i[0]=e,s(i,null,n,r),!r.pop()}}),has:l(function(t){return function(e){return 0<C(t,e).length}}),contains:l(function(t){return t=t.replace(ve,ye),function(e){return-1<(e.textContent||e.innerText||u(e)).indexOf(t)}}),lang:l(function(n){return ce.test(n||"")||C.error("unsupported lang: "+n),n=n.replace(ve,ye).toLowerCase(),function(e){var t;do{if(t=R?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===D},focus:function(e){return e===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return fe.test(e.nodeName)},input:function(e){return de.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:o(function(){return[0]}),last:o(function(e,t){return[t-1]}),eq:o(function(e,t,n){return[n<0?n+t:n]}),even:o(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:o(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:o(function(e,t,n){for(var i=n<0?n+t:n;0<=--i;)e.push(i);return e}),gt:o(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[s]=n(s);for(s in{submit:!0,reset:!0})w.pseudos[s]=r(s);return a.prototype=w.filters=w.pseudos,w.setFilters=new a,_=C.tokenize=function(e,t){var n,i,r,o,a,s,l,c=j[e+" "];if(c)return t?0:c.slice(0);for(a=e,s=[],l=w.preFilter;a;){for(o in n&&!(i=oe.exec(a))||(i&&(a=a.slice(i[0].length)||a),s.push(r=[])),n=!1,(i=ae.exec(a))&&(n=i.shift(),r.push({value:n,type:i[0].replace(re," ")}),a=a.slice(n.length)),w.filter)!(i=ue[o].exec(a))||l[o]&&!(i=l[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),a=a.slice(n.length));if(!n)break}return t?a.length:a?C.error(e):j(e,s).slice(0)},b=C.compile=function(e,t){var n,m,v,y,b,i,r=[],o=[],a=z[e+" "];if(!a){for(t||(t=_(e)),n=t.length;n--;)(a=h(t[n]))[P]?r.push(a):o.push(a);(a=z(e,(m=o,y=0<(v=r).length,b=0<m.length,i=function(e,t,n,i,r){var o,a,s,l=0,c="0",u=e&&[],d=[],f=T,h=e||b&&w.find.TAG("*",r),p=H+=null==f?1:Math.random()||.1,g=h.length;for(r&&(T=t!==A&&t);c!==g&&null!=(o=h[c]);c++){if(b&&o){for(a=0;s=m[a++];)if(s(o,t,n)){i.push(o);break}r&&(H=p)}y&&((o=!s&&o)&&l--,e&&u.push(o))}if(l+=c,y&&c!==l){for(a=0;s=v[a++];)s(u,d,t,n);if(e){if(0<l)for(;c--;)u[c]||d[c]||(d[c]=K.call(i));d=x(d)}G.apply(i,d),r&&!e&&0<d.length&&1<l+v.length&&C.uniqueSort(i)}return r&&(H=p,T=f),u},y?l(i):i))).selector=e}return a},E=C.select=function(e,t,n,i){var r,o,a,s,l,c="function"==typeof e&&e,u=!i&&_(e=c.selector||e);if(n=n||[],1===u.length){if(2<(o=u[0]=u[0].slice(0)).length&&"ID"===(a=o[0]).type&&m.getById&&9===t.nodeType&&R&&w.relative[o[1].type]){if(!(t=(w.find.ID(a.matches[0].replace(ve,ye),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=ue.needsContext.test(e)?0:o.length;r--&&(a=o[r],!w.relative[s=a.type]);)if((l=w.find[s])&&(i=l(a.matches[0].replace(ve,ye),ge.test(o[0].type)&&p(t.parentNode)||t))){if(o.splice(r,1),!(e=i.length&&g(o)))return G.apply(n,i),n;break}}return(c||b(e,u))(i,t,!R,n,ge.test(e)&&p(t.parentNode)||t),n},m.sortStable=P.split("").sort(W).join("")===P,m.detectDuplicates=!!N,k(),m.sortDetached=i(function(e){return 1&e.compareDocumentPosition(A.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||t("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),m.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||t("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||t(Z,function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),C}),e(u,[],function(){function e(e,t,n){var i,r;if(!e)return 0;if(n=n||e,e.length!==be){for(i=0,r=e.length;i<r;i++)if(!1===t.call(n,e[i],i,e))return 0}else for(i in e)if(e.hasOwnProperty(i)&&!1===t.call(n,e[i],i,e))return 0;return 1}function r(e,t,n){var i,r;for(i=0,r=e.length;i<r;i++)if(t.call(n,e[i],i,e))return i;return-1}var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};return{isArray:o,toArray:function(e){var t,n,i=e;if(!o(e))for(i=[],t=0,n=e.length;t<n;t++)i[t]=e[t];return i},each:e,map:function(n,i){var r=[];return e(n,function(e,t){r.push(i(e,t,n))}),r},filter:function(n,i){var r=[];return e(n,function(e,t){i&&!i(e,t,n)||r.push(e)}),r},indexOf:function(e,t){var n,i;if(e)for(n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},reduce:function(e,t,n,i){var r=0;for(arguments.length<3&&(n=e[0]);r<e.length;r++)n=t.call(i,n,e[r],r);return n},findIndex:r,find:function(e,t,n){var i=r(e,t,n);return-1!==i?e[i]:be},last:function(e){return e[e.length-1]}}}),e(d,[r,u],function(n,a){function i(e){return null===e||e===be?"":(""+e).replace(t,"")}function r(e,t){return t?!("array"!=t||!a.isArray(e))||typeof e==t:e!==be}var t=/^\s*|\s*$/g;return{trim:i,isArray:a.isArray,is:r,toArray:a.toArray,makeMap:function(e,t,n){var i;for(t=t||",","string"==typeof(e=e||[])&&(e=e.split(t)),n=n||{},i=e.length;i--;)n[e[i]]={};return n},each:a.each,map:a.map,grep:a.filter,inArray:a.indexOf,hasOwn:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},extend:function(e,t){var n,i,r,o,a=arguments;for(n=1,i=a.length;n<i;n++)for(r in t=a[n])t.hasOwnProperty(r)&&(o=t[r])!==be&&(e[r]=o);return e},create:function(e,t,n){var i,r,o,a,s,l=0;if(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),o=e[3].match(/(^|\.)(\w+)$/i)[2],!(r=this.createNS(e[3].replace(/\.\w+$/,""),n))[o]){if("static"==e[2])return r[o]=t,void(this.onCreate&&this.onCreate(e[2],e[3],r[o]));t[o]||(t[o]=function(){},l=1),r[o]=t[o],this.extend(r[o].prototype,t),e[5]&&(i=this.resolve(e[5]).prototype,a=e[5].match(/\.(\w+)$/i)[1],s=r[o],r[o]=l?function(){return i[a].apply(this,arguments)}:function(){return this.parent=i[a],s.apply(this,arguments)},r[o].prototype[o]=r[o],this.each(i,function(e,t){r[o].prototype[t]=i[t]}),this.each(t,function(e,t){i[t]?r[o].prototype[t]=function(){return this.parent=i[t],e.apply(this,arguments)}:t!=o&&(r[o].prototype[t]=e)})),this.each(t.static,function(e,t){r[o][t]=e})}},walk:function n(e,i,r,o){o=o||this,e&&(r&&(e=e[r]),a.each(e,function(e,t){return!1!==i.call(o,e,t,r)&&void n(e,i,r,o)}))},createNS:function(e,t){var n,i;for(t=t||window,e=e.split("."),n=0;n<e.length;n++)t[i=e[n]]||(t[i]={}),t=t[i];return t},resolve:function(e,t){var n,i;for(t=t||window,n=0,i=(e=e.split(".")).length;n<i&&(t=t[e[n]]);n++);return t},explode:function(e,t){return!e||r(e,"array")?e:a.map(e.split(t||","),i)},_addCacheSuffix:function(e){var t=n.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}}}),e(f,[a,c,d,r],function(e,t,n,i){function s(e){return void 0!==e}function o(e){return"string"==typeof e}function a(e,t){var n,i,r;for(r=(t=t||C).createElement("div"),n=t.createDocumentFragment(),r.innerHTML=e;i=r.firstChild;)n.appendChild(i);return n}function l(e,t,n,i){var r;if(o(t))t=a(t,p(e[0]));else if(t.length&&!t.nodeType){if(t=u.makeArray(t),i)for(r=t.length-1;0<=r;r--)l(e,t[r],n,i);else for(r=0;r<t.length;r++)l(e,t[r],n,i);return e}if(t.nodeType)for(r=e.length;r--;)n.call(e[r],t);return e}function c(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")}function r(e,t,n){var i,r;return t=u(t)[0],e.each(function(){n&&i==this.parentNode||(i=this.parentNode,r=t.cloneNode(!1),this.parentNode.insertBefore(r,this)),r.appendChild(this)}),e}function u(e,t){return new u.fn.init(e,t)}function d(e){return null===e||e===b?"":(""+e).replace(O,"")}function f(e,t){var n,i,r,o;if(e)if(void 0===(n=e.length)){for(i in e)if(e.hasOwnProperty(i)&&(o=e[i],!1===t.call(o,i,o)))break}else for(r=0;r<n&&(o=e[r],!1!==t.call(o,r,o));r++);return e}function h(e,n){var i=[];return f(e,function(e,t){n(t,e)&&i.push(t)}),i}function p(e){return e?9==e.nodeType?e:e.ownerDocument:C}function g(e,t,n){var i=[],r=e[t];for("string"!=typeof n&&n instanceof u&&(n=n[0]);r&&9!==r.nodeType;){if(n!==be){if(r===n)break;if("string"==typeof n&&u(r).is(n))break}1===r.nodeType&&i.push(r),r=r[t]}return i}function m(e,t,n,i){var r=[];for(i instanceof u&&(i=i[0]);e;e=e[t])if(!n||e.nodeType===n){if(i!==be){if(e===i)break;if("string"==typeof i&&u(e).is(i))break}r.push(e)}return r}function v(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType==n)return e;return null}function y(n,i,e){f(e,function(e,t){n[e]=n[e]||{},n[e][i]=t})}var b,C=document,x=Array.prototype.push,w=Array.prototype.slice,_=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,E=e.Event,T=n.makeMap("children,contents,next,prev"),S=n.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),N=n.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),k={for:"htmlFor",class:"className",readonly:"readOnly"},A={float:"cssFloat"},D={},R={},O=/^\s*|\s*$/g;return u.fn=u.prototype={constructor:u,selector:"",context:null,length:0,init:function(e,t){var n,i,r=this;if(!e)return r;if(e.nodeType)return r.context=r[0]=e,r.length=1,r;if(t&&t.nodeType)r.context=t;else{if(t)return u(e).attr(t);r.context=t=document}if(o(e)){if(!(n="<"===(r.selector=e).charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:_.exec(e)))return u(t).find(e);if(n[1])for(i=a(e,p(t)).firstChild;i;)x.call(r,i),i=i.nextSibling;else{if(!(i=p(t).getElementById(n[2])))return r;if(i.id!==n[2])return r.find(e);r.length=1,r[0]=i}}else this.add(e,!1);return r},toArray:function(){return n.toArray(this)},add:function(e,t){var n,i;if(o(e))return this.add(u(e));if(!1!==t)for(n=u.unique(this.toArray().concat(u.makeArray(e))),this.length=n.length,i=0;i<n.length;i++)this[i]=n[i];else x.apply(this,u.makeArray(e));return this},attr:function(t,n){var e,i=this;if("object"==typeof t)f(t,function(e,t){i.attr(e,t)});else{if(!s(n)){if(i[0]&&1===i[0].nodeType){if((e=D[t])&&e.get)return e.get(i[0],t);if(N[t])return i.prop(t)?t:b;null===(n=i[0].getAttribute(t,2))&&(n=b)}return n}this.each(function(){var e;if(1===this.nodeType){if((e=D[t])&&e.set)return void e.set(this,n);null===n?this.removeAttribute(t,2):this.setAttribute(t,n,2)}})}return i},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if("object"==typeof(e=k[e]||e))f(e,function(e,t){n.prop(e,t)});else{if(!s(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each(function(){1==this.nodeType&&(this[e]=t)})}return n},css:function(t,n){function e(e){return e.replace(/-(\D)/g,function(e,t){return t.toUpperCase()})}function i(e){return e.replace(/[A-Z]/g,function(e){return"-"+e})}var r,o,a=this;if("object"==typeof t)f(t,function(e,t){a.css(e,t)});else if(s(n))t=e(t),"number"!=typeof n||S[t]||(n+="px"),a.each(function(){var e=this.style;if((o=R[t])&&o.set)o.set(this,n);else{try{this.style[A[t]||t]=n}catch(e){}null!==n&&""!==n||(e.removeProperty?e.removeProperty(i(t)):e.removeAttribute(t))}});else{if(r=a[0],(o=R[t])&&o.get)return o.get(r);if(r.ownerDocument.defaultView)try{return r.ownerDocument.defaultView.getComputedStyle(r,null).getPropertyValue(i(t))}catch(e){return b}else if(r.currentStyle)return r.currentStyle[e(t)]}return a},remove:function(){for(var e,t=this.length;t--;)e=this[t],E.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,t=this.length;t--;)for(e=this[t];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(t){var n,i=this;if(s(t)){n=i.length;try{for(;n--;)i[n].innerHTML=t}catch(e){u(i[n]).empty().append(t)}return i}return i[0]?i[0].innerHTML:""},text:function(e){var t;if(s(e)){for(t=this.length;t--;)"innerText"in this[t]?this[t].innerText=e:this[0].textContent=e;return this}return this[0]?this[0].innerText||this[0].textContent:""},append:function(){return l(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)})},prepend:function(){return l(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){return this[0]&&this[0].parentNode?l(this,arguments,function(e){this.parentNode.insertBefore(e,this)}):this},after:function(){return this[0]&&this[0].parentNode?l(this,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)},!0):this},appendTo:function(e){return u(e).append(this),this},prependTo:function(e){return u(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return r(this,e)},wrapAll:function(e){return r(this,e,!0)},wrapInner:function(e){return this.each(function(){u(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){u(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),u(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(r,o){var e=this;return"string"!=typeof r||(-1!==r.indexOf(" ")?f(r.split(" "),function(){e.toggleClass(this,o)}):e.each(function(e,t){var n,i;(i=c(t,r))!==o&&(n=t.className,i?t.className=d((" "+n+" ").replace(" "+r+" "," ")):t.className+=n?" "+r:r)})),e},hasClass:function(e){return c(this[0],e)},each:function(e){return f(this,e)},on:function(e,t){return this.each(function(){E.bind(this,e,t)})},off:function(e,t){return this.each(function(){E.unbind(this,e,t)})},trigger:function(e){return this.each(function(){"object"==typeof e?E.fire(this,e.type,e):E.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new u(w.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,i=[];for(t=0,n=this.length;t<n;t++)u.find(e,this[t],i);return u(i)},filter:function(n){return u("function"==typeof n?h(this.toArray(),function(e,t){return n(t,e)}):u.filter(n,this.toArray()))},closest:function(n){var i=[];return n instanceof u&&(n=n[0]),this.each(function(e,t){for(;t;){if("string"==typeof n&&u(t).is(n)){i.push(t);break}if(t==n){i.push(t);break}t=t.parentNode}}),u(i)},offset:function(e){var t,n,i,r,o=0,a=0;return e?this.css(e):((t=this[0])&&(i=(n=t.ownerDocument).documentElement,t.getBoundingClientRect&&(o=(r=t.getBoundingClientRect()).left+(i.scrollLeft||n.body.scrollLeft)-i.clientLeft,a=r.top+(i.scrollTop||n.body.scrollTop)-i.clientTop)),{left:o,top:a})},push:x,sort:[].sort,splice:[].splice},n.extend(u,{extend:n.extend,makeArray:function(e){return(t=e)&&t==t.window||e.nodeType?[e]:n.toArray(e);var t},inArray:function(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1},isArray:n.isArray,each:f,trim:d,grep:h,find:t,expr:t.selectors,unique:t.uniqueSort,text:t.getText,contains:t.contains,filter:function(e,t,n){var i=t.length;for(n&&(e=":not("+e+")");i--;)1!=t[i].nodeType&&t.splice(i,1);return 1===t.length?u.find.matchesSelector(t[0],e)?[t[0]]:[]:u.find.matches(e,t)}}),f({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return g(e,"parentNode")},next:function(e){return v(e,"nextSibling",1)},prev:function(e){return v(e,"previousSibling",1)},children:function(e){return m(e.firstChild,"nextSibling",1)},contents:function(e){return n.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,i){u.fn[e]=function(t){var n=[];return this.each(function(){var e=i.call(n,this,t,n);e&&(u.isArray(e)?n.push.apply(n,e):n.push(e))}),1<this.length&&(T[e]||(n=u.unique(n)),0===e.indexOf("parents")&&(n=n.reverse())),n=u(n),t?n.filter(t):n}}),f({parentsUntil:function(e,t){return g(e,"parentNode",t)},nextUntil:function(e,t){return m(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return m(e,"previousSibling",1,t).slice(1)}},function(i,r){u.fn[i]=function(t,e){var n=[];return this.each(function(){var e=r.call(n,this,t,n);e&&(u.isArray(e)?n.push.apply(n,e):n.push(e))}),1<this.length&&(n=u.unique(n),0!==i.indexOf("parents")&&"prevUntil"!==i||(n=n.reverse())),n=u(n),e?n.filter(e):n}}),u.fn.is=function(e){return!!e&&0<this.filter(e).length},u.fn.init.prototype=u.fn,u.overrideDefaults=function(n){function i(e,t){return r=r||n(),0===arguments.length&&(e=r.element),t||(t=r.context),new i.fn.init(e,t)}var r;return u.extend(i,this),i},i.ie&&i.ie<8&&(y(D,"get",{maxlength:function(e){var t=e.maxLength;return 2147483647===t?b:t},size:function(e){var t=e.size;return 20===t?b:t},class:function(e){return e.className},style:function(e){var t=e.style.cssText;return 0===t.length?b:t}}),y(D,"set",{class:function(e,t){e.className=t},style:function(e,t){e.style.cssText=t}})),i.ie&&i.ie<9&&(A.float="styleFloat",y(R,"set",{opacity:function(e,t){var n=e.style;null===t||""===t?n.removeAttribute("filter"):(n.zoom=1,n.filter="alpha(opacity="+100*t+")")}})),u.attrHooks=D,u.cssHooks=R,u}),e(h,[],function(){return function(b,e){function C(e,t,n,i){function r(e){return 1<(e=parseInt(e,10).toString(16)).length?e:"0"+e}return"#"+r(t)+r(n)+r(i)}var x,t,c,u,w=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,_=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,E=/\s*([^:]+):\s*([^;]+);?/g,T=/\s+$/,S={},N="\ufeff";for(b=b||{},e&&(c=e.getValidStyles(),u=e.getInvalidStyles()),t=("\\\" \\' \\; \\: ; : "+N).split(" "),x=0;x<t.length;x++)S[t[x]]=N+x,S[N+x]=t[x];return{toHex:function(e){return e.replace(w,C)},parse:function(e){function t(e,t,n){var i,r,o,a;if((i=m[e+"-top"+t])&&((r=m[e+"-right"+t])&&((o=m[e+"-bottom"+t])&&(a=m[e+"-left"+t])))){var s=[i,r,o,a];for(x=s.length-1;x--&&s[x]===s[x+1];);-1<x&&n||(m[e+t]=-1==x?s[0]:s.join(" "),delete m[e+"-top"+t],delete m[e+"-right"+t],delete m[e+"-bottom"+t],delete m[e+"-left"+t])}}function n(e){var t,n=m[e];if(n){for(t=(n=n.split(" ")).length;t--;)if(n[t]!==n[0])return!1;return m[e]=n[0],!0}}function i(e){return d=!0,S[e]}function s(e,t){return d&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return S[e]})),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e}function r(e){return String.fromCharCode(parseInt(e.slice(1),16))}function o(e){return e.replace(/\\[0-9a-f]+/gi,r)}function a(e,t,n,i,r,o){if(r=r||o)return"'"+(r=s(r)).replace(/\'/g,"\\'")+"'";if(t=s(t||n||i),!b.allow_script_urls){var a=t.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(a))return"";if(!b.allow_svg_data_urls&&/^data:image\/svg/i.test(a))return""}return v&&(t=v.call(y,t,"style")),"url('"+t.replace(/\'/g,"\\'")+"')"}var l,c,u,d,f,h,p,g,m={},v=b.url_converter,y=b.url_converter_scope||this;if(e){for(e=(e=e.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,i).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,i)});l=E.exec(e);)if(E.lastIndex=l.index+l[0].length,c=l[1].replace(T,"").toLowerCase(),u=l[2].replace(T,""),c&&u){if(c=o(c),u=o(u),-1!==c.indexOf(N)||-1!==c.indexOf('"'))continue;if(!b.allow_script_urls&&("behavior"==c||/expression\s*\(|\/\*|\*\//.test(u)))continue;"font-weight"===c&&"700"===u?u="bold":"color"!==c&&"background-color"!==c||(u=u.toLowerCase()),u=(u=u.replace(w,C)).replace(_,a),m[c]=d?s(u,!0):u}t("border","",!0),t("border","-width"),t("border","-color"),t("border","-style"),t("padding",""),t("margin",""),f="border",p="border-style",g="border-color",n(h="border-width")&&n(p)&&n(g)&&(m[f]=m[h]+" "+m[p]+" "+m[g],delete m[h],delete m[p],delete m[g]),"medium none"===m.border&&delete m.border,"none"===m["border-image"]&&delete m["border-image"]}return m},serialize:function(o,e){function t(e){var t,n,i,r;if(t=c[e])for(n=0,i=t.length;n<i;n++)e=t[n],(r=o[e])&&(l+=(0<l.length?" ":"")+e+": "+r+";")}var n,i,r,a,s,l="";if(e&&c)t("*"),t(e);else for(n in o)!(i=o[n])||u&&(r=n,a=e,s=void 0,(s=u["*"])&&s[r]||(s=u[a])&&s[r])||(l+=(0<l.length?" ":"")+n+": "+i+";");return l}}}}),e(p,[],function(){return function(e,s){function t(e,t,n,i){var r,o;if(e){if(!i&&e[t])return e[t];if(e!=s){if(r=e[n])return r;for(o=e.parentNode;o&&o!=s;o=o.parentNode)if(r=o[n])return r}}}var n=e;this.current=function(){return n},this.next=function(e){return n=t(n,"firstChild","nextSibling",e)},this.prev=function(e){return n=t(n,"lastChild","previousSibling",e)},this.prev2=function(e){return n=function(e,t,n,i){var r,o,a;if(e){if(r=e[n],s&&r===s)return;if(r){if(!i)for(a=r[t];a;a=a[t])if(!a[t])return a;return r}if((o=e.parentNode)&&o!==s)return o}}(n,"lastChild","previousSibling",e)}}}),e(g,[d],function(D){function R(u){function d(){return C.createDocumentFragment()}function t(e,t){o(_,e,t)}function n(e,t){o(E,e,t)}function i(e){t(e.parentNode,A(e))}function r(e){n(e.parentNode,A(e)+1)}function e(){return a(x)}function f(e,t){var n;if(3==e.nodeType)return e;if(t<0)return e;for(n=e.firstChild;n&&0<t;)--t,n=n.nextSibling;return n||e}function h(e,t,n,i){var r,o,a,s,l,c;if(e==n)return t==i?0:t<i?-1:1;for(r=n;r&&r.parentNode!=e;)r=r.parentNode;if(r){for(o=0,a=e.firstChild;a!=r&&o<t;)o++,a=a.nextSibling;return t<=o?-1:1}for(r=e;r&&r.parentNode!=n;)r=r.parentNode;if(r){for(o=0,a=n.firstChild;a!=r&&o<i;)o++,a=a.nextSibling;return o<i?-1:1}for(s=u.findCommonAncestor(e,n),l=e;l&&l.parentNode!=s;)l=l.parentNode;for(l||(l=s),c=n;c&&c.parentNode!=s;)c=c.parentNode;if(c||(c=s),l==c)return 0;for(a=s.firstChild;a;){if(a==l)return-1;if(a==c)return 1;a=a.nextSibling}}function o(e,t,n){var i,r;for(e?(b[S]=t,b[T]=n):(b[N]=t,b[k]=n),i=b[N];i.parentNode;)i=i.parentNode;for(r=b[S];r.parentNode;)r=r.parentNode;r==i?0<h(b[S],b[T],b[N],b[k])&&b.collapse(e):b.collapse(e),b.collapsed=b[S]==b[N]&&b[T]==b[k],b.commonAncestorContainer=u.findCommonAncestor(b[S],b[N])}function a(e){var t,n,i,r,o,a,s,l=0,c=0;if(b[S]==b[N])return function(e){var t,n,i,r,o,a,s,l,c;if(e!=w&&(t=d()),b[T]==b[k])return t;if(3==b[S].nodeType){if(n=b[S].nodeValue,i=n.substring(b[T],b[k]),e!=x&&(r=b[S],l=b[T],c=b[k]-b[T],0===l&&c>=r.nodeValue.length-1?r.parentNode.removeChild(r):r.deleteData(l,c),b.collapse(_)),e==w)return;return 0<i.length&&t.appendChild(C.createTextNode(i)),t}for(r=f(b[S],b[T]),o=b[k]-b[T];r&&0<o;)a=r.nextSibling,s=y(r,e),t&&t.appendChild(s),--o,r=a;return e!=x&&b.collapse(_),t}(e);for(n=(t=b[N]).parentNode;n;n=(t=n).parentNode){if(n==b[S])return p(t,e);++l}for(n=(t=b[S]).parentNode;n;n=(t=n).parentNode){if(n==b[N])return g(t,e);++c}for(i=c-l,r=b[S];0<i;)r=r.parentNode,i--;for(o=b[N];i<0;)o=o.parentNode,i++;for(a=r.parentNode,s=o.parentNode;a!=s;a=a.parentNode,s=s.parentNode)r=a,o=s;return function(e,t,n){var i,r,o,a,s,l,c;for(n!=w&&(r=d()),i=v(e,n),r&&r.appendChild(i),o=A(e),a=A(t),s=a-++o,l=e.nextSibling;0<s;)c=l.nextSibling,i=y(l,n),r&&r.appendChild(i),l=c,--s;return i=m(t,n),r&&r.appendChild(i),n!=x&&(b.setStartAfter(e),b.collapse(_)),r}(r,o,e)}function p(e,t){var n,i,r,o,a;if(t!=w&&(n=d()),i=m(e,t),n&&n.appendChild(i),(r=A(e)-b[T])<=0)return t!=x&&(b.setEndBefore(e),b.collapse(E)),n;for(i=e.previousSibling;0<r;)o=i.previousSibling,a=y(i,t),n&&n.insertBefore(a,n.firstChild),--r,i=o;return t!=x&&(b.setEndBefore(e),b.collapse(E)),n}function g(e,t){var n,i,r,o,a,s;for(t!=w&&(n=d()),r=v(e,t),n&&n.appendChild(r),i=A(e),++i,o=b[k]-i,r=e.nextSibling;r&&0<o;)a=r.nextSibling,s=y(r,t),n&&n.appendChild(s),--o,r=a;return t!=x&&(b.setStartAfter(e),b.collapse(_)),n}function m(e,t){var n,i,r,o,a,s=f(b[N],b[k]-1),l=s!=b[N];if(s==e)return c(s,l,E,t);for(i=c(n=s.parentNode,E,E,t);n;){for(;s;)r=s.previousSibling,o=c(s,l,E,t),t!=w&&i.insertBefore(o,i.firstChild),l=_,s=r;if(n==e)return i;s=n.previousSibling,a=c(n=n.parentNode,E,E,t),t!=w&&a.appendChild(i),i=a}}function v(e,t){var n,i,r,o,a,s=f(b[S],b[T]),l=s!=b[S];if(s==e)return c(s,l,_,t);for(i=c(n=s.parentNode,E,_,t);n;){for(;s;)r=s.nextSibling,o=c(s,l,_,t),t!=w&&i.appendChild(o),l=_,s=r;if(n==e)return i;s=n.nextSibling,a=c(n=n.parentNode,E,_,t),t!=w&&a.appendChild(i),i=a}}function c(e,t,n,i){var r,o,a,s,l;if(t)return y(e,i);if(3==e.nodeType){if(r=e.nodeValue,n?(s=b[T],o=r.substring(s),a=r.substring(0,s)):(s=b[k],o=r.substring(0,s),a=r.substring(s)),i!=x&&(e.nodeValue=a),i==w)return;return(l=u.clone(e,E)).nodeValue=o,l}return i!=w?u.clone(e,E):void 0}function y(e,t){return t!=w?t==x?u.clone(e,_):e:void e.parentNode.removeChild(e)}var b=this,C=u.doc,s=0,x=1,w=2,_=!0,E=!1,T="startOffset",S="startContainer",N="endContainer",k="endOffset",l=D.extend,A=u.nodeIndex;return l(b,{startContainer:C,startOffset:0,endContainer:C,endOffset:0,collapsed:_,commonAncestorContainer:C,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:t,setEnd:n,setStartBefore:i,setStartAfter:function(e){t(e.parentNode,A(e)+1)},setEndBefore:function(e){n(e.parentNode,A(e))},setEndAfter:r,collapse:function(e){e?(b[N]=b[S],b[k]=b[T]):(b[S]=b[N],b[T]=b[k]),b.collapsed=_},selectNode:function(e){i(e),r(e)},selectNodeContents:function(e){t(e,0),n(e,1===e.nodeType?e.childNodes.length:e.nodeValue.length)},compareBoundaryPoints:function(e,t){var n=b[S],i=b[T],r=b[N],o=b[k],a=t.startContainer,s=t.startOffset,l=t.endContainer,c=t.endOffset;return 0===e?h(n,i,a,s):1===e?h(r,o,a,s):2===e?h(r,o,l,c):3===e?h(n,i,l,c):void 0},deleteContents:function(){a(w)},extractContents:function(){return a(s)},cloneContents:e,insertNode:function(e){var t,n,i=this[S],r=this[T];3!==i.nodeType&&4!==i.nodeType||!i.nodeValue?(0<i.childNodes.length&&(n=i.childNodes[r]),n?i.insertBefore(e,n):3==i.nodeType?u.insertAfter(e,i):i.appendChild(e)):r?r>=i.nodeValue.length?u.insertAfter(e,i):(t=i.splitText(r),i.parentNode.insertBefore(e,t)):i.parentNode.insertBefore(e,i)},surroundContents:function(e){var t=b.extractContents();b.insertNode(e),e.appendChild(t),b.selectNode(e)},cloneRange:function(){return l(new R(u),{startContainer:b[S],startOffset:b[T],endContainer:b[N],endOffset:b[k],collapsed:b.collapsed,commonAncestorContainer:b.commonAncestorContainer})},toStringIE:function(){return u.create("body",null,e()).outerText}}),b}return R.prototype.toString=function(){return this.toStringIE()},R}),e(m,[d],function(e){function t(e,t){var n,i,r,o={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)i=String.fromCharCode(parseInt(e[n],t)),a[i]||(r="&"+e[n+1]+";",o[i]=r,o[r]=i);return o}}var r,a,o,i=e.makeMap,s=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,n=/[<>&\"\']/g,c=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,u={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""};a={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},o={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},r=t("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var d={encodeRaw:function(e,t){return e.replace(t?s:l,function(e){return a[e]||e})},encodeAllRaw:function(e){return(""+e).replace(n,function(e){return a[e]||e})},encodeNumeric:function(e,t){return e.replace(t?s:l,function(e){return 1<e.length?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":a[e]||"&#"+e.charCodeAt(0)+";"})},encodeNamed:function(e,t,n){return n=n||r,e.replace(t?s:l,function(e){return a[e]||n[e]||e})},getEncodeFunc:function(e,n){return n=t(n)||r,(e=i(e.replace(/\+/g,","))).named&&e.numeric?function(e,t){return e.replace(t?s:l,function(e){return a[e]||n[e]||"&#"+e.charCodeAt(0)+";"||e})}:e.named?n?function(e,t){return d.encodeNamed(e,t,n)}:d.encodeNamed:e.numeric?d.encodeNumeric:d.encodeRaw},decode:function(e){return e.replace(c,function(e,t){return t?65535<(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):u[t]||String.fromCharCode(t):o[e]||r[e]||(n=e,(i=document.createElement("div")).innerHTML=n,i.textContent||i.innerText||n);var n,i})}};return d}),e(v,[d,i],function(v,y){return function(f,e){function h(e){f.getElementsByTagName("head")[0].appendChild(e)}var p,g=0,m={};p=(e=e||{}).maxLoadTime||5e3,this.load=function(e,t,n){function r(){for(var e=u.passed,t=e.length;t--;)e[t]();u.status=2,u.passed=[],u.failed=[]}function i(){for(var e=u.failed,t=e.length;t--;)e[t]();u.status=3,u.passed=[],u.failed=[]}function o(e,t){e()||((new Date).getTime()-c<p?y.setTimeout(t):i())}function a(){o(function(){for(var e,t,n=f.styleSheets,i=n.length;i--;)if((t=(e=n[i]).ownerNode?e.ownerNode:e.owningElement)&&t.id===s.id)return r(),!0},a)}var s,l,c,u,d;if(e=v._addCacheSuffix(e),m[e]?u=m[e]:(u={passed:[],failed:[]},m[e]=u),t&&u.passed.push(t),n&&u.failed.push(n),1!=u.status){if(2==u.status)return void r();if(3==u.status)return void i();if(u.status=1,(s=f.createElement("link")).rel="stylesheet",s.type="text/css",s.id="u"+g++,s.async=!1,s.defer=!1,c=(new Date).getTime(),"onload"in s&&!((d=navigator.userAgent.match(/WebKit\/(\d*)/))&&d[1]<536))s.onload=a,s.onerror=i;else{if(0<navigator.userAgent.indexOf("Firefox"))return(l=f.createElement("style")).textContent='@import "'+e+'"',function e(){o(function(){try{var e=l.sheet.cssRules;return r(),!!e}catch(e){}},e)}(),void h(l);a()}h(s),s.href=e}}}}),e(y,[c,f,h,a,p,g,m,r,d,v],function(r,c,u,d,f,t,e,i,o,h){function a(e,t){var n=t.attr("style");(n=e.serializeStyle(e.parseStyle(n),t[0].nodeName))||(n=null),t.attr("data-mce-style",n)}function n(e,t){var n,i,r=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)i=e.nodeType,(!t||3!=i||i!=n&&e.nodeValue.length)&&(r++,n=i);return r}function s(e,t){var n,i,r,o,a,s,l=this;l.doc=e,l.win=window,l.files={},l.counter=0,l.stdMode=!v||8<=e.documentMode,l.boxModel=!v||"CSS1Compat"==e.compatMode||l.stdMode,l.styleSheetLoader=new h(e),l.boundEvents=[],l.settings=t=t||{},l.schema=t.schema,l.styles=new u({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),l.fixDoc(e),l.events=t.ownEvents?new d(t.proxy):d.Event,l.attrHooks=(i=l,a={},s=(r=t).keep_values,o={set:function(e,t,n){r.url_converter&&(t=r.url_converter.call(r.url_converter_scope||i,t,n,e[0])),e.attr("data-mce-"+n,t).attr(n,t)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}},a={style:{set:function(e,t){return null!==t&&"object"==typeof t?void e.css(t):(s&&e.attr("data-mce-style",t),void e.attr("style",t))},get:function(e){var t=e.attr("data-mce-style")||e.attr("style");return i.serializeStyle(i.parseStyle(t),e[0].nodeName)}}},s&&(a.href=a.src=o),a),n=t.schema?t.schema.getBlockElements():{},l.$=c.overrideDefaults(function(){return{context:e,element:l.getRoot()}}),l.isBlock=function(e){if(!e)return!1;var t=e.nodeType;return t?!(1!==t||!n[e.nodeName]):!!n[e]}}var l=o.each,p=o.is,g=o.grep,m=o.trim,v=i.ie,y=/^([a-z0-9],?)+$/i,b=/^[ \t\r\n]*$/;return s.prototype={$$:function(e){return"string"==typeof e&&(e=this.get(e)),this.$(e)},root:null,fixDoc:function(t){var e,n=this.settings;if(v&&n.schema)for(e in"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(e){t.createElement(e)}),n.schema.getCustomElements())t.createElement(e)},clone:function(t,e){var n,i,r=this;return!v||1!==t.nodeType||e?t.cloneNode(e):(i=r.doc,e?n.firstChild:(n=i.createElement(t.nodeName),l(r.getAttribs(t),function(e){r.setAttrib(n,e.nodeName,r.getAttrib(t,e.nodeName))}),n))},getRoot:function(){return this.settings.root_element||this.doc.body},getViewPort:function(e){var t,n;return t=(e=e||this.win).document,n=this.boxModel?t.documentElement:t.body,{x:e.pageXOffset||n.scrollLeft,y:e.pageYOffset||n.scrollTop,w:e.innerWidth||n.clientWidth,h:e.innerHeight||n.clientHeight}},getRect:function(e){var t,n;return e=this.get(e),t=this.getPos(e),n=this.getSize(e),{x:t.x,y:t.y,w:n.w,h:n.h}},getSize:function(e){var t,n;return e=this.get(e),t=this.getStyle(e,"width"),n=this.getStyle(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},getParent:function(e,t,n){return this.getParents(e,t,n,!1)},getParents:function(e,t,n,i){var r,o=this,a=[];for(e=o.get(e),i=i===be,n=n||("BODY"!=o.getRoot().nodeName?o.getRoot().parentNode:null),p(t,"string")&&(t="*"===(r=t)?function(e){return 1==e.nodeType}:function(e){return o.is(e,r)});e&&e!=n&&e.nodeType&&9!==e.nodeType;){if(!t||t(e)){if(!i)return e;a.push(e)}e=e.parentNode}return i?a:null},get:function(e){var t;return e&&this.doc&&"string"==typeof e&&(t=e,(e=this.doc.getElementById(e))&&e.id!==t)?this.doc.getElementsByName(t)[1]:e},getNext:function(e,t){return this._findSib(e,t,"nextSibling")},getPrev:function(e,t){return this._findSib(e,t,"previousSibling")},select:function(e,t){return r(e,this.get(t)||this.settings.root_element||this.doc,[])},is:function(e,t){var n;if(e.length===be){if("*"===t)return 1==e.nodeType;if(y.test(t)){for(t=t.toLowerCase().split(/,/),e=e.nodeName.toLowerCase(),n=t.length-1;0<=n;n--)if(t[n]==e)return!0;return!1}}if(e.nodeType&&1!=e.nodeType)return!1;var i=e.nodeType?[e]:e;return 0<r(t,i[0].ownerDocument||i[0],null,i).length},add:function(e,n,i,r,o){var a=this;return this.run(e,function(e){var t;return t=p(n,"string")?a.doc.createElement(n):n,a.setAttribs(t,i),r&&(r.nodeType?t.appendChild(r):a.setHTML(t,r)),o?t:e.appendChild(t)})},create:function(e,t,n){return this.add(this.doc.createElement(e),e,t,n,1)},createHTML:function(e,t,n){var i,r="";for(i in r+="<"+e,t)t.hasOwnProperty(i)&&null!==t[i]&&void 0!==t[i]&&(r+=" "+i+'="'+this.encode(t[i])+'"');return void 0!==n?r+">"+n+"</"+e+">":r+" />"},createFragment:function(e){var t,n,i,r=this.doc;for(i=r.createElement("div"),t=r.createDocumentFragment(),e&&(i.innerHTML=e);n=i.firstChild;)t.appendChild(n);return t},remove:function(e,t){return e=this.$$(e),t?e.each(function(){for(var e;e=this.firstChild;)3==e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)}).remove():e.remove(),1<e.length?e.toArray():e[0]},setStyle:function(e,t,n){e=this.$$(e).css(t,n),this.settings.update_styles&&a(this,e)},getStyle:function(e,t,n){return e=this.$$(e),n?e.css(t):("float"==(t=t.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}))&&(t=i.ie&&i.ie<12?"styleFloat":"cssFloat"),e[0]&&e[0].style?e[0].style[t]:be)},setStyles:function(e,t){e=this.$$(e).css(t),this.settings.update_styles&&a(this,e)},removeAllAttribs:function(e){return this.run(e,function(e){var t,n=e.attributes;for(t=n.length-1;0<=t;t--)e.removeAttributeNode(n.item(t))})},setAttrib:function(e,t,n){var i,r,o=this.settings;""===n&&(n=null),i=(e=this.$$(e)).attr(t),e.length&&((r=this.attrHooks[t])&&r.set?r.set(e,n,t):e.attr(t,n),i!=n&&o.onSetAttrib&&o.onSetAttrib({attrElm:e,attrName:t,attrValue:n}))},setAttribs:function(e,t){var i=this;i.$$(e).each(function(e,n){l(t,function(e,t){i.setAttrib(n,t,e)})})},getAttrib:function(e,t,n){var i,r;return(e=this.$$(e)).length&&(r=(i=this.attrHooks[t])&&i.get?i.get(e,t):e.attr(t)),void 0===r&&(r=n||""),r},getPos:function(e,t){var n,i,r=0,o=0,a=this.doc,s=a.body;if(t=t||s,e=this.get(e)){if(t===s&&e.getBoundingClientRect&&"static"===c(s).css("position"))return i=e.getBoundingClientRect(),t=this.boxModel?a.documentElement:s,{x:r=i.left+(a.documentElement.scrollLeft||s.scrollLeft)-t.clientLeft,y:o=i.top+(a.documentElement.scrollTop||s.scrollTop)-t.clientTop};for(n=e;n&&n!=t&&n.nodeType;)r+=n.offsetLeft||0,o+=n.offsetTop||0,n=n.offsetParent;for(n=e.parentNode;n&&n!=t&&n.nodeType;)r-=n.scrollLeft||0,o-=n.scrollTop||0,n=n.parentNode}return{x:r,y:o}},parseStyle:function(e){return this.styles.parse(e)},serializeStyle:function(e,t){return this.styles.serialize(e,t)},addStyle:function(e){var t,n,i=this.doc;if(this!==s.DOM&&i===document){var r=s.DOM.addedStyles;if((r=r||[])[e])return;r[e]=!0,s.DOM.addedStyles=r}(n=i.getElementById("mceDefaultStyles"))||((n=i.createElement("style")).id="mceDefaultStyles",n.type="text/css",(t=i.getElementsByTagName("head")[0]).firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(i.createTextNode(e))},loadCSS:function(e){var n,i=this,r=i.doc;return i!==s.DOM&&r===document?void s.DOM.loadCSS(e):(e||(e=""),n=r.getElementsByTagName("head")[0],void l(e.split(","),function(e){var t;e=o._addCacheSuffix(e),i.files[e]||(i.files[e]=!0,t=i.create("link",{rel:"stylesheet",href:e}),v&&r.documentMode&&r.recalc&&(t.onload=function(){r.recalc&&r.recalc(),t.onload=null}),n.appendChild(t))}))},addClass:function(e,t){this.$$(e).addClass(t)},removeClass:function(e,t){this.toggleClass(e,t,!1)},hasClass:function(e,t){return this.$$(e).hasClass(t)},toggleClass:function(e,t,n){this.$$(e).toggleClass(t,n).each(function(){""===this.className&&c(this).attr("class",null)})},show:function(e){this.$$(e).show()},hide:function(e){this.$$(e).hide()},isHidden:function(e){return"none"==this.$$(e).css("display")},uniqueId:function(e){return(e||"mce_")+this.counter++},setHTML:function(e,n){e=this.$$(e),v?e.each(function(e,t){if(!1!==t.canHaveHTML){for(;t.firstChild;)t.removeChild(t.firstChild);try{t.innerHTML="<br>"+n,t.removeChild(t.firstChild)}catch(e){c("<div></div>").html("<br>"+n).contents().slice(1).appendTo(t)}return n}}):e.html(n)},getOuterHTML:function(e){return 1==(e=this.get(e)).nodeType&&"outerHTML"in e?e.outerHTML:c("<div></div>").append(c(e).clone()).html()},setOuterHTML:function(e,t){var n=this;n.$$(e).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=t)}catch(e){}n.remove(c(this).html(t),!0)})},decode:e.decode,encode:e.encodeAllRaw,insertAfter:function(e,i){return i=this.get(i),this.run(e,function(e){var t,n;return t=i.parentNode,(n=i.nextSibling)?t.insertBefore(e,n):t.appendChild(e),e})},replace:function(t,e,n){return this.run(e,function(e){return p(e,"array")&&(t=t.cloneNode(!0)),n&&l(g(e.childNodes),function(e){t.appendChild(e)}),e.parentNode.replaceChild(t,e)})},rename:function(t,e){var n,i=this;return t.nodeName!=e.toUpperCase()&&(n=i.create(e),l(i.getAttribs(t),function(e){i.setAttrib(n,e.nodeName,i.getAttrib(t,e.nodeName))}),i.replace(n,t,1)),n||t},findCommonAncestor:function(e,t){for(var n,i=e;i;){for(n=t;n&&i!=n;)n=n.parentNode;if(i==n)break;i=i.parentNode}return!i&&e.ownerDocument?e.ownerDocument.documentElement:i},toHex:function(e){return this.styles.toHex(o.trim(e))},run:function(e,n,i){var r,o=this;return"string"==typeof e&&(e=o.get(e)),!!e&&(i=i||this,e.nodeType||!e.length&&0!==e.length?n.call(i,e):(r=[],l(e,function(e,t){e&&("string"==typeof e&&(e=o.get(e)),r.push(n.call(i,e,t)))}),r))},getAttribs:function(e){var t;if(!(e=this.get(e)))return[];if(v){if(t=[],"OBJECT"==e.nodeName)return e.attributes;"OPTION"===e.nodeName&&this.getAttrib(e,"selected")&&t.push({specified:1,nodeName:"selected"});return e.cloneNode(!1).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,function(e){t.push({specified:1,nodeName:e})}),t}return e.attributes},isEmpty:function(e,t){var n,i,r,o,a,s,l=0;if(e=e.firstChild){a=new f(e,e.parentNode),t=t||(this.schema?this.schema.getNonEmptyElements():null),o=this.schema?this.schema.getWhiteSpaceElements():{};do{if(1===(r=e.nodeType)){var c=e.getAttribute("data-mce-bogus");if(c){e=a.next("all"===c);continue}if(s=e.nodeName.toLowerCase(),t&&t[s]){if("br"===s){l++,e=a.next();continue}return!1}for(n=(i=this.getAttribs(e)).length;n--;)if("name"===(s=i[n].nodeName)||"data-mce-bookmark"===s)return!1}if(8==r)return!1;if(3===r&&!b.test(e.nodeValue))return!1;if(3===r&&e.parentNode&&o[e.parentNode.nodeName]&&b.test(e.nodeValue))return!1;e=a.next()}while(e)}return l<=1},createRng:function(){var e=this.doc;return e.createRange?e.createRange():new t(this)},nodeIndex:n,split:function(e,t,n){function l(e){var t,n,i,r,o=e.childNodes,a=e.nodeType;if(1!=a||"bookmark"!=e.getAttribute("data-mce-type")){for(t=o.length-1;0<=t;t--)l(o[t]);if(9!=a){if(3==a&&0<e.nodeValue.length){var s=m(e.nodeValue).length;if(!c.isBlock(e.parentNode)||0<s||0===s&&(i=(n=e).previousSibling&&"SPAN"==n.previousSibling.nodeName,r=n.nextSibling&&"SPAN"==n.nextSibling.nodeName,i&&r))return}else if(1==a&&(1==(o=e.childNodes).length&&o[0]&&1==o[0].nodeType&&"bookmark"==o[0].getAttribute("data-mce-type")&&e.parentNode.insertBefore(o[0],e),o.length||/^(br|hr|input|img)$/i.test(e.nodeName)))return;c.remove(e)}return e}}var i,r,o,c=this,a=c.createRng();if(e&&t)return a.setStart(e.parentNode,c.nodeIndex(e)),a.setEnd(t.parentNode,c.nodeIndex(t)),i=a.extractContents(),(a=c.createRng()).setStart(t.parentNode,c.nodeIndex(t)+1),a.setEnd(e.parentNode,c.nodeIndex(e)+1),r=a.extractContents(),(o=e.parentNode).insertBefore(l(i),e),n?o.insertBefore(n,e):o.insertBefore(t,e),o.insertBefore(l(r),e),c.remove(e),n||t},bind:function(e,t,n,i){if(o.isArray(e)){for(var r=e.length;r--;)e[r]=this.bind(e[r],t,n,i);return e}return!this.settings.collect||e!==this.doc&&e!==this.win||this.boundEvents.push([e,t,n,i]),this.events.bind(e,t,n,i||this)},unbind:function(e,t,n){var i;if(o.isArray(e)){for(i=e.length;i--;)e[i]=this.unbind(e[i],t,n);return e}if(this.boundEvents&&(e===this.doc||e===this.win))for(i=this.boundEvents.length;i--;){var r=this.boundEvents[i];e!=r[0]||t&&t!=r[1]||n&&n!=r[2]||this.events.unbind(r[0],r[1],r[2])}return this.events.unbind(e,t,n)},fire:function(e,t,n){return this.events.fire(e,t,n)},getContentEditable:function(e){var t;return e&&1==e.nodeType?(t=e.getAttribute("data-mce-contenteditable"))&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null:null},getContentEditableParent:function(e){for(var t=this.getRoot(),n=null;e&&e!==t&&null===(n=this.getContentEditable(e));e=e.parentNode);return n},destroy:function(){if(this.boundEvents){for(var e=this.boundEvents.length;e--;){var t=this.boundEvents[e];this.events.unbind(t[0],t[1],t[2])}this.boundEvents=null}r.setDocument&&r.setDocument(),this.win=this.doc=this.root=this.events=this.frag=null},isChildOf:function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},dumpRng:function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},_findSib:function(e,t,n){var i=this,r=t;if(e)for("string"==typeof r&&(r=function(e){return i.is(e,t)}),e=e[n];e;e=e[n])if(r(e))return e;return null}},s.DOM=new s(document),s.nodeIndex=n,s}),e(b,[y,d],function(e,f){function t(){var s,l={},r=[],c={},u=[],d=0;this.isDone=function(e){return 2==l[e]},this.markDone=function(e){l[e]=2},this.add=this.load=function(e,t,n,i){l[e]==s&&(r.push(e),l[e]=0),t&&(c[e]||(c[e]=[]),c[e].push({success:t,failure:i,scope:n||this}))},this.remove=function(e){delete l[e],delete c[e]},this.loadQueue=function(e,t,n){this.loadScripts(r,e,t,n)},this.loadScripts=function(t,e,n,i){function r(t,e){p(c[e],function(e){m(e[t])&&e[t].call(e.scope)}),c[e]=s}var o,a=[];u.push({success:e,failure:i,scope:n||this}),(o=function(){var e=g(t);t.length=0,p(e,function(e){return 2===l[e]?void r("success",e):3===l[e]?void r("failure",e):void(1!==l[e]&&(l[e]=1,d++,function(e,t,n){function i(){a.remove(o),r&&(r.onreadystatechange=r.onload=r=null),t()}var r,o,a=h;o=a.uniqueId(),(r=document.createElement("script")).id=o,r.type="text/javascript",r.src=f._addCacheSuffix(e),"onreadystatechange"in r?r.onreadystatechange=function(){/loaded|complete/.test(r.readyState)&&i()}:r.onload=i,r.onerror=function(){m(n)?n():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+e)},(document.getElementsByTagName("head")[0]||document.body).appendChild(r)}(e,function(){l[e]=2,d--,r("success",e),o()},function(){l[e]=3,d--,a.push(e),r("failure",e),o()})))}),d||(p(u,function(e){0===a.length?m(e.success)&&e.success.call(e.scope):m(e.failure)&&e.failure.call(e.scope,a)}),u.length=0)})()}}var h=e.DOM,p=f.each,g=f.grep,m=function(e){return"function"==typeof e};return t.ScriptLoader=new t,t}),e(C,[b,d],function(l,e){function c(){this.items=[],this.urls={},this.lookup={}}var u=e.each;return c.prototype={get:function(e){return this.lookup[e]?this.lookup[e].instance:be},dependencies:function(e){var t;return this.lookup[e]&&(t=this.lookup[e].dependencies),t||[]},requireLangPack:function(e,t){var n=c.language;if(n&&!1!==c.languageLoad){if(t)if(-1!=(t=","+t+",").indexOf(","+n.substr(0,2)+","))n=n.substr(0,2);else if(-1==t.indexOf(","+n+","))return;l.ScriptLoader.add(this.urls[e]+"/langs/"+n+".js")}},add:function(e,t,n){return this.items.push(t),this.lookup[e]={instance:t,dependencies:n},t},remove:function(e){delete this.urls[e],delete this.lookup[e]},createUrl:function(e,t){return"object"==typeof t?t:{prefix:e.prefix,resource:t,suffix:e.suffix}},addComponents:function(e,t){var n=this.urls[e];u(t,function(e){l.ScriptLoader.add(n+"/"+e)})},load:function(t,n,i,r,e){function o(){var e=a.dependencies(t);u(e,function(e){var t=a.createUrl(n,e);a.load(t.resource,t,be,be)}),i&&(r?i.call(r):i.call(l))}var a=this,s=n;a.urls[t]||("object"==typeof n&&(s=n.prefix+n.resource+n.suffix),0!==s.indexOf("/")&&-1==s.indexOf("://")&&(s=c.baseURL+"/"+s),a.urls[t]=s.substring(0,s.lastIndexOf("/")),a.lookup[t]?o():l.ScriptLoader.add(s,o,r,e))}},c.PluginManager=new c,c.ThemeManager=new c,c}),e(x,[],function(){function e(t){return function(e){return!!e&&e.nodeType==t}}function t(i){return i=i.toLowerCase().split(" "),function(e){var t,n;if(e&&e.nodeType)for(n=e.nodeName.toLowerCase(),t=0;t<i.length;t++)if(n===i[t])return!0;return!1}}function n(t){return function(e){if(r(e)){if(e.contentEditable===t)return!0;if(e.getAttribute("data-mce-contenteditable")===t)return!0}return!1}}var r=e(1);return{isText:e(3),isElement:r,isComment:e(8),isBr:t("br"),isContentEditableTrue:n("true"),isContentEditableFalse:n("false"),matchNodeNames:t,hasPropValue:function(t,n){return function(e){return r(e)&&e[t]===n}},hasAttributeValue:function(t,n){return function(e){return r(e)&&e.getAttribute(t)===n}},matchStyleValues:function(n,i){return i=i.toLowerCase().split(" "),function(e){var t;if(r(e))for(t=0;t<i.length;t++)if(getComputedStyle(e,null).getPropertyValue(n)===i[t])return!0;return!1}},isBogus:function(e){return r(e)&&e.hasAttribute("data-mce-bogus")}}}),e(w,[],function(){var t="\ufeff";return{isZwsp:function(e){return e==t},ZWSP:t,trim:function(e){return e.replace(new RegExp(t,"g"),"")}}}),e(_,[x,w],function(i,o){function t(e){return d(e)&&(e=e.parentNode),u(e)&&e.hasAttribute("data-mce-caret")}function n(e){return d(e)&&o.isZwsp(e.data)}function a(e){return t(e)||n(e)}function r(e){var t=e.parentNode;t&&t.removeChild(e)}function s(e){return e.firstChild!==e.lastChild||!i.isBr(e.firstChild)}function l(e){return d(e)&&e.data[0]==o.ZWSP}function c(e){return d(e)&&e.data[e.data.length-1]==o.ZWSP}var u=i.isElement,d=i.isText;return{isCaretContainer:a,isCaretContainerBlock:t,isCaretContainerInline:n,showCaretContainerBlock:function(e){return e&&e.hasAttribute("data-mce-caret")?(t=e.getElementsByTagName("br"),n=t[t.length-1],i.isBogus(n)&&n.parentNode.removeChild(n),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null;var t,n},insertInline:function(e,t){var n,i,r;if(i=e.ownerDocument.createTextNode(o.ZWSP),r=e.parentNode,t){if(n=e.previousSibling,d(n)){if(a(n))return n;if(c(n))return n.splitText(n.data.length-1)}r.insertBefore(i,e)}else{if(n=e.nextSibling,d(n)){if(a(n))return n;if(l(n))return n.splitText(1),n}e.nextSibling?r.insertBefore(i,e.nextSibling):r.appendChild(i)}return i},insertBlock:function(e,t,n){var i,r,o;return(i=t.ownerDocument.createElement(e)).setAttribute("data-mce-caret",n?"before":"after"),i.setAttribute("data-mce-bogus","all"),i.appendChild(((o=document.createElement("br")).setAttribute("data-mce-bogus","1"),o)),r=t.parentNode,n?r.insertBefore(i,t):t.nextSibling?r.insertBefore(i,t.nextSibling):r.appendChild(i),i},hasContent:s,remove:function(e){if(u(e)&&a(e)&&(s(e)?e.removeAttribute("data-mce-caret"):r(e)),d(e)){var t=o.trim(function(e){try{return e.nodeValue}catch(e){return""}}(e));n=e,0===(i=t).length?r(n):n.nodeValue=i}var n,i},startsWithCaretContainer:l,endsWithCaretContainer:c}}),e(E,[d,p,x,g,_],function(l,v,e,t,n){function c(e){return o(e)||b(e)}function u(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}function i(e){return"_mce_caret"===e.id}function y(e,t){return w(e)&&!1==(null!==u(e,t,i))}function r(C){this.walk=function(e,r){function o(e){var t;return 3===(t=e[0]).nodeType&&t===h&&p>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===m&&0<e.length&&t===g&&3===t.nodeType&&e.splice(e.length-1,1),e}function a(e,t,n){for(var i=[];e&&e!=n;e=e[t])i.push(e);return i}function t(e,t){do{if(e.parentNode==t)return e;e=e.parentNode}while(e)}function n(e,t,n){var i=n?"nextSibling":"previousSibling";for(u=(c=e).parentNode;c&&c!=t;c=u)u=c.parentNode,(d=a(c==e?c:c[i],i)).length&&(n||d.reverse(),r(o(d)))}var i,s,l,c,u,d,f,h=e.startContainer,p=e.startOffset,g=e.endContainer,m=e.endOffset;if(0<(f=C.select("td[data-mce-selected],th[data-mce-selected]")).length)x(f,function(e){r([e])});else{if(1==h.nodeType&&h.hasChildNodes()&&(h=h.childNodes[p]),1==g.nodeType&&g.hasChildNodes()&&(y=m,b=(v=g).childNodes,--y>b.length-1?y=b.length-1:y<0&&(y=0),g=b[y]||v),h==g)return r(o([h]));var v,y,b;for(i=C.findCommonAncestor(h,g),c=h;c;c=c.parentNode){if(c===g)return n(h,i,!0);if(c===i)break}for(c=g;c;c=c.parentNode){if(c===h)return n(g,i);if(c===i)break}s=t(h,i)||h,l=t(g,i)||g,n(h,s,!0),(d=a(s==h?s:s.nextSibling,"nextSibling",l==g?l.nextSibling:l)).length&&r(o(d)),n(g,l)}},this.split=function(e){function t(e,t){return e.splitText(t)}var n=e.startContainer,i=e.startOffset,r=e.endContainer,o=e.endOffset;return n==r&&3==n.nodeType?0<i&&i<n.nodeValue.length&&(n=(r=t(n,i)).previousSibling,i<o?(n=r=t(r,o-=i).previousSibling,o=r.nodeValue.length,i=0):o=0):(3==n.nodeType&&0<i&&i<n.nodeValue.length&&(n=t(n,i),i=0),3==r.nodeType&&0<o&&o<r.nodeValue.length&&(o=(r=t(r,o).previousSibling).nodeValue.length)),{startContainer:n,startOffset:i,endContainer:r,endOffset:o}},this.normalize=function(p){function e(e){function t(e,t){for(var n=new v(e,C.getParent(e.parentNode,C.isBlock)||h);e=n[t?"prev":"next"]();)if("BR"===e.nodeName)return!0}function n(e,t){var n,i,r;if(t=t||o,r=C.getParent(t.parentNode,C.isBlock)||h,e&&"BR"==t.nodeName&&c&&C.isEmpty(r))return o=t.parentNode,a=C.nodeIndex(t),void(g=!0);for(n=new v(t,r);s=n[e?"prev":"next"]();){if("false"===C.getContentEditableParent(s)||y(s,C.getRoot()))return;if(3===s.nodeType&&0<s.nodeValue.length)return o=s,a=e?s.nodeValue.length:0,void(g=!0);if(C.isBlock(s)||l[s.nodeName.toLowerCase()])return;i=s}m&&i&&(o=i,g=!0,a=0)}var o,a,i,s,l,r,c,u,d,f,h=C.getRoot();if(o=p[(e?"start":"end")+"Container"],a=p[(e?"start":"end")+"Offset"],c=1==o.nodeType&&a===o.childNodes.length,l=C.schema.getNonEmptyElements(),r=e,!w(o)){if(1==o.nodeType&&a>o.childNodes.length-1&&(r=!1),9===o.nodeType&&(o=C.getRoot(),a=0),o===h){if(r&&(s=o.childNodes[0<a?a-1:0])){if(w(s))return;if(l[s.nodeName]||"TABLE"==s.nodeName)return}if(o.hasChildNodes()){if(a=Math.min(!r&&0<a?a-1:a,o.childNodes.length-1),o=o.childNodes[a],a=0,!m&&o===h.lastChild&&"TABLE"===o.nodeName)return;if(function(e){for(;e&&e!=h;){if(b(e))return!0;e=e.parentNode}return!1}(o)||w(o))return;if(o.hasChildNodes()&&!/TABLE/.test(o.nodeName)){i=new v(s=o,h);do{if(b(s)||w(s)){g=!1;break}if(3===s.nodeType&&0<s.nodeValue.length){a=r?0:s.nodeValue.length,o=s,g=!0;break}if(l[s.nodeName.toLowerCase()]&&(!(f=s)||!/^(TD|TH|CAPTION)$/.test(f.nodeName))){a=C.nodeIndex(s),o=s.parentNode,"IMG"!=s.nodeName||r||a++,g=!0;break}}while(s=r?i.next():i.prev())}}}m&&(3===o.nodeType&&0===a&&n(!0),1===o.nodeType&&((s=o.childNodes[a])||(s=o.childNodes[a-1]),!s||"BR"!==s.nodeName||(d="A",(u=s).previousSibling&&u.previousSibling.nodeName==d)||t(s)||t(s,!0)||n(!0,s))),r&&!m&&3===o.nodeType&&a===o.nodeValue.length&&n(!1),g&&p["set"+(e?"Start":"End")](o,a)}}var g,m;return m=p.collapsed,e(!0),m||e(),g&&m&&p.collapse(!0),g}}var x=l.each,o=e.isContentEditableTrue,b=e.isContentEditableFalse,w=n.isCaretContainer;return r.compareRanges=function(e,t){if(e&&t){if(!e.item&&!e.duplicate)return e.startContainer==t.startContainer&&e.startOffset==t.startOffset;if(e.item&&t.item&&e.item(0)===t.item(0))return!0;if(e.isEqual&&t.isEqual&&t.isEqual(e))return!0}return!1},r.getCaretRangeFromPoint=function(t,n,i){var r,e,o,a,s;if(i.caretPositionFromPoint)e=i.caretPositionFromPoint(t,n),(r=i.createRange()).setStart(e.offsetNode,e.offset),r.collapse(!0);else if(i.caretRangeFromPoint)r=i.caretRangeFromPoint(t,n);else if(i.body.createTextRange){r=i.body.createTextRange();try{r.moveToPoint(t,n),r.collapse(!0)}catch(e){r=function(e,n,t){var i,r,o;if(i=t.elementFromPoint(e,n),r=t.body.createTextRange(),i&&"HTML"!=i.tagName||(i=t.body),r.moveToElementText(i),0<(o=(o=l.toArray(r.getClientRects())).sort(function(e,t){return(e=Math.abs(Math.max(e.top-n,e.bottom-n)))-(t=Math.abs(Math.max(t.top-n,t.bottom-n)))})).length){n=(o[0].bottom+o[0].top)/2;try{return r.moveToPoint(e,n),r.collapse(!0),r}catch(e){}}return null}(t,n,i)}return o=r,a=i.body,s=o&&o.parentElement?o.parentElement():null,b(u(s,a,c))?null:o}return r},r.getSelectedNode=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset==n+1?t.childNodes[n]:null},r.getNode=function(e,t){return 1==e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e},r}),e(T,[E,r,i],function(a,t,n){return function(o){var i,r=[];"onselectionchange"in o.getDoc()||o.on("NodeChange Click MouseUp KeyUp Focus",function(e){var t,n;n={startContainer:(t=o.selection.getRng()).startContainer,startOffset:t.startOffset,endContainer:t.endContainer,endOffset:t.endOffset},"nodechange"!=e.type&&a.compareRanges(n,i)||o.fire("SelectionChange"),i=n}),o.on("contextmenu",function(){o.fire("SelectionChange")}),o.on("SelectionChange",function(){var e=o.selection.getStart(!0);!t.range&&o.selection.isCollapsed()||!function(e){var t,n;if((n=o.$(e).parentsUntil(o.getBody()).add(e)).length===r.length){for(t=n.length;0<=t&&n[t]===r[t];t--);if(-1===t)return r=n,!0}return r=n,!1}(e)&&o.dom.isChildOf(e,o.getBody())&&o.nodeChanged({selectionChange:!0})}),o.on("MouseUp",function(e){e.isDefaultPrevented()||("IMG"==o.selection.getNode().nodeName?n.setEditorTimeout(o,function(){o.nodeChanged()}):o.nodeChanged())}),this.nodeChanged=function(e){var t,n,i,r=o.selection;o.initialized&&r&&!o.settings.disable_nodechange&&!o.readonly&&(i=o.getBody(),(t=r.getStart()||i).ownerDocument==o.getDoc()&&o.dom.isChildOf(t,i)||(t=i),"IMG"==t.nodeName&&r.isCollapsed()&&(t=t.parentNode),n=[],o.dom.getParent(t,function(e){return e===i||void n.push(e)}),(e=e||{}).element=t,e.parents=n,o.fire("NodeChange",e))}}}),e(S,[],function(){function o(e,t,n){var i,r,o=n?"lastChild":"firstChild",a=n?"prev":"next";if(e[o])return e[o];if(e!==t){if(i=e[a])return i;for(r=e.parent;r&&r!==t;r=r.parent)if(i=r[a])return i}}function a(e,t){this.name=e,1===(this.type=t)&&(this.attributes=[],this.attributes.map={})}var s=/^[ \t\r\n]*$/,r={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};return a.prototype={replace:function(e){return e.parent&&e.remove(),this.insert(e,this),this.remove(),this},attr:function(e,t){var n,i;if("string"!=typeof e){for(i in e)this.attr(i,e[i]);return this}if(n=this.attributes){if(void 0!==t){if(null===t){if(e in n.map)for(delete n.map[e],i=n.length;i--;)if(n[i].name===e)return n=n.splice(i,1),this;return this}if(e in n.map){for(i=n.length;i--;)if(n[i].name===e){n[i].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,this}return n.map[e]}},clone:function(){var e,t,n,i,r,o=new a(this.name,this.type);if(n=this.attributes){for((r=[]).map={},e=0,t=n.length;e<t;e++)"id"!==(i=n[e]).name&&(r[r.length]={name:i.name,value:i.value},r.map[i.name]=i.value);o.attributes=r}return o.value=this.value,o.shortEnded=this.shortEnded,o},wrap:function(e){return this.parent.insert(e,this),e.append(this),this},unwrap:function(){var e,t;for(e=this.firstChild;e;)t=e.next,this.insert(e,this,!0),e=t;this.remove()},remove:function(){var e=this.parent,t=this.next,n=this.prev;return e&&(e.firstChild===this?(e.firstChild=t)&&(t.prev=null):n.next=t,e.lastChild===this?(e.lastChild=n)&&(n.next=null):t.prev=n,this.parent=this.next=this.prev=null),this},append:function(e){var t;return e.parent&&e.remove(),(t=this.lastChild)?((t.next=e).prev=t,this.lastChild=e):this.lastChild=this.firstChild=e,e.parent=this,e},insert:function(e,t,n){var i;return e.parent&&e.remove(),i=t.parent||this,n?(t===i.firstChild?i.firstChild=e:t.prev.next=e,e.prev=t.prev,(e.next=t).prev=e):(t===i.lastChild?i.lastChild=e:t.next.prev=e,e.next=t.next,(e.prev=t).next=e),e.parent=i,e},getAll:function(e){var t,n=[];for(t=this.firstChild;t;t=o(t,this))t.name===e&&n.push(t);return n},empty:function(){var e,t,n;if(this.firstChild){for(e=[],n=this.firstChild;n;n=o(n,this))e.push(n);for(t=e.length;t--;)(n=e[t]).parent=n.firstChild=n.lastChild=n.next=n.prev=null}return this.firstChild=this.lastChild=null,this},isEmpty:function(e,t){var n,i,r=this.firstChild;if(t=t||{},r)do{if(1===r.type){if(r.attributes.map["data-mce-bogus"])continue;if(e[r.name])return!1;for(n=r.attributes.length;n--;)if("name"===(i=r.attributes[n].name)||0===i.indexOf("data-mce-bookmark"))return!1}if(8===r.type)return!1;if(3===r.type&&!s.test(r.value))return!1;if(3===r.type&&r.parent&&t[r.parent.name]&&s.test(r.value))return!1}while(r=o(r,this));return!0},walk:function(e){return o(this,null,e)}},a.create=function(e,t){var n,i;if(n=new a(e,r[e]||1),t)for(i in t)n.attr(i,t[i]);return n},a}),e(N,[d],function(n){function N(e,t){return(e=n.trim(e))?e.split(t||" "):[]}function k(e,n){var i;return e&&(i={},"string"==typeof e&&(e={"*":e}),O(e,function(e,t){i[t]=i[t.toUpperCase()]="map"==n?R(e,/[, ]/):B(e,/[, ]/)})),i}var A={},D={},R=n.makeMap,O=n.each,I=n.extend,B=n.explode,L=n.inArray;return function(o){function e(e,t,n){var i=o[e];return i?i=R(i,/[, ]/,R(i.toUpperCase(),/[, ]/)):(i=A[e])||(i=R(t," ",R(t.toUpperCase()," ")),i=I(i,n),A[e]=i),i}function _(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")}function t(e){var t,n,i,r,o,a,s,l,c,u,d,f,h,p,g,m,v,y,b,C=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,x=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,w=/[*?+]/;if(e)for(e=N(e,","),E["@"]&&(m=E["@"].attributes,v=E["@"].attributesOrder),t=0,n=e.length;t<n;t++)if(o=C.exec(e[t])){if(p=o[1],c=o[2],g=o[3],l=o[5],a={attributes:f={},attributesOrder:h=[]},"#"===p&&(a.paddEmpty=!0),"-"===p&&(a.removeEmpty=!0),"!"===o[4]&&(a.removeEmptyAttrs=!0),m){for(y in m)f[y]=m[y];h.push.apply(h,v)}if(l)for(i=0,r=(l=N(l,"|")).length;i<r;i++)if(o=x.exec(l[i])){if(s={},d=o[1],u=o[2].replace(/::/g,":"),p=o[3],b=o[4],"!"===d&&(a.attributesRequired=a.attributesRequired||[],a.attributesRequired.push(u),s.required=!0),"-"===d){delete f[u],h.splice(L(h,u),1);continue}p&&("="===p&&(a.attributesDefault=a.attributesDefault||[],a.attributesDefault.push({name:u,value:b}),s.defaultValue=b),":"===p&&(a.attributesForced=a.attributesForced||[],a.attributesForced.push({name:u,value:b}),s.forcedValue=b),"<"===p&&(s.validValues=R(b,"?"))),w.test(u)?(a.attributePatterns=a.attributePatterns||[],s.pattern=_(u),a.attributePatterns.push(s)):(f[u]||h.push(u),f[u]=s)}m||"@"!=c||(m=f,v=h),g&&(a.outputName=c,E[g]=a),w.test(c)?(a.pattern=_(c),T.push(a)):E[c]=a}}function n(e){E={},T=[],t(e),O(c,function(e,t){x[t]=e.children})}function i(e){var a=/^(~)?(.+)$/;e&&(A.text_block_elements=A.block_elements=null,O(N(e,","),function(e){var t=a.exec(e),n="~"===t[1],i=n?"span":"div",r=t[2];if(x[r]=x[i],w[r]=i,n||(g[r.toUpperCase()]={},g[r]={}),!E[r]){var o=E[i];delete(o=I({},o)).removeEmptyAttrs,delete o.removeEmpty,E[r]=o}O(x,function(e,t){e[i]&&(x[t]=e=I({},x[t]),e[r]=e[i])})}))}function r(e){var r=/^([+\-]?)(\w+)\[([^\]]+)\]$/;A[o.schema]=null,e&&O(N(e,","),function(e){var t,n,i=r.exec(e);i&&(n=i[1],t=n?x[i[2]]:x[i[2]]={"#comment":{}},t=x[i[2]],O(N(i[3],"|"),function(e){"-"===n?delete t[e]:t[e]={}}))})}function a(e){var t,n=E[e];if(n)return n;for(t=T.length;t--;)if((n=T[t]).pattern.test(e))return n}var s,l,c,u,d,f,h,p,g,m,v,y,b,C=this,E={},x={},T=[],w={},S={};c=function(e){function t(e,t,n){function i(e,t){var n,i,r={};for(n=0,i=e.length;n<i;n++)r[e[n]]=t||{};return r}var r,o,a;for(t=t||"","string"==typeof(n=n||[])&&(n=N(n)),r=(e=N(e)).length;r--;)a={attributes:i(o=N([s,t].join(" "))),attributesOrder:o,children:i(n,D)},c[e[r]]=a}function n(e,t){var n,i,r,o;for(n=(e=N(e)).length,t=N(t);n--;)for(i=c[e[n]],r=0,o=t.length;r<o;r++)i.attributes[t[r]]={},i.attributesOrder.push(t[r])}var s,i,r,o,a,l,c={};return A[e]?A[e]:(s="id accesskey class dir lang style tabindex title",i="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",r="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!=e&&(s+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",i+=" article aside details dialog figure header footer hgroup section nav",r+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!=e&&(s+=" xml:lang",r=[r,l="acronym applet basefont big font strike tt"].join(" "),O(N(l),function(e){t(e,"",r)}),i=[i,a="center dir isindex noframes"].join(" "),o=[i,r].join(" "),O(N(a),function(e){t(e,"",o)})),o=o||[i,r].join(" "),t("html","manifest","head body"),t("head","","base command link meta noscript script style title"),t("title hr noscript br"),t("base","href target"),t("link","href rel media hreflang type sizes hreflang"),t("meta","name http-equiv content charset"),t("style","media type scoped"),t("script","src async defer type charset"),t("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",o),t("address dt dd div caption","",o),t("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",r),t("blockquote","cite",o),t("ol","reversed start type","li"),t("ul","","li"),t("li","value",o),t("dl","","dt dd"),t("a","href target rel media hreflang type",r),t("q","cite",r),t("ins del","cite datetime",o),t("img","src sizes srcset alt usemap ismap width height"),t("iframe","src name width height",o),t("embed","src type width height"),t("object","data type typemustmatch name usemap form width height",[o,"param"].join(" ")),t("param","name value"),t("map","name",[o,"area"].join(" ")),t("area","alt coords shape href target rel media hreflang type"),t("table","border","caption colgroup thead tfoot tbody tr"+("html4"==e?" col":"")),t("colgroup","span","col"),t("col","span"),t("tbody thead tfoot","","tr"),t("tr","","td th"),t("td","colspan rowspan headers",o),t("th","colspan rowspan headers scope abbr",o),t("form","accept-charset action autocomplete enctype method name novalidate target",o),t("fieldset","disabled form name",[o,"legend"].join(" ")),t("label","form for",r),t("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),t("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==e?o:r),t("select","disabled form multiple name required size","option optgroup"),t("optgroup","disabled label","option"),t("option","disabled label selected value"),t("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),t("menu","type label",[o,"li"].join(" ")),t("noscript","",o),"html4"!=e&&(t("wbr"),t("ruby","",[r,"rt rp"].join(" ")),t("figcaption","",o),t("mark rt rp summary bdi","",r),t("canvas","width height",o),t("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[o,"track source"].join(" ")),t("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[o,"track source"].join(" ")),t("picture","","img source"),t("source","src srcset type media sizes"),t("track","kind src srclang label default"),t("datalist","",[r,"option"].join(" ")),t("article section nav aside header footer","",o),t("hgroup","","h1 h2 h3 h4 h5 h6"),t("figure","",[o,"figcaption"].join(" ")),t("time","datetime",r),t("dialog","open",o),t("command","type label icon disabled checked radiogroup command"),t("output","for form name",r),t("progress","value max",r),t("meter","value min max low high optimum",r),t("details","open",[o,"summary"].join(" ")),t("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=e&&(n("script","language xml:space"),n("style","xml:space"),n("object","declare classid code codebase codetype archive standby align border hspace vspace"),n("embed","align name hspace vspace"),n("param","valuetype type"),n("a","charset name rev shape coords"),n("br","clear"),n("applet","codebase archive code object alt name width height align hspace vspace"),n("img","name longdesc align border hspace vspace"),n("iframe","longdesc frameborder marginwidth marginheight scrolling align"),n("font basefont","size color face"),n("input","usemap align"),n("select","onchange"),n("textarea"),n("h1 h2 h3 h4 h5 h6 div p legend caption","align"),n("ul","type compact"),n("li","type"),n("ol dl menu dir","compact"),n("pre","width xml:space"),n("hr","align noshade size width"),n("isindex","prompt"),n("table","summary width frame rules cellspacing cellpadding align bgcolor"),n("col","width align char charoff valign"),n("colgroup","width align char charoff valign"),n("thead","align char charoff valign"),n("tr","align char charoff valign bgcolor"),n("th","axis align char charoff valign nowrap bgcolor width height"),n("form","accept"),n("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),n("tfoot","align char charoff valign"),n("tbody","align char charoff valign"),n("area","nohref"),n("body","background bgcolor text link vlink alink")),"html4"!=e&&(n("input button select textarea","autofocus"),n("input textarea","placeholder"),n("a","download"),n("link script img","crossorigin"),n("iframe","sandbox seamless allowfullscreen")),O(N("a form meter progress dfn"),function(e){c[e]&&delete c[e].children[e]}),delete c.caption.children.table,delete c.script,A[e]=c)}((o=o||{}).schema),!1===o.verify_html&&(o.valid_elements="*[*]"),s=k(o.valid_styles),l=k(o.invalid_styles,"map"),p=k(o.valid_classes,"map"),u=e("whitespace_elements","pre script noscript style textarea video audio iframe object code"),d=e("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),f=e("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),h=e("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),m=e("non_empty_elements","td th iframe video audio object script pre code",f),v=e("move_caret_before_on_enter_elements","table",m),y=e("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),g=e("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption",y),b=e("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),O((o.special||"script noscript style textarea").split(" "),function(e){S[e]=new RegExp("</"+e+"[^>]*>","gi")}),o.valid_elements?n(o.valid_elements):(O(c,function(e,t){E[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},x[t]=e.children}),"html5"!=o.schema&&O(N("strong/b em/i"),function(e){e=N(e,"/"),E[e[1]].outputName=e[0]}),O(N("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(e){E[e]&&(E[e].removeEmpty=!0)}),O(N("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(e){E[e].paddEmpty=!0}),O(N("span"),function(e){E[e].removeEmptyAttrs=!0})),i(o.custom_elements),r(o.valid_children),t(o.extended_valid_elements),r("+ol[ul|ol],+ul[ul|ol]"),O({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(e,t){E[t]&&(E[t].parentsRequired=N(e))}),o.invalid_elements&&O(B(o.invalid_elements),function(e){E[e]&&delete E[e]}),a("span")||t("span[!data-mce-type|*]"),C.children=x,C.getValidStyles=function(){return s},C.getInvalidStyles=function(){return l},C.getValidClasses=function(){return p},C.getBoolAttrs=function(){return h},C.getBlockElements=function(){return g},C.getTextBlockElements=function(){return y},C.getTextInlineElements=function(){return b},C.getShortEndedElements=function(){return f},C.getSelfClosingElements=function(){return d},C.getNonEmptyElements=function(){return m},C.getMoveCaretBeforeOnEnterElements=function(){return v},C.getWhiteSpaceElements=function(){return u},C.getSpecialElements=function(){return S},C.isValidChild=function(e,t){var n=x[e];return!(!n||!n[t])},C.isValid=function(e,t){var n,i,r=a(e);if(r){if(!t)return!0;if(r.attributes[t])return!0;if(n=r.attributePatterns)for(i=n.length;i--;)if(n[i].pattern.test(e))return!0}return!1},C.getElementRule=a,C.getCustomElements=function(){return w},C.addValidElements=t,C.setValidElements=n,C.addCustomElements=i,C.addValidChildren=r,C.elements=E}}),e(k,[N,m,d],function(e,j,z){function W(e,t,n){var i,r,o,a,s=1;for(a=e.getShortEndedElements(),(o=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex=i=n;r=o.exec(t);){if(i=o.lastIndex,"/"===r[1])s--;else if(!r[1]){if(r[2]in a)continue;s++}if(0===s)break}return i}function t(F,$){function t(){}var n=this;F=F||{},n.schema=$=$||new e,!1!==F.fix_self_closing&&(F.fix_self_closing=!0),i("comment cdata text start end pi doctype".split(" "),function(e){e&&(n[e]=F[e]||t)}),n.parse=function(e){function t(e){var t,n;for(t=I.length;t--&&I[t].name!==e;);if(0<=t){for(n=I.length-1;t<=n;n--)(e=I[n]).valid&&R.end(e.name);I.length=t}}function n(e,t,n,i,r){var o,a;if(n=(t=t.toLowerCase())in h?t:L(n||i||r||""),g&&!u&&0!==t.indexOf("data-")){if(!(o=C[t])&&x){for(a=x.length;a--&&!(o=x[a]).pattern.test(t););-1===a&&(o=null)}if(!o)return;if(o.validValues&&!(n in o.validValues))return}if(P[t]&&!F.allow_script_urls){var s=n.replace(/[\s\u0000-\u001F]+/g,"");try{s=decodeURIComponent(s)}catch(e){s=unescape(s)}if(M.test(s))return;if(!F.allow_html_data_urls&&H.test(s)&&!/^data:image\//i.test(s))return}l.map[t]=n,l.push({name:t,value:n})}var i,r,o,l,a,s,c,u,d,f,h,p,g,m,v,y,b,C,x,w,_,E,T,S,N,k,A,D,R=this,O=0,I=[],B=0,L=j.decode,P=z.makeMap("src,href,data,background,formaction,poster"),M=/((java|vb)script|mhtml):/i,H=/^data:/i;for(S=new RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),N=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,f=$.getShortEndedElements(),T=F.self_closing_elements||$.getSelfClosingElements(),h=$.getBoolAttrs(),g=F.validate,d=F.remove_internals,D=F.fix_self_closing,k=$.getSpecialElements();i=S.exec(e);){if(O<i.index&&R.text(L(e.substr(O,i.index-O))),r=i[6])":"===(r=r.toLowerCase()).charAt(0)&&(r=r.substr(1)),t(r);else if(r=i[7]){if(":"===(r=r.toLowerCase()).charAt(0)&&(r=r.substr(1)),p=r in f,D&&T[r]&&0<I.length&&I[I.length-1].name===r&&t(r),!g||(m=$.getElementRule(r))){if(v=!0,g&&(C=m.attributes,x=m.attributePatterns),(b=i[8])?((u=-1!==b.indexOf("data-mce-type"))&&d&&(v=!1),(l=[]).map={},b.replace(N,n)):(l=[]).map={},g&&!u){if(w=m.attributesRequired,_=m.attributesDefault,E=m.attributesForced,m.removeEmptyAttrs&&!l.length&&(v=!1),E)for(a=E.length;a--;)c=(y=E[a]).name,"{$uid}"===(A=y.value)&&(A="mce_"+B++),l.map[c]=A,l.push({name:c,value:A});if(_)for(a=_.length;a--;)(c=(y=_[a]).name)in l.map||("{$uid}"===(A=y.value)&&(A="mce_"+B++),l.map[c]=A,l.push({name:c,value:A}));if(w){for(a=w.length;a--&&!(w[a]in l.map););-1===a&&(v=!1)}if(y=l.map["data-mce-bogus"]){if("all"===y){O=W($,e,S.lastIndex),S.lastIndex=O;continue}v=!1}}v&&R.start(r,l,p)}else v=!1;if(o=k[r]){o.lastIndex=O=i.index+i[0].length,(i=o.exec(e))?(v&&(s=e.substr(O,i.index-O)),O=i.index+i[0].length):(s=e.substr(O),O=e.length),v&&(0<s.length&&R.text(s,!0),R.end(r)),S.lastIndex=O;continue}p||(b&&b.indexOf("/")==b.length-1?v&&R.end(r):I.push({name:r,valid:v}))}else(r=i[1])?(">"===r.charAt(0)&&(r=" "+r),F.allow_conditional_comments||"[if"!==r.substr(0,3).toLowerCase()||(r=" "+r),R.comment(r)):(r=i[2])?R.cdata(r):(r=i[3])?R.doctype(r):(r=i[4])&&R.pi(r,i[5]);O=i.index+i[0].length}for(O<e.length&&R.text(L(e.substr(O))),a=I.length-1;0<=a;a--)(r=I[a]).valid&&R.end(r.name)}}var i=z.each;return t.findEndTag=W,t}),e(A,[S,N,k,d],function(I,e,B,s){var L=s.makeMap,t=s.each,i=s.explode,P=s.extend,M=function(e,t){e.padd_empty_with_br?t.empty().append(new I("br","1")).shortEnded=!0:t.empty().append(new I("#text","3")).value=""},H=function(e,t){return e&&e.firstChild===e.lastChild&&e.firstChild.name===t};return function(S,N){var k=this,A={},D=[],R={},O={};(S=S||{}).validate=!("validate"in S)||S.validate,S.root_name=S.root_name||"body",k.schema=N=N||new e,k.filterNode=function(e){var t,n,i;n in A&&((i=R[n])?i.push(e):R[n]=[e]),t=D.length;for(;t--;)(n=D[t].name)in e.attributes.map&&((i=O[n])?i.push(e):O[n]=[e]);return e},k.addNodeFilter=function(e,n){t(i(e),function(e){var t=A[e];t||(A[e]=t=[]),t.push(n)})},k.addAttributeFilter=function(e,n){t(i(e),function(e){var t;for(t=0;t<D.length;t++)if(D[t].name===e)return void D[t].callbacks.push(n);D.push({name:e,callbacks:[n]})})},k.parse=function(e,t){function l(e,t){var n,i=new I(e,t);return e in A&&((n=R[e])?n.push(i):R[e]=[i]),i}function c(e){var t,n,i,r,o=N.getBlockElements();for(t=e.prev;t&&3===t.type;){if(0<(i=t.value.replace(y,"")).length)return void(t.value=i);if(n=t.next){if(3==n.type&&n.value.length){t=t.prev;continue}if(!o[n.name]&&"script"!=n.name&&"style"!=n.name){t=t.prev;continue}}r=t.prev,t.remove(),t=r}}var n,r,u,i,o,a,s,d,f,h,p,g,m,v,y,b,C,x,w,_,E,T=[];if(t=t||{},R={},O={},g=P(L("script,style,head,html,body,title,meta,param"),N.getBlockElements()),_=N.getNonEmptyElements(),w=N.children,p=S.validate,E="forced_root_block"in t?t.forced_root_block:S.forced_root_block,x=N.getWhiteSpaceElements(),m=/^[ \t\r\n]+/,y=/[ \t\r\n]+$/,b=/[ \t\r\n]+/g,C=/^[ \t\r\n]+$/,n=new B({validate:p,allow_script_urls:S.allow_script_urls,allow_conditional_comments:S.allow_conditional_comments,self_closing_elements:function(e){var t,n={};for(t in e)"li"!==t&&"p"!=t&&(n[t]=e[t]);return n}(N.getSelfClosingElements()),cdata:function(e){u.append(l("#cdata",4)).value=e},text:function(e,t){var n;v||(e=e.replace(b," "),u.lastChild&&g[u.lastChild.name]&&(e=e.replace(m,""))),0!==e.length&&((n=l("#text",3)).raw=!!t,u.append(n).value=e)},comment:function(e){u.append(l("#comment",8)).value=e},pi:function(e,t){u.append(l(e,7)).value=t,c(u)},doctype:function(e){u.append(l("#doctype",10)).value=e,c(u)},start:function(e,t,n){var i,r,o,a,s;if(o=p?N.getElementRule(e):{}){for((i=l(o.outputName||e,1)).attributes=t,i.shortEnded=n,u.append(i),(s=w[u.name])&&w[i.name]&&!s[i.name]&&T.push(i),r=D.length;r--;)(a=D[r].name)in t.map&&((f=O[a])?f.push(i):O[a]=[i]);g[e]&&c(i),n||(u=i),!v&&x[e]&&(v=!0)}},end:function(e){var t,n,i,r,o;if(n=p?N.getElementRule(e):{}){if(g[e]&&!v){if((t=u.firstChild)&&3===t.type)if(0<(i=t.value.replace(m,"")).length)t.value=i,t=t.next;else for(r=t.next,t.remove(),t=r;t&&3===t.type;)i=t.value,r=t.next,(0===i.length||C.test(i))&&(t.remove(),t=r),t=r;if((t=u.lastChild)&&3===t.type)if(0<(i=t.value.replace(y,"")).length)t.value=i,t=t.prev;else for(r=t.prev,t.remove(),t=r;t&&3===t.type;)i=t.value,r=t.prev,(0===i.length||C.test(i))&&(t.remove(),t=r),t=r}if(v&&x[e]&&(v=!1),(n.removeEmpty||n.paddEmpty)&&u.isEmpty(_,x))if(n.paddEmpty)M(S,u);else if(!u.attributes.map.name&&!u.attributes.map.id)return o=u.parent,g[u.name]?u.empty().remove():u.unwrap(),void(u=o);u=u.parent}}},N),r=u=new I(t.context||S.root_name,11),n.parse(e),p&&T.length&&(t.context?t.invalid=!0:function(e){var t,n,i,r,o,a,s,l,c,u,d,f,h,p,g,m;for(f=L("tr,td,th,tbody,thead,tfoot,table"),u=N.getNonEmptyElements(),d=N.getWhiteSpaceElements(),h=N.getTextBlockElements(),p=N.getSpecialElements(),t=0;t<e.length;t++)if((n=e[t]).parent&&!n.fixed)if(h[n.name]&&"li"==n.parent.name){for(g=n.next;g&&h[g.name];)g.name="li",g.fixed=!0,n.parent.insert(g,n.parent),g=g.next;n.unwrap(n)}else{for(r=[n],i=n.parent;i&&!N.isValidChild(i.name,n.name)&&!f[i.name];i=i.parent)r.push(i);if(i&&1<r.length){for(r.reverse(),o=a=k.filterNode(r[0].clone()),c=0;c<r.length-1;c++){for(N.isValidChild(a.name,r[c].name)?(s=k.filterNode(r[c].clone()),a.append(s)):s=a,l=r[c].firstChild;l&&l!=r[c+1];)m=l.next,s.append(l),l=m;a=s}o.isEmpty(u,d)?i.insert(n,r[0],!0):(i.insert(o,r[0],!0),i.insert(n,o)),((i=r[0]).isEmpty(u,d)||H(i,"br"))&&i.empty().remove()}else if(n.parent){if("li"===n.name){if((g=n.prev)&&("ul"===g.name||"ul"===g.name)){g.append(n);continue}if((g=n.next)&&("ul"===g.name||"ul"===g.name)){g.insert(n,g.firstChild,!0);continue}n.wrap(k.filterNode(new I("ul",1)));continue}N.isValidChild(n.parent.name,"div")&&N.isValidChild("div",n.name)?n.wrap(k.filterNode(new I("div",1))):p[n.name]?n.empty().remove():n.unwrap()}}}(T)),E&&("body"==r.name||t.isRootContent)&&function(){function e(e){e&&((i=e.firstChild)&&3==i.type&&(i.value=i.value.replace(m,"")),(i=e.lastChild)&&3==i.type&&(i.value=i.value.replace(y,"")))}var t,n,i=r.firstChild;if(N.isValidChild(r.name,E.toLowerCase())){for(;i;)t=i.next,3==i.type||1==i.type&&"p"!==i.name&&!g[i.name]&&!i.attr("data-mce-type")?(n||((n=l(E,1)).attr(S.forced_root_block_attrs),r.insert(n,i)),n.append(i)):(e(n),n=null),i=t;e(n)}}(),!t.invalid){for(h in R){for(f=A[h],s=(i=R[h]).length;s--;)i[s].parent||i.splice(s,1);for(o=0,a=f.length;o<a;o++)f[o](i,h,t)}for(o=0,a=D.length;o<a;o++)if((f=D[o]).name in O){for(s=(i=O[f.name]).length;s--;)i[s].parent||i.splice(s,1);for(s=0,d=f.callbacks.length;s<d;s++)f.callbacks[s](i,f.name,t)}}return r},S.remove_trailing_brs&&k.addNodeFilter("br",function(e){var t,n,i,r,o,a,s,l,c=e.length,u=P({},N.getBlockElements()),d=N.getNonEmptyElements(),f=N.getNonEmptyElements();for(u.body=1,t=0;t<c;t++)if(i=(n=e[t]).parent,u[n.parent.name]&&n===i.lastChild){for(o=n.prev;o;){if("span"!==(a=o.name)||"bookmark"!==o.attr("data-mce-type")){if("br"!==a)break;if("br"===a){n=null;break}}o=o.prev}n&&(n.remove(),i.isEmpty(d,f)&&((s=N.getElementRule(i.name))&&(s.removeEmpty?i.remove():s.paddEmpty&&M(S,i))))}else{for(r=n;i&&i.firstChild===r&&i.lastChild===r&&!u[(r=i).name];)i=i.parent;r===i&&!0!==S.padd_empty_with_br&&((l=new I("#text",3)).value="",n.replace(l))}}),S.allow_unsafe_link_target||k.addAttributeFilter("href",function(e){function i(e){var t=new RegExp("("+a.replace(" ","|")+")","g");return e&&(e=s.trim(e.replace(t,""))),e||null}function t(e,t){return t?(n=i(n=e))?[n,a].join(" "):a:i(e);var n}for(var n,r,o=e.length,a="noopener noreferrer";o--;)r=(n=e[o]).attr("rel"),"a"===n.name&&n.attr("rel",t(r,"_blank"==n.attr("target")))}),S.allow_html_in_named_anchor||k.addAttributeFilter("id,name",function(e){for(var t,n,i,r,o=e.length;o--;)if("a"===(r=e[o]).name&&r.firstChild&&!r.attr("href"))for(i=r.parent,t=r.lastChild;n=t.prev,i.insert(t,r),t=n;);}),S.fix_list_elements&&k.addNodeFilter("ul,ol",function(e){for(var t,n,i=e.length;i--;)if("ul"===(n=(t=e[i]).parent).name||"ol"===n.name)if(t.prev&&"li"===t.prev.name)t.prev.append(t);else{var r=new I("li",1);r.attr("style","list-style-type: none"),t.wrap(r)}}),S.validate&&N.getValidClasses()&&k.addAttributeFilter("class",function(e){for(var t,n,i,r,o,a,s,l=e.length,c=N.getValidClasses();l--;){for(n=(t=e[l]).attr("class").split(" "),o="",i=0;i<n.length;i++)r=n[i],s=!1,(a=c["*"])&&a[r]&&(s=!0),a=c[t.name],!s&&a&&a[r]&&(s=!0),s&&(o&&(o+=" "),o+=r);o.length||(o=null),t.attr("class",o)}})}}),e(D,[m,d],function(t,e){var n=e.makeMap;return function(e){var s,l,c,u,d,f=[];return s=(e=e||{}).indent,l=n(e.indent_before||""),c=n(e.indent_after||""),u=t.getEncodeFunc(e.entity_encoding||"raw",e.entities),d="html"==e.element_format,{start:function(e,t,n){var i,r,o,a;if(s&&l[e]&&0<f.length&&(0<(a=f[f.length-1]).length&&"\n"!==a&&f.push("\n")),f.push("<",e),t)for(i=0,r=t.length;i<r;i++)o=t[i],f.push(" ",o.name,'="',u(o.value,!0),'"');f[f.length]=!n||d?">":" />",n&&s&&c[e]&&0<f.length&&(0<(a=f[f.length-1]).length&&"\n"!==a&&f.push("\n"))},end:function(e){var t;f.push("</",e,">"),s&&c[e]&&0<f.length&&(0<(t=f[f.length-1]).length&&"\n"!==t&&f.push("\n"))},text:function(e,t){0<e.length&&(f[f.length]=t?e:u(e))},cdata:function(e){f.push("<![CDATA[",e,"]]>")},comment:function(e){f.push("\x3c!--",e,"--\x3e")},pi:function(e,t){t?f.push("<?",e," ",u(t),"?>"):f.push("<?",e,"?>"),s&&f.push("\n")},doctype:function(e){f.push("<!DOCTYPE",e,">",s?"\n":"")},reset:function(){f.length=0},getContent:function(){return f.join("").replace(/\n$/,"")}}}}),e(R,[D,N],function(e,n){return function(t,p){var g=new e(t);(t=t||{}).validate=!("validate"in t)||t.validate,this.schema=p=p||new n,this.writer=g,this.serialize=function(e){function d(e){var t,n,i,r,o,a,s,l,c,u=f[e.type];if(u)u(e);else{if(t=e.name,n=e.shortEnded,i=e.attributes,h&&i&&1<i.length&&((a=[]).map={},c=p.getElementRule(e.name))){for(s=0,l=c.attributesOrder.length;s<l;s++)(r=c.attributesOrder[s])in i.map&&(o=i.map[r],a.map[r]=o,a.push({name:r,value:o}));for(s=0,l=i.length;s<l;s++)(r=i[s].name)in a.map||(o=i.map[r],a.map[r]=o,a.push({name:r,value:o}));i=a}if(g.start(e.name,i,n),!n){if(e=e.firstChild)for(;d(e),e=e.next;);g.end(t)}}}var f,h;return h=t.validate,f={3:function(e){g.text(e.value,e.raw)},8:function(e){g.comment(e.value)},7:function(e){g.pi(e.name,e.value)},10:function(e){g.doctype(e.value)},4:function(e){g.cdata(e.value)},11:function(e){if(e=e.firstChild)for(;d(e),e=e.next;);}},g.reset(),1!=e.type||t.inner?f[11](e):d(e),g.getContent()}}}),e(O,[y,A,k,m,R,S,N,r,d,w],function(e,t,p,i,g,n,r,m,o,v){var y=o.each,b=o.trim,a=e.DOM;return function(l,c){function u(e){var t=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[\ufeff]+<\\/span>","\\s?("+n.join("|")+')="[^"]+"'].join("|"),"gi");return v.trim(e.replace(t,""))}function e(e){var t,n,i,r,o,a=e,s=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,l=c.schema;for(a=u(a),o=l.getShortEndedElements();r=s.exec(a);)n=s.lastIndex,i=r[0].length,t=o[r[1]]?n:p.findEndTag(l,a,n),a=a.substring(0,n-i)+a.substring(t),s.lastIndex=n-i;return a}var d,f,h,n=["data-mce-selected"];return c&&(d=c.dom,f=c.schema),d=d||a,f=f||new r(l),l.entity_encoding=l.entity_encoding||"named",l.remove_trailing_brs=!("remove_trailing_brs"in l)||l.remove_trailing_brs,(h=new t(l,f)).addAttributeFilter("data-mce-tabindex",function(e,t){for(var n,i=e.length;i--;)(n=e[i]).attr("tabindex",n.attributes.map["data-mce-tabindex"]),n.attr(t,null)}),h.addAttributeFilter("src,href,style",function(e,t){for(var n,i,r=e.length,o="data-mce-"+t,a=l.url_converter,s=l.url_converter_scope;r--;)void 0!==(i=(n=e[r]).attributes.map[o])?(n.attr(t,0<i.length?i:null),n.attr(o,null)):(i=n.attributes.map[t],"style"===t?i=d.serializeStyle(d.parseStyle(i),n.name):a&&(i=a.call(s,i,t,n.name)),n.attr(t,0<i.length?i:null))}),h.addAttributeFilter("class",function(e){for(var t,n,i=e.length;i--;)(n=(t=e[i]).attr("class"))&&(n=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),t.attr("class",0<n.length?n:null))}),h.addAttributeFilter("data-mce-type",function(e,t,n){for(var i,r=e.length;r--;)"bookmark"!==(i=e[r]).attributes.map["data-mce-type"]||n.cleanup||i.remove()}),h.addNodeFilter("noscript",function(e){for(var t,n=e.length;n--;)(t=e[n].firstChild)&&(t.value=i.decode(t.value))}),h.addNodeFilter("script,style",function(e,t){function n(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(var i,r,o,a=e.length;a--;)r=(i=e[a]).firstChild?i.firstChild.value:"","script"===t?((o=i.attr("type"))&&i.attr("type","mce-no/type"==o?null:o.replace(/^mce\-/,"")),0<r.length&&(i.firstChild.value="// <![CDATA[\n"+n(r)+"\n// ]]>")):0<r.length&&(i.firstChild.value="\x3c!--\n"+n(r)+"\n--\x3e")}),h.addNodeFilter("#comment",function(e){for(var t,n=e.length;n--;)0===(t=e[n]).value.indexOf("[CDATA[")?(t.name="#cdata",t.type=4,t.value=t.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===t.value.indexOf("mce:protected ")&&(t.name="#text",t.type=3,t.raw=!0,t.value=unescape(t.value).substr(14))}),h.addNodeFilter("xml:namespace,input",function(e,t){for(var n,i=e.length;i--;)7===(n=e[i]).type?n.remove():1===n.type&&("input"!==t||"type"in n.attributes.map||n.attr("type","text"))}),h.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),{schema:f,addNodeFilter:h.addNodeFilter,addAttributeFilter:h.addAttributeFilter,serialize:function(e,t){var n,i,r,o,a,s;return m.ie&&0<d.select("script,style,select,map").length?(a=e.innerHTML,e=e.cloneNode(!1),d.setHTML(e,a)):e=e.cloneNode(!0),(n=document.implementation).createHTMLDocument&&(i=n.createHTMLDocument(""),y("BODY"==e.nodeName?e.childNodes:[e],function(e){i.body.appendChild(i.importNode(e,!0))}),e="BODY"!=e.nodeName?i.body.firstChild:i.body,r=d.doc,d.doc=i),(t=t||{}).format=t.format||"html",t.selection&&(t.forced_root_block=""),t.no_events||(t.node=e,this.onPreProcess(t)),function(e){function t(e){return e&&"br"===e.name}var n,i;t(n=e.lastChild)&&t(i=n.prev)&&(n.remove(),i.remove())}(s=h.parse(b(t.getInner?e.innerHTML:d.getOuterHTML(e)),t)),o=new g(l,f),t.content=o.serialize(s),t.cleanup||(t.content=v.trim(t.content),t.content=t.content.replace(/\uFEFF/g,"")),t.no_events||this.onPostProcess(t),r&&(d.doc=r),t.node=null,t.content},addRules:function(e){f.addValidElements(e)},setRules:function(e){f.setValidElements(e)},onPreProcess:function(e){c&&c.fire("PreProcess",e)},onPostProcess:function(e){c&&c.fire("PostProcess",e)},addTempAttr:function(e){-1===o.inArray(n,e)&&(h.addAttributeFilter(e,function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),n.push(e))},trimHtml:u,getTrimmedContent:function(){return e(c.getBody().innerHTML)},trimContent:e}}}),e(I,[],function(){return function(h){function c(e,t){var n,i,r,o,a,s,l,c,u=0,d=-1;if((n=e.duplicate()).collapse(t),(c=n.parentElement()).ownerDocument===h.dom.doc){for(;"false"===c.contentEditable;)c=c.parentNode;if(!c.hasChildNodes())return{node:c,inside:1};for(i=(o=c.children).length-1;u<=i;)if(a=o[l=Math.floor((u+i)/2)],n.moveToElementText(a),0<(d=n.compareEndPoints(t?"StartToStart":"EndToEnd",e)))i=l-1;else{if(!(d<0))return{node:a};u=l+1}if(d<0)for(a?n.collapse(!1):(n.moveToElementText(c),n.collapse(!0),a=c,r=!0),s=0;0!==n.compareEndPoints(t?"StartToStart":"StartToEnd",e)&&0!==n.move("character",1)&&c==n.parentElement();)s++;else for(n.collapse(!0),s=0;0!==n.compareEndPoints(t?"StartToStart":"StartToEnd",e)&&0!==n.move("character",-1)&&c==n.parentElement();)s++;return{node:a,position:d,offset:s,inside:r}}}var u=this,p=h.dom,g=!1;this.getBookmark=function(e){function n(e){var t,n,i,r,o=[];for(t=e.parentNode,n=p.getRoot().parentNode;t!=n&&9!==t.nodeType;){for(r=(i=t.children).length;r--;)if(e===i[r]){o.push(r);break}t=(e=t).parentNode}return o}function t(e){var t;if(t=c(i,e))return{position:t.position,offset:t.offset,indexes:n(t.node),inside:t.inside}}var i=h.getRng(),r={};return 2===e&&(i.item?r.start={ctrl:!0,indexes:n(i.item(0))}:(r.start=t(!0),h.isCollapsed()||(r.end=t()))),r},this.moveToBookmark=function(o){function a(e){var t,n,i,r;for(t=p.getRoot(),n=e.length-1;0<=n;n--)r=t.children,(i=e[n])<=r.length-1&&(t=r[i]);return t}function e(e){var t,n,i,r=o[e?"start":"end"];r&&(t=0<r.position,(n=l.createTextRange()).moveToElementText(a(r.indexes)),void 0!==(i=r.offset)?(n.collapse(r.inside||t),n.moveStart("character",t?-i:i)):n.collapse(e),s.setEndPoint(e?"StartToStart":"EndToStart",n),e&&s.collapse(!0))}var s,l=p.doc.body;o.start&&(o.start.ctrl?(s=l.createControlRange()).addElement(a(o.start.indexes)):(s=l.createTextRange(),e(!0),e()),s.select())},this.addRange=function(e){function t(e){var t,n,i,r,o;i=p.create("a"),t=e?s:c,n=e?l:u,r=a.duplicate(),t!=d&&t!=d.documentElement||(t=f,n=0),3==t.nodeType?(t.parentNode.insertBefore(i,t),r.moveToElementText(i),r.moveStart("character",n),p.remove(i),a.setEndPoint(e?"StartToStart":"EndToEnd",r)):((o=t.childNodes).length?(n>=o.length?p.insertAfter(i,o[o.length-1]):t.insertBefore(i,o[n]),r.moveToElementText(i)):t.canHaveHTML&&(t.innerHTML="<span>&#xFEFF;</span>",i=t.firstChild,r.moveToElementText(i),r.collapse(g)),a.setEndPoint(e?"StartToStart":"EndToEnd",r),p.remove(i))}var a,n,s,l,c,u,i,r,o,d=h.dom.doc,f=d.body;if(s=e.startContainer,l=e.startOffset,c=e.endContainer,u=e.endOffset,a=f.createTextRange(),s==c&&1==s.nodeType){if(l==u&&!s.hasChildNodes()){if(s.canHaveHTML)return(i=s.previousSibling)&&!i.hasChildNodes()&&p.isBlock(i)?i.innerHTML="&#xFEFF;":i=null,s.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",a.moveToElementText(s.lastChild),a.select(),p.doc.selection.clear(),s.innerHTML="",void(i&&(i.innerHTML=""));l=p.nodeIndex(s),s=s.parentNode}if(l==u-1)try{if(o=s.childNodes[l],(n=f.createControlRange()).addElement(o),n.select(),(r=h.getRng()).item&&o===r.item(0))return}catch(e){}}t(!0),t(),a.select()},this.getRangeAt=function(){function t(e){var t,n,i,r,o=c(s,e),a=0;if(t=o.node,n=o.offset,!o.inside||t.hasChildNodes())if(void 0!==n){if(o.position<0){if(!(i=o.inside?t.firstChild:t.nextSibling))return void l[e?"setStartAfter":"setEndAfter"](t);if(!n)return void(3==i.nodeType?l[e?"setStart":"setEnd"](i,0):l[e?"setStartBefore":"setEndBefore"](i));for(;i;){if(3==i.nodeType&&n<=(a+=(r=i.nodeValue).length)){t=i,a-=n,a=r.length-a;break}i=i.nextSibling}}else{if(!(i=t.previousSibling))return l[e?"setStartBefore":"setEndBefore"](t);if(!n)return void(3==t.nodeType?l[e?"setStart":"setEnd"](i,t.nodeValue.length):l[e?"setStartAfter":"setEndAfter"](i));for(;i;){if(3==i.nodeType&&n<=(a+=i.nodeValue.length)){t=i,a-=n;break}i=i.previousSibling}}l[e?"setStart":"setEnd"](t,a)}else l[e?"setStartBefore":"setEndAfter"](t);else l[e?"setStart":"setEnd"](t,0)}var n,i,r,o,a,s=h.getRng(),l=p.createRng();if((n=s.item?s.item(0):s.parentElement()).ownerDocument!=p.doc)return l;if(i=h.isCollapsed(),s.item)return l.setStart(n.parentNode,p.nodeIndex(n)),l.setEnd(l.startContainer,l.startOffset+1),l;try{t(!0),i||t()}catch(e){if(-2147024809!=e.number)throw e;a=u.getBookmark(2),(r=s.duplicate()).collapse(!0),n=r.parentElement(),i||((r=s.duplicate()).collapse(!1),(o=r.parentElement()).innerHTML=o.innerHTML),n.innerHTML=n.innerHTML,u.moveToBookmark(a),s=h.getRng(),t(!0),i||t()}return l}}}),e(B,[r],function(t){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(e){return t.mac?e.metaKey:e.ctrlKey&&!e.altKey}}}),e(L,[B,d,i,r,x],function(q,U,V,Y,e){var K=e.isContentEditableFalse,X=e.isContentEditableTrue;return function(r,c){function l(e){var t=c.settings.object_resizing;return!1!==t&&!Y.iOS&&("string"!=typeof t&&(t="table,img,div"),"false"!==e.getAttribute("data-mce-resize")&&e!=c.getBody()&&c.dom.is(e,t))}function u(e){var t,n,i,r;t=e.screenX-E,n=e.screenY-T,O=t*w[2]+k,I=n*w[3]+A,O=O<5?5:O,I=I<5?5:I,("IMG"==y.nodeName&&!1!==c.settings.resize_img_proportional?!q.modifierPressed(e):q.modifierPressed(e)||"IMG"==y.nodeName&&w[2]*w[3]!=0)&&(j(t)>j(n)?(I=z(O*D),O=z(I/D)):(O=z(I/D),I=z(O*D))),P.setStyles(b,{width:O,height:I}),i=0<(i=w.startPos.x+t)?i:0,r=0<(r=w.startPos.y+n)?r:0,P.setStyles(C,{left:i,top:r,display:"block"}),C.innerHTML=O+" &times; "+I,w[2]<0&&b.clientWidth<=O&&P.setStyle(b,"left",S+(k-O)),w[3]<0&&b.clientHeight<=I&&P.setStyle(b,"top",N+(A-I)),(t=W.scrollWidth-B)+(n=W.scrollHeight-L)!==0&&P.setStyles(C,{left:i-t,top:r-n}),R||(c.fire("ObjectResizeStart",{target:y,width:k,height:A}),R=!0)}function d(){function e(e,t){t&&(y.style[e]||!c.schema.isValid(y.nodeName.toLowerCase(),e)?P.setStyle(y,e,t):P.setAttrib(y,e,t))}R=!1,e("width",O),e("height",I),P.unbind(H,"mousemove",u),P.unbind(H,"mouseup",d),F!=H&&(P.unbind(F,"mousemove",u),P.unbind(F,"mouseup",d)),P.remove(b),P.remove(C),$&&"TABLE"!=y.nodeName||f(y),c.fire("ObjectResized",{target:y,width:O,height:I}),P.setAttrib(y,"style",P.getAttrib(y,"style")),c.nodeChanged()}function f(e,r,o){var t,a,s,n,i;h(),g(),t=P.getPos(e,W),S=t.x,N=t.y,i=e.getBoundingClientRect(),a=i.width||i.right-i.left,s=i.height||i.bottom-i.top,y!=e&&(p(),y=e,O=I=0),n=c.fire("ObjectSelected",{target:e}),l(e)&&!n.isDefaultPrevented()?M(x,function(t,e){function n(e){E=e.screenX,T=e.screenY,k=y.clientWidth,A=y.clientHeight,D=A/k,(w=t).startPos={x:a*t[0]+S,y:s*t[1]+N},B=W.scrollWidth,L=W.scrollHeight,b=y.cloneNode(!0),P.addClass(b,"mce-clonedresizable"),P.setAttrib(b,"data-mce-bogus","all"),b.contentEditable=!1,b.unSelectabe=!0,P.setStyles(b,{left:S,top:N,margin:0}),b.removeAttribute("data-mce-selected"),W.appendChild(b),P.bind(H,"mousemove",u),P.bind(H,"mouseup",d),F!=H&&(P.bind(F,"mousemove",u),P.bind(F,"mouseup",d)),C=P.add(W,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},k+" &times; "+A)}var i;return r?void(e==r&&n(o)):((i=P.get("mceResizeHandle"+e))&&P.remove(i),i=P.add(W,"div",{id:"mceResizeHandle"+e,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+e+"-resize; margin:0; padding:0"}),Y.ie&&(i.contentEditable=!1),P.bind(i,"mousedown",function(e){e.stopImmediatePropagation(),e.preventDefault(),n(e)}),t.elm=i,void P.setStyles(i,{left:a*t[0]+S-i.offsetWidth/2,top:s*t[1]+N-i.offsetHeight/2}))}):h(),y.setAttribute("data-mce-selected","1")}function h(){var e,t;for(e in g(),y&&y.removeAttribute("data-mce-selected"),x)(t=P.get("mceResizeHandle"+e))&&(P.unbind(t),P.remove(t))}function n(e){function t(e,t){if(e)do{if(e===t)return!0}while(e=e.parentNode)}var n,i;if(!R&&!c.removed)return M(P.select("img[data-mce-selected],hr[data-mce-selected]"),function(e){e.removeAttribute("data-mce-selected")}),i="mousedown"==e.type?e.target:r.getNode(),t(i=P.$(i).closest($?"table":"table,img,hr")[0],W)&&(m(),t(n=r.getStart(!0),i)&&t(r.getEnd(!0),i)&&(!$||i!=n&&"IMG"!==n.nodeName))?void f(i):void h()}function i(e,t,n){e&&e.attachEvent&&e.attachEvent("on"+t,n)}function e(e,t,n){e&&e.detachEvent&&e.detachEvent("on"+t,n)}function o(e){var t,n,i,r,o,a,s,l=e.srcElement;for(n in t=l.getBoundingClientRect(),a=_.clientX-t.left,s=_.clientY-t.top,x)if(i=x[n],r=l.offsetWidth*i[0],o=l.offsetHeight*i[1],j(r-a)<8&&j(o-s)<8){w=i;break}R=!0,c.fire("ObjectResizeStart",{target:y,width:y.clientWidth,height:y.clientHeight}),c.getDoc().selection.empty(),f(l,n,_)}function a(e){return K(function(e,t){for(;t&&t!=e;){if(X(t)||K(t))return t;t=t.parentNode}return null}(c.getBody(),e))}function s(e){var t,n=e.srcElement;if(a(n))(t=e).preventDefault?t.preventDefault():t.returnValue=!1;else if(n!=y){if(c.fire("ObjectSelected",{target:n}),p(),0===n.id.indexOf("mceResizeHandle"))return void(e.returnValue=!1);"IMG"!=n.nodeName&&"TABLE"!=n.nodeName||(h(),i(y=n,"resizestart",o))}}function p(){e(y,"resizestart",o)}function g(){for(var e in x){var t=x[e];t.elm&&(P.unbind(t.elm),delete t.elm)}}function m(){try{c.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(e){}}function v(e){var t;if($){t=H.body.createControlRange();try{return t.addElement(e),t.select(),!0}catch(e){}}}var y,b,C,x,w,_,E,T,S,N,k,A,D,R,O,I,B,L,P=c.dom,M=U.each,H=c.getDoc(),F=document,$=Y.ie&&Y.ie<11,j=Math.abs,z=Math.round,W=c.getBody();x={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var t=".mce-content-body";return c.contentStyles.push(t+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: box-sizing;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+t+" .mce-resizehandle:hover {background: #000}"+t+" img[data-mce-selected],"+t+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+t+" .mce-clonedresizable {position: absolute;"+(Y.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+t+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}"),c.on("init",function(){$?(c.on("ObjectResized",function(e){"TABLE"!=e.target.nodeName&&(h(),v(e.target))}),i(W,"controlselect",s),c.on("mousedown",function(e){_=e})):(m(),11<=Y.ie&&(c.on("mousedown click",function(e){var t=e.target,n=t.nodeName;R||!/^(TABLE|IMG|HR)$/.test(n)||a(t)||(c.selection.select(t,"TABLE"==n),"mousedown"==e.type&&c.nodeChanged())}),c.dom.bind(W,"mscontrolselect",function(e){function t(e){V.setEditorTimeout(c,function(){c.selection.select(e)})}return a(e.target)?(e.preventDefault(),void t(e.target)):void(/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"==e.target.tagName&&t(e.target)))})));var t=V.throttle(function(e){c.composing||n(e)});c.on("nodechange ResizeEditor ResizeWindow drop",t),c.on("keyup compositionend",function(e){y&&"TABLE"==y.nodeName&&t(e)}),c.on("hide blur",h)}),c.on("remove",g),{isResizable:l,showResizeRect:f,hideResizeRect:h,updateResizeRect:n,controlSelect:v,destroy:function(){y=b=null,$&&(p(),e(W,"controlselect",s))}}}}),e(P,[],function(){var i=[].slice;return{constant:function(e){return function(){return e}},negate:function(t){return function(e){return!t(e)}},and:function(){var n=i.call(arguments);return function(e){for(var t=0;t<n.length;t++)if(!n[t](e))return!1;return!0}},or:function(){var n=i.call(arguments);return function(e){for(var t=0;t<n.length;t++)if(n[t](e))return!0;return!1}},curry:function t(e){var n=i.call(arguments);return n.length-1>=e.length?e.apply(this,n.slice(1)):function(){var e=n.concat([].slice.call(arguments));return t.apply(this,e)}},compose:function(t,n){return function(e){return t(n(e))}},noop:function(){}}}),e(M,[x,u,_],function(e,n,t){function i(e){return!f(e)&&(l(e)?!c(e.parentNode):u(e)||s(e)||d(e)||a(e))}function r(e,t){for(e=e.parentNode;e&&e!=t;e=e.parentNode){if(a(e))return!1;if(o(e))return!0}return!0}var o=e.isContentEditableTrue,a=e.isContentEditableFalse,s=e.isBr,l=e.isText,c=e.matchNodeNames("script style textarea"),u=e.matchNodeNames("img input textarea hr iframe video audio object"),d=e.matchNodeNames("table"),f=t.isCaretContainer;return{isCaretCandidate:i,isInEditable:r,isAtomic:function(e){return u(e)||!!a(t=e)&&!0!==n.reduce(t.getElementsByTagName("*"),function(e,t){return e||o(t)},!1);var t},isEditableCaretCandidate:function(e,t){return i(e)&&r(e,t)}}}),e(H,[],function(){function n(e){return e?{left:t(e.left),top:t(e.top),bottom:t(e.bottom),right:t(e.right),width:t(e.width),height:t(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function i(e,t,n){return 0<=e&&e<=Math.min(t.height,n.height)/2}function r(e,t){return e.bottom<t.top||!(e.top>t.bottom)&&i(t.top-e.bottom,e,t)}function o(e,t){return e.top>t.bottom||!(e.bottom<t.top)&&i(t.bottom-e.top,e,t)}function a(e,t){return e.left<t.left}function s(e,t){return e.right>t.right}var t=Math.round;return{clone:n,collapse:function(e,t){return e=n(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},isEqual:function(e,t){return e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right},isAbove:r,isBelow:o,isLeft:a,isRight:s,compare:function(e,t){return r(e,t)?-1:o(e,t)?1:a(e,t)?-1:s(e,t)?1:0},containsXY:function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom}}}),e(F,[],function(){var t=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]");return{isExtendingChar:function(e){return"string"==typeof e&&768<=e.charCodeAt(0)&&t.test(e)}}}),e($,[P,x,y,E,M,H,F],function(r,e,t,n,i,c,l){function u(e){return"createRange"in e?e.createRange():t.DOM.createRng()}function o(e){return e&&/[\r\n\t ]/.test(e)}function d(e){var t,n=e.startContainer,i=e.startOffset;return!!(o(e.toString())&&v(n.parentNode)&&(o((t=n.data)[i-1])||o(t[i+1])))}function a(e){function i(e){var t,n,i,r,o,a,s,l;return t=0<(n=e.getClientRects()).length?c.clone(n[0]):c.clone(e.getBoundingClientRect()),b(e)&&0===t.left?(o=(i=e).ownerDocument,a=u(o),s=o.createTextNode(""),(l=i.parentNode).insertBefore(s,i),a.setStart(s,0),a.setEnd(s,1),r=c.clone(a.getBoundingClientRect()),l.removeChild(s),r):t}function r(e,t){return(e=c.collapse(e,t)).width=1,e.right=e.left+1,e}function o(e){0!==e.height&&(0<s.length&&c.isEqual(e,s[s.length-1])||s.push(e))}function t(e,t){var n=u(e.ownerDocument);if(t<e.data.length){if(l.isExtendingChar(e.data[t]))return s;if(l.isExtendingChar(e.data[t-1])&&(n.setStart(e,t),n.setEnd(e,t+1),!d(n)))return o(r(i(n),!1)),s}0<t&&(n.setStart(e,t-1),n.setEnd(e,t),d(n)||o(r(i(n),!1))),t<e.data.length&&(n.setStart(e,t),n.setEnd(e,t+1),d(n)||o(r(i(n),!0)))}var n,a,s=[];if(y(e.container()))return t(e.container(),e.offset()),s;if(f(e.container()))if(e.isAtEnd())a=x(e.container(),e.offset()),y(a)&&t(a,a.data.length),m(a)&&!b(a)&&o(r(i(a),!1));else{if(a=x(e.container(),e.offset()),y(a)&&t(a,0),m(a)&&e.isAtEnd())return o(r(i(a),!1)),s;n=x(e.container(),e.offset()-1),m(n)&&!b(n)&&(p(n)||p(a)||!m(a))&&o(r(i(n),!1)),m(a)&&o(r(i(a),!0))}return s}function s(t,n,e){function i(){return e||(e=a(new s(t,n))),e}return{container:r.constant(t),offset:r.constant(n),toRange:function(){var e;return(e=u(t.ownerDocument)).setStart(t,n),e.setEnd(t,n),e},getClientRects:i,isVisible:function(){return 0<i().length},isAtStart:function(){return y(t),0===n},isAtEnd:function(){return y(t)?n>=t.data.length:n>=t.childNodes.length},isEqual:function(e){return e&&t===e.container()&&n===e.offset()},getNode:function(e){return x(t,e?n-1:n)}}}var f=e.isElement,h=i.isCaretCandidate,p=e.matchStyleValues("display","block table"),g=e.matchStyleValues("float","left right"),m=r.and(f,h,r.negate(g)),v=r.negate(e.matchStyleValues("white-space","pre pre-line pre-wrap")),y=e.isText,b=e.isBr,C=t.nodeIndex,x=n.getNode;return s.fromRangeStart=function(e){return new s(e.startContainer,e.startOffset)},s.fromRangeEnd=function(e){return new s(e.endContainer,e.endOffset)},s.after=function(e){return new s(e.parentNode,C(e)+1)},s.before=function(e){return new s(e.parentNode,C(e))},s}),e(j,[x,y,P,u,$],function(l,e,c,u,o){function a(e){return e?u.reduce(e.childNodes,function(e,t){return s(t)&&"BR"!=t.nodeName?e=e.concat(a(t)):e.push(t),e},[]):[]}function r(t){return function(e){return t===e}}function t(e){var i,t,n;return i=a(function e(t){var n=t.parentNode;return s(n)?e(n):n}(e)),t=u.findIndex(i,r(e),e),i=i.slice(0,t+1),n=u.reduce(i,function(e,t,n){return f(t)&&f(i[n-1])&&e++,e},0),i=u.filter(i,l.matchNodeNames(e.nodeName)),(t=u.findIndex(i,r(e),e))-n}function d(e){return(f(e)?"text()":e.nodeName.toLowerCase())+"["+t(e)+"]"}var f=l.isText,s=l.isBogus,h=e.nodeIndex;return{create:function(e,t){var n,i,r,o,a,s=[];return n=t.container(),i=t.offset(),f(n)?r=function(e,t){for(;(e=e.previousSibling)&&f(e);)t+=e.data.length;return t}(n,i):(i>=(o=n.childNodes).length?(r="after",i=o.length-1):r="before",n=o[i]),s.push(d(n)),a=function(e,t,n){var i=[];for(t=t.parentNode;!(t==e||n&&n(t));t=t.parentNode)i.push(t);return i}(e,n),a=u.filter(a,c.negate(l.isBogus)),(s=s.concat(u.map(a,function(e){return d(e)}))).reverse().join("/")+","+r},resolve:function(e,t){var n,i,r;return t?(t=(n=t.split(","))[0].split("/"),r=1<n.length?n[1]:"before",(i=u.reduce(t,function(e,t){return(t=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t))?("text()"===t[1]&&(t[1]="#text"),n=e,i=t[1],r=parseInt(t[2],10),o=a(n),o=u.filter(o,function(e,t){return!f(e)||!f(o[t-1])}),(o=u.filter(o,l.matchNodeNames(i)))[r]):null;var n,i,r,o},e))?f(i)?function(e,t){for(var n,i=e,r=0;f(i);){if(n=i.data.length,r<=t&&t<=r+n){e=i,t-=r;break}if(!f(i.nextSibling)){e=i,t=n;break}r+=n,i=i.nextSibling}return t>e.data.length&&(t=e.data.length),new o(e,t)}(i,parseInt(r,10)):(r="after"===r?h(i)+1:h(i),new o(i.parentNode,r)):null):null}}}),e(z,[r,d,_,j,$,x,E],function(g,m,f,v,y,b,C){function e(h){var p=h.dom;this.getBookmark=function(e,c){function t(e,t){var n=0;return m.each(p.select(e),function(e){if("all"!==e.getAttribute("data-mce-bogus"))return e!=t&&void n++}),n}function n(o){function e(e){var t,n,i,r=e?"start":"end";t=o[r+"Container"],n=o[r+"Offset"],1==t.nodeType&&"TR"==t.nodeName&&((t=(i=t.childNodes)[Math.min(e?n:n-1,i.length-1)])&&(n=e?0:t.childNodes.length,o["set"+(e?"Start":"End")](t,n)))}return e(!0),e(),o}var i,r,o,a,s,l,u,d="&#xFEFF;";if(2==e)return s=(l=h.getNode())?l.nodeName:null,i=h.getRng(),x(l)||"IMG"==s?{name:s,index:t(s,l)}:h.tridentSel?h.tridentSel.getBookmark(e):(l=function(e){function t(e,t){var n;if(b.isElement(e)&&(e=C.getNode(e,t),x(e)))return e;if(f.isCaretContainer(e)){if(b.isText(e)&&f.isCaretContainerBlock(e)&&(e=e.parentNode),n=e.previousSibling,x(n))return n;if(n=e.nextSibling,x(n))return n}}return t(e.startContainer,e.startOffset)||t(e.endContainer,e.endOffset)}(i))?{name:s=l.tagName,index:t(s,l)}:function(e){function t(e,t){var n,i,r=e[t?"startContainer":"endContainer"],o=e[t?"startOffset":"endOffset"],a=[],s=0;if(3==r.nodeType){if(c)for(n=r.previousSibling;n&&3==n.nodeType;n=n.previousSibling)o+=n.nodeValue.length;a.push(o)}else o>=(i=r.childNodes).length&&i.length&&(s=1,o=Math.max(0,i.length-1)),a.push(p.nodeIndex(i[o],c)+s);for(;r&&r!=l;r=r.parentNode)a.push(p.nodeIndex(r,c));return a}var l=p.getRoot(),n={};return n.start=t(e,!0),h.isCollapsed()||(n.end=t(e)),n}(i);if(3==e)return i=h.getRng(),{start:v.create(p.getRoot(),y.fromRangeStart(i)),end:v.create(p.getRoot(),y.fromRangeEnd(i))};if(e)return{rng:h.getRng()};if(i=h.getRng(),o=p.uniqueId(),a=h.isCollapsed(),u="overflow:hidden;line-height:0px",i.duplicate||i.item){if(i.item)return{name:s=(l=i.item(0)).nodeName,index:t(s,l)};r=i.duplicate();try{i.collapse(),i.pasteHTML('<span data-mce-type="bookmark" id="'+o+'_start" style="'+u+'">'+d+"</span>"),a||(r.collapse(!1),i.moveToElementText(r.parentElement()),0===i.compareEndPoints("StartToEnd",r)&&r.move("character",-1),r.pasteHTML('<span data-mce-type="bookmark" id="'+o+'_end" style="'+u+'">'+d+"</span>"))}catch(e){return null}}else{if("IMG"==(s=(l=h.getNode()).nodeName))return{name:s,index:t(s,l)};r=n(i.cloneRange()),a||(r.collapse(!1),r.insertNode(p.create("span",{"data-mce-type":"bookmark",id:o+"_end",style:u},d))),(i=n(i)).collapse(!0),i.insertNode(p.create("span",{"data-mce-type":"bookmark",id:o+"_start",style:u},d))}return h.moveToBookmark({id:o,keep:1}),{id:o}},this.moveToBookmark=function(s){function e(e){var t,n,i,r,o=s[e?"start":"end"];if(o){for(i=o[0],n=l,t=o.length-1;1<=t;t--){if(r=n.childNodes,o[t]>r.length-1)return;n=r[o[t]]}3===n.nodeType&&(i=Math.min(o[0],n.nodeValue.length)),1===n.nodeType&&(i=Math.min(o[0],n.childNodes.length)),e?a.setStart(n,i):a.setEnd(n,i)}return!0}function t(e){var t,n,i,r,o=p.get(s.id+"_"+e),a=s.keep;if(o&&(t=o.parentNode,"start"==e?(a?(t=o.firstChild,n=1):n=p.nodeIndex(o),c=u=t,d=f=n):(a?(t=o.firstChild,n=1):n=p.nodeIndex(o),u=t,f=n),!a)){for(r=o.previousSibling,i=o.nextSibling,m.each(m.grep(o.childNodes),function(e){3==e.nodeType&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))});o=p.get(s.id+"_"+e);)p.remove(o,1);r&&i&&r.nodeType==i.nodeType&&3==r.nodeType&&!g.opera&&(n=r.nodeValue.length,r.appendData(i.nodeValue),p.remove(i),"start"==e?(c=u=r,d=f=n):(u=r,f=n))}}function n(e){return!p.isBlock(e)||e.innerHTML||g.ie||(e.innerHTML='<br data-mce-bogus="1" />'),e}var a,l,c,u,d,f,i,r;if(s)if(m.isArray(s.start)){if(a=p.createRng(),l=p.getRoot(),h.tridentSel)return h.tridentSel.moveToBookmark(s);e(!0)&&e()&&h.setRng(a)}else"string"==typeof s.start?h.setRng((i=p.createRng(),r=v.resolve(p.getRoot(),s.start),i.setStart(r.container(),r.offset()),r=v.resolve(p.getRoot(),s.end),i.setEnd(r.container(),r.offset()),i)):s.id?(t("start"),t("end"),c&&((a=p.createRng()).setStart(n(c),d),a.setEnd(n(u),f),h.setRng(a))):s.name?h.select(p.select(s.name)[s.index]):s.rng&&h.setRng(s.rng)}}var x=b.isContentEditableFalse;return e.isBookmarkNode=function(e){return e&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},e}),e(W,[p,I,L,E,z,x,r,d,$],function(s,o,a,n,l,d,c,e,t){function i(e,t,n,i){var r=this;r.dom=e,r.win=t,r.serializer=n,r.editor=i,r.bookmarkManager=new l(r),r.controlSelection=new a(r,i),r.win.getSelection||(r.tridentSel=new o(r))}var u=e.each,f=e.trim,h=c.ie;return i.prototype={setCursorLocation:function(e,t){var n=this.dom.createRng();e?(n.setStart(e,t),n.setEnd(e,t),this.setRng(n),this.collapse(!1)):(this._moveEndPoint(n,this.editor.getBody(),!0),this.setRng(n))},getContent:function(e){var t,n,i,r=this.getRng(),o=this.dom.create("body"),a=this.getSel();return t=n="",(e=e||{}).get=!0,e.format=e.format||"html",e.selection=!0,this.editor.fire("BeforeGetContent",e),"text"==e.format?this.isCollapsed()?"":r.text||(a.toString?a.toString():""):(r.cloneContents?(i=r.cloneContents())&&o.appendChild(i):r.item!==be||r.htmlText!==be?(o.innerHTML="<br>"+(r.item?r.item(0).outerHTML:r.htmlText),o.removeChild(o.firstChild)):o.innerHTML=r.toString(),/^\s/.test(o.innerHTML)&&(t=" "),/\s+$/.test(o.innerHTML)&&(n=" "),e.getInner=!0,e.content=this.isCollapsed()?"":t+this.serializer.serialize(o,e)+n,this.editor.fire("GetContent",e),e.content)},setContent:function(e,t){var n,i,r,o=this,a=o.getRng(),s=o.win.document;if((t=t||{format:"html"}).set=!0,t.selection=!0,t.content=e,t.no_events||o.editor.fire("BeforeSetContent",t),e=t.content,a.insertNode){e+='<span id="__caret">_</span>',a.startContainer==s&&a.endContainer==s?s.body.innerHTML=e:(a.deleteContents(),0===s.body.childNodes.length?s.body.innerHTML=e:a.createContextualFragment?a.insertNode(a.createContextualFragment(e)):(i=s.createDocumentFragment(),r=s.createElement("div"),i.appendChild(r),r.outerHTML=e,a.insertNode(i))),n=o.dom.get("__caret"),(a=s.createRange()).setStartBefore(n),a.setEndBefore(n),o.setRng(a),o.dom.remove("__caret");try{o.setRng(a)}catch(e){}}else a.item&&(s.execCommand("Delete",!1,null),a=o.getRng()),/^\s+/.test(e)?(a.pasteHTML('<span id="__mce_tmp">_</span>'+e),o.dom.remove("__mce_tmp")):a.pasteHTML(e);t.no_events||o.editor.fire("SetContent",t)},getStart:function(e){var t,n,i,r,o=this.getRng();if(o.duplicate||o.item){if(o.item)return o.item(0);for((i=o.duplicate()).collapse(1),(t=i.parentElement()).ownerDocument!==this.dom.doc&&(t=this.dom.getRoot()),n=r=o.parentElement();r=r.parentNode;)if(r==t){t=n;break}return t}return 1==(t=o.startContainer).nodeType&&t.hasChildNodes()&&(e&&o.collapsed||(t=t.childNodes[Math.min(t.childNodes.length-1,o.startOffset)])),t&&3==t.nodeType?t.parentNode:t},getEnd:function(e){var t,n,i=this.getRng();return i.duplicate||i.item?i.item?i.item(0):((i=i.duplicate()).collapse(0),(t=i.parentElement()).ownerDocument!==this.dom.doc&&(t=this.dom.getRoot()),t&&"BODY"==t.nodeName&&t.lastChild||t):(t=i.endContainer,n=i.endOffset,1==t.nodeType&&t.hasChildNodes()&&(e&&i.collapsed||(t=t.childNodes[0<n?n-1:n])),t&&3==t.nodeType?t.parentNode:t)},getBookmark:function(e,t){return this.bookmarkManager.getBookmark(e,t)},moveToBookmark:function(e){return this.bookmarkManager.moveToBookmark(e)},select:function(e,t){var n,i=this.dom,r=i.createRng();if(this.lastFocusBookmark=null,e){if(!t&&this.controlSelection.controlSelect(e))return;n=i.nodeIndex(e),r.setStart(e.parentNode,n),r.setEnd(e.parentNode,n+1),t&&(this._moveEndPoint(r,e,!0),this._moveEndPoint(r,e)),this.setRng(r)}return e},isCollapsed:function(){var e=this.getRng(),t=this.getSel();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},collapse:function(e){var t,n=this.getRng();n.item&&(t=n.item(0),(n=this.win.document.body.createTextRange()).moveToElementText(t)),n.collapse(!!e),this.setRng(n)},getSel:function(){var e=this.win;return e.getSelection?e.getSelection():e.document.selection},getRng:function(e){function t(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(e){return-1}}var n,i,r,o,a,s,l=this;if(!l.win)return null;if(null==(o=l.win.document))return null;if(!e&&l.lastFocusBookmark){var c=l.lastFocusBookmark;return c.startContainer?((i=o.createRange()).setStart(c.startContainer,c.startOffset),i.setEnd(c.endContainer,c.endOffset)):i=c,i}if(e&&l.tridentSel)return l.tridentSel.getRangeAt(0);try{(n=l.getSel())&&(i=0<n.rangeCount?n.getRangeAt(0):n.createRange?n.createRange():o.createRange())}catch(e){}if((s=l.editor.fire("GetSelectionRange",{range:i})).range!==i)return s.range;if(h&&i&&i.setStart&&o.selection){try{a=o.selection.createRange()}catch(e){}a&&a.item&&(r=a.item(0),(i=o.createRange()).setStartBefore(r),i.setEndAfter(r))}return i||(i=o.createRange?o.createRange():o.body.createTextRange()),i.setStart&&9===i.startContainer.nodeType&&i.collapsed&&(r=l.dom.getRoot(),i.setStart(r,0),i.setEnd(r,0)),l.selectedRange&&l.explicitRange&&(0===t(i.START_TO_START,i,l.selectedRange)&&0===t(i.END_TO_END,i,l.selectedRange)?i=l.explicitRange:(l.selectedRange=null,l.explicitRange=null)),i},setRng:function(e,t){var n,i;if(e)if(e.select){this.explicitRange=null;try{e.select()}catch(e){}}else if(this.tridentSel){if(e.cloneRange)try{this.tridentSel.addRange(e)}catch(e){}}else{if(n=this.getSel(),e=this.editor.fire("SetSelectionRange",{range:e}).range,n){this.explicitRange=e;try{n.removeAllRanges(),n.addRange(e)}catch(e){}!1===t&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset)),this.selectedRange=0<n.rangeCount?n.getRangeAt(0):null}e.collapsed||e.startContainer!=e.endContainer||!n.setBaseAndExtent||c.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&((i=e.startContainer.childNodes[e.startOffset])&&"IMG"==i.tagName&&(n.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),n.anchorNode===e.startContainer&&n.focusNode===e.endContainer||n.setBaseAndExtent(i,0,i,1))),this.editor.fire("AfterSetSelectionRange",{range:e})}},setNode:function(e){return this.setContent(this.dom.getOuterHTML(e)),e},getNode:function(){function e(e,t){for(var n=e;e&&3===e.nodeType&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n}var t,n,i,r,o,a=this.getRng(),s=this.dom.getRoot();return a?(n=a.startContainer,i=a.endContainer,r=a.startOffset,o=a.endOffset,a.setStart?(t=a.commonAncestorContainer,!a.collapsed&&(n==i&&o-r<2&&n.hasChildNodes()&&(t=n.childNodes[r]),3===n.nodeType&&3===i.nodeType&&(n=n.length===r?e(n.nextSibling,!0):n.parentNode,i=0===o?e(i.previousSibling,!1):i.parentNode,n&&n===i))?n:t&&3==t.nodeType?t.parentNode:t):((t=a.item?a.item(0):a.parentElement()).ownerDocument!==this.win.document&&(t=s),t)):s},getSelectedBlocks:function(e,t){var n,i,r=this.dom,o=[];if(i=r.getRoot(),e=r.getParent(e||this.getStart(),r.isBlock),t=r.getParent(t||this.getEnd(),r.isBlock),e&&e!=i&&o.push(e),e&&t&&e!=t)for(var a=new s(n=e,i);(n=a.next())&&n!=t;)r.isBlock(n)&&o.push(n);return t&&e!=t&&t!=i&&o.push(t),o},isForward:function(){var e,t,n=this.dom,i=this.getSel();return!(i&&i.anchorNode&&i.focusNode)||((e=n.createRng()).setStart(i.anchorNode,i.anchorOffset),e.collapse(!0),(t=n.createRng()).setStart(i.focusNode,i.focusOffset),t.collapse(!0),e.compareBoundaryPoints(e.START_TO_START,t)<=0)},normalize:function(){var e=this.getRng();return c.range&&new n(this.dom).normalize(e)&&this.setRng(e,this.isForward()),e},selectorChanged:function(e,t){var a,s=this;return s.selectorChangedData||(s.selectorChangedData={},a={},s.editor.on("NodeChange",function(e){var n=e.element,i=s.dom,r=i.getParents(n,null,i.getRoot()),o={};u(s.selectorChangedData,function(e,n){u(r,function(t){if(i.is(t,n))return a[n]||(u(e,function(e){e(!0,{node:t,selector:n,parents:r})}),a[n]=e),o[n]=e,!1})}),u(a,function(e,t){o[t]||(delete a[t],u(e,function(e){e(!1,{node:n,selector:t,parents:r})}))})})),s.selectorChangedData[e]||(s.selectorChangedData[e]=[]),s.selectorChangedData[e].push(t),s},getScrollContainer:function(){for(var e,t=this.dom.getRoot();t&&"BODY"!=t.nodeName;){if(t.scrollHeight>t.clientHeight){e=t;break}t=t.parentNode}return e},scrollIntoView:function(e,t){function n(e){for(var t=0,n=0,i=e;i&&i.nodeType;)t+=i.offsetLeft||0,n+=i.offsetTop||0,i=i.offsetParent;return{x:t,y:n}}var i,r,o,a,s=this.dom,l=s.getRoot(),c=0;if(d.isElement(e)){if(!1===t&&(c=e.offsetHeight),"BODY"!=l.nodeName){var u=this.getScrollContainer();if(u)return i=n(e).y-n(u).y+c,a=u.clientHeight,void((i<(o=u.scrollTop)||o+a<i+25)&&(u.scrollTop=i<o?i:i-a+25))}r=s.getViewPort(this.editor.getWin()),i=s.getPos(e).y+c,o=r.y,a=r.h,(i<r.y||o+a<i+25)&&this.editor.getWin().scrollTo(0,i<o?i:i-a+25)}},placeCaretAt:function(e,t){this.setRng(n.getCaretRangeFromPoint(e,t,this.editor.getDoc()))},_moveEndPoint:function(e,t,n){var i=t,r=new s(t,i),o=this.dom.schema.getNonEmptyElements();do{if(3==t.nodeType&&0!==f(t.nodeValue).length)return void(n?e.setStart(t,0):e.setEnd(t,t.nodeValue.length));if(o[t.nodeName]&&!/^(TD|TH)$/.test(t.nodeName))return void(n?e.setStartBefore(t):"BR"==t.nodeName?e.setEndBefore(t):e.setEndAfter(t));if(c.ie&&c.ie<11&&this.dom.isBlock(t)&&this.dom.isEmpty(t))return void(n?e.setStart(t,0):e.setEnd(t,0))}while(t=n?r.next():r.prev());"BODY"==i.nodeName&&(n?e.setStart(i,0):e.setEnd(i,i.childNodes.length))},getBoundingClientRect:function(){var e=this.getRng();return e.collapsed?t.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:function(){this.win=null,this.controlSelection.destroy()}},i}),e(q,[z,d],function(o,e){var a=e.each;return function(r){this.compare=function(e,t){function n(n){var i={};return a(r.getAttribs(n),function(e){var t=e.nodeName.toLowerCase();0!==t.indexOf("_")&&"style"!==t&&0!==t.indexOf("data-")&&(i[t]=r.getAttrib(n,t))}),i}function i(e,t){var n,i;for(i in e)if(e.hasOwnProperty(i)){if(void 0===(n=t[i]))return!1;if(e[i]!=n)return!1;delete t[i]}for(i in t)if(t.hasOwnProperty(i))return!1;return!0}return!(e.nodeName!=t.nodeName||!i(n(e),n(t))||!i(r.parseStyle(r.getAttrib(e,"style")),r.parseStyle(r.getAttrib(t,"style")))||o.isBookmarkNode(e)||o.isBookmarkNode(t))}}}),e(U,[y,d,N],function(e,g,o){function u(e,t){function h(e){var t,n,i;return r="string"==typeof e?{name:e,classes:[],attrs:{}}:e,t=m.create(r.name),n=t,(i=r).classes.length&&m.addClass(n,i.classes.join(" ")),m.setAttribs(n,i.attrs),t}var n,r,i,p=t&&t.schema||new o({});return e&&e.length?(n=h(r=e[0]),(i=m.create("div")).appendChild(function e(n,t,i){var r,o,a,s,l,c,u,d=t.length&&t[0],f=d&&d.name;if(l=f,c="string"!=typeof(s=n)?s.nodeName.toLowerCase():s,a=!(!(u=p.getElementRule(c).parentsRequired)||!u.length)&&(l&&-1!==g.inArray(u,l)?l:u[0]))f==a?(o=t[0],t=t.slice(1)):o=a;else if(d)o=t[0],t=t.slice(1);else if(!i)return n;return o&&(r=h(o)).appendChild(n),i&&(r||(r=m.create("div")).appendChild(n),g.each(i,function(e){var t=h(e);r.insertBefore(t,n)})),e(r,t,o&&o.siblings)}(n,e.slice(1),r.siblings)),i):""}function i(e){var t,a={classes:[],attrs:{}};return"*"!==(e=a.selector=g.trim(e))&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(e,t,n,i,r){switch(t){case"#":a.attrs.id=n;break;case".":a.classes.push(n);break;case":":-1!==g.inArray("checked disabled enabled read-only required".split(" "),n)&&(a.attrs[n]=n)}if("["==i){var o=r.match(/([\w\-]+)(?:\=\"([^\"]+))?/);o&&(a.attrs[o[1]]=o[2])}return""})),a.name=t||"div",a}function d(e){return e&&"string"==typeof e?(e=(e=e.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),g.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(e){var t=g.map(e.split(/(?:~\+|~|\+)/),i),n=t.pop();return t.length&&(n.siblings=t),n}).reverse()):[]}var f=g.each,m=e.DOM;return{getCssText:function(n,e){function i(e){return e.replace(/%(\w+)/g,"")}var t,r,o,a,s,l,c="";if(!1===(l=n.settings.preview_styles))return"";if("string"!=typeof l&&(l="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),"string"==typeof e){if(!(e=n.formatter.get(e)))return;e=e[0]}return"preview"in e&&!1===(l=e.preview)?"":(t=e.block||e.inline||"span",(a=d(e.selector)).length?(a[0].name||(a[0].name=t),t=e.selector,r=u(a,n)):r=u([t],n),o=m.select(t,r)[0]||r.firstChild,f(e.styles,function(e,t){(e=i(e))&&m.setStyle(o,t,e)}),f(e.attributes,function(e,t){(e=i(e))&&m.setAttrib(o,t,e)}),f(e.classes,function(e){e=i(e),m.hasClass(o,e)||m.addClass(o,e)}),n.fire("PreviewFormats"),m.setStyles(r,{position:"absolute",left:-65535}),n.getBody().appendChild(r),s=m.getStyle(n.getBody(),"fontSize",!0),s=/px$/.test(s)?parseInt(s,10):0,f(l.split(" "),function(e){var t=m.getStyle(o,e,!0);if(!("background-color"==e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(t)&&(t=m.getStyle(n.getBody(),e,!0),"#ffffff"==m.toHex(t).toLowerCase())||"color"==e&&"#000000"==m.toHex(t).toLowerCase())){if("font-size"==e&&/em|%$/.test(t)){if(0===s)return;t=(t=parseFloat(t,10)/(/%$/.test(t)?100:1))*s+"px"}"border"==e&&t&&(c+="padding:0 2px;"),c+=e+":"+t+";"}}),n.fire("AfterPreviewFormats"),m.remove(r),c)},parseSelector:d,selectorToHtml:function(e,t){return u(d(e),t)}}}),e(V,[u,x,f],function(r,o,a){var e,t,n={},s=r.filter,l=r.each;return t=function(e){var t,n,i=e.selection.getRng();t=o.matchNodeNames("pre"),i.collapsed||(n=e.selection.getSelectedBlocks(),l(s(s(n,t),function(e){return t(e.previousSibling)&&-1!=r.indexOf(n,e.previousSibling)}),function(e){var t,n;t=e.previousSibling,a(n=e).remove(),a(t).append("<br><br>").append(n.childNodes)}))},n[e="pre"]||(n[e]=[]),n[e].push(t),{postProcess:function(e,t){l(n[e],function(e){e(t)})}}}),e(Y,[p,E,z,q,P,d,U,V],function(te,e,r,l,ne,ie,o,re){return function(b){function C(e){return e.nodeType&&(e=e.nodeName),!!b.schema.getTextBlockElements()[e.toLowerCase()]}function p(e){return/^(TH|TD)$/.test(e.nodeName)}function m(e,t){return j.getParents(e,t,j.getRoot())}function x(e){return 1===e.nodeType&&"_mce_caret"===e.id}function w(e){return e?i[e]:i}function n(e,t){e&&("string"!=typeof e?J(e,function(e,t){n(t,e)}):(t=t.length?t:[t],J(t,function(e){e.deep===F&&(e.deep=!e.selector),e.split===F&&(e.split=!e.selector||e.inline),e.remove===F&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))}),i[e]=t))}function a(e,t){var n=w(t);if(n)for(var i=0;i<n.length;i++)if(!1===n[i].inherit&&j.is(e,n[i].selector))return!0;return!1}function g(e){var t;return b.dom.getParent(e,function(e){return(t=b.dom.getStyle(e,"text-decoration"))&&"none"!==t}),t}function u(e){var t;1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType&&(t=g(e.parentNode),b.dom.getStyle(e,"color")&&t?b.dom.setStyle(e,"text-decoration",t):b.dom.getStyle(e,"text-decoration")===t&&b.dom.setStyle(e,"text-decoration",null))}function _(h,p,o){function g(n,e){if(e=e||y,n){if(e.onformat&&e.onformat(n,e,p,o),J(e.styles,function(e,t){j.setStyle(n,t,d(e,p))}),e.styles){var t=j.getAttrib(n,"style");t&&n.setAttribute("data-mce-style",t)}J(e.attributes,function(e,t){j.setAttrib(n,t,d(e,p))}),J(e.classes,function(e){e=d(e,p),j.hasClass(n,e)||j.addClass(n,e)})}}function m(e,t){var n=!1;return!!y.selector&&(J(e,function(e){if(!("collapsed"in e&&e.collapsed!==a))return j.is(t,e.selector)&&!x(t)?(g(t,e),!(n=!0)):void 0}),n)}function e(e,t,l){var c,u,d=[],f=!0;c=y.inline||y.block,g(u=j.create(c)),W.walk(e,function(e){var s;J(e,function e(t){var n,i,r,o;if(o=f,n=t.nodeName.toLowerCase(),i=t.parentNode.nodeName.toLowerCase(),1===t.nodeType&&G(t)&&(o=f,f="true"===G(t),r=!0),S(n,"br"))return s=0,void(y.block&&j.remove(t));if(y.wrapper&&E(t,h,p))s=0;else{if(f&&!r&&y.block&&!y.wrapper&&C(n)&&q(i,c))return g(t=j.rename(t,c)),d.push(t),void(s=0);if(y.selector){var a=m(v,t);if(!y.inline||a)return void(s=0)}!f||r||!q(c,n)||!q(i,c)||!l&&3===t.nodeType&&1===t.nodeValue.length&&65279===t.nodeValue.charCodeAt(0)||x(t)||y.inline&&U(t)?(s=0,J(Z(t.childNodes),e),r&&(f=o),s=0):(s||(s=j.clone(u,K),t.parentNode.insertBefore(s,t),d.push(s)),s.appendChild(t))}})}),!0===y.links&&J(d,function(e){!function e(t){"A"===t.nodeName&&g(t,y),J(Z(t.childNodes),e)}(e)}),J(d,function(n){function i(e){var t=0;return J(e.childNodes,function(e){D(e)||Q(e)||t++}),t}function r(e){var t=!1;return J(e.childNodes,function(e){if(N(e))return t=e,!1}),t}var e,t,o,a;if(e=i(n),!(1<d.length)&&U(n)||0!==e){if(y.inline||y.wrapper){if(y.exact||1!==e||((o=r(t=n))&&!Q(o)&&T(o,y)&&(g(a=j.clone(o,K)),j.replace(a,t,X),j.remove(o,1)),n=a||t),J(v,function(t){J(j.select(t.inline,n),function(e){Q(e)||I(t,p,e,t.exact?e:null)})}),E(n.parentNode,h,p)&&I(y,p,n)&&(n=0),y.merge_with_parents&&j.getParent(n.parentNode,function(e){if(E(e,h,p))return I(y,p,n)&&(n=0),X}),!U(n)&&!A(n,"fontSize")){var s=function(e,t){do{if(1!==i(e))break;if(!(e=r(e)))break;if(t(e))return e}while(e);return null}(n,k("fontSize"));s&&_("fontsize",{value:A(s,"fontSize")},n)}n&&!1!==y.merge_siblings&&(n=L(n=L(B(n),n),B(n,X)))}}else j.remove(n,1)})}var t,n,i,r,v=w(h),y=v[0],a=!o&&z.isCollapsed();if("false"!==G(z.getNode())){if(y){if(o)o.nodeType?m(v,o)||((n=j.createRng()).setStartBefore(o),n.setEndAfter(o),e(O(n,v),0,!0)):e(o,0,!0);else if(a&&y.inline&&!j.select("td[data-mce-selected],th[data-mce-selected]").length)M("apply",h,p);else{var s=b.selection.getNode();f||!v[0].defaultBlock||j.getParent(s,j.isBlock)||_(v[0].defaultBlock),b.selection.setRng(function(){var e=b.selection.getRng(),t=e.startContainer,n=e.endContainer;if(t!=n&&0===e.endOffset){var i=function(e,t){var n=new te(t);for(o=n.prev2();o;o=n.prev2()){if(3==o.nodeType&&0<o.data.length)return o;if(1<o.childNodes.length||o==e||"BR"==o.tagName)return o}}(t,n),r=3==i.nodeType?i.data.length:i.childNodes.length;e.setEnd(i,r)}return e}()),t=z.getBookmark(),e(O(z.getRng(X),v)),y.styles&&((y.styles.color||y.styles.textDecoration)&&(ee(s,u,"childNodes"),u(s)),y.styles.backgroundColor&&function t(e,n,i){J(e.childNodes,function(e){N(e)&&(n(e)&&i(e),e.hasChildNodes()&&t(e,n,i))})}(s,k("fontSize"),(i="backgroundColor",r=d(y.styles.backgroundColor,p),ne.curry(function(e,t,n){j.setStyle(n,e,t)},i,r)))),z.moveToBookmark(t),H(z.getRng(X)),b.nodeChanged()}re.postProcess(h,b)}}else{o=z.getNode();for(var l=0,c=v.length;l<c;l++)if(v[l].ceFalseOverride&&j.is(o,v[l].selector))return void g(o,v[l])}}function v(i,u,e,r){function o(e){return function(e,t,n,i){var r,o,a,s,l,c;if(e){for(c=e.parentNode,r=t.parentNode;r&&r!=c;r=r.parentNode){for(o=j.clone(r,K),l=0;l<d.length;l++)if(I(d[l],u,o,o)){o=0;break}o&&(a&&o.appendChild(a),s||(s=o),a=o)}!i||f.mixed&&U(e)||(t=j.split(e,t)),a&&(n.parentNode.insertBefore(a,n),s.appendChild(n))}return t}((J(m(e.parentNode).reverse(),function(e){var t;n||"_start"==e.id||"_end"==e.id||(t=E(e,i,u,r))&&!1!==t.split&&(n=e)}),n),e,e,!0);var n}function a(e){var t=j.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return Q(n)&&(n=n[e?"firstChild":"lastChild"]),3==n.nodeType&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),j.remove(t,!0),n}function t(e){var t,n,i=e.commonAncestorContainer;if(e=O(e,d,X),f.split){if((t=P(e,X))!=(n=P(e))){if(/^(TR|TH|TD)$/.test(t.nodeName)&&t.firstChild&&(t="TR"==t.nodeName?t.firstChild.firstChild||t:t.firstChild||t),i&&/^T(HEAD|BODY|FOOT|R)$/.test(i.nodeName)&&p(n)&&n.firstChild&&(n=n.firstChild||n),j.isChildOf(t,n)&&!U(n)&&!p(t)&&!p(n))return o(t=R(t,"span",{id:"_start","data-mce-type":"bookmark"})),void(t=a(X));t=R(t,"span",{id:"_start","data-mce-type":"bookmark"}),n=R(n,"span",{id:"_end","data-mce-type":"bookmark"}),o(t),o(n),t=a(X),n=a()}else t=n=o(t);e.startContainer=t.parentNode?t.parentNode:t,e.startOffset=V(t),e.endContainer=n.parentNode?n.parentNode:n,e.endOffset=V(n)+1}W.walk(e,function(e){J(e,function(e){(function e(t){var n,i,r,o,a;if(1===t.nodeType&&G(t)&&(o=l,l="true"===G(t),a=!0),n=Z(t.childNodes),l&&!a)for(i=0,r=d.length;i<r&&!I(d[i],u,t,t);i++);if(f.deep&&n.length){for(i=0,r=n.length;i<r;i++)e(n[i]);a&&(l=o)}})(e),1===e.nodeType&&"underline"===b.dom.getStyle(e,"text-decoration")&&e.parentNode&&"underline"===g(e.parentNode)&&I({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,e)})})}var n,s,d=w(i),f=d[0],l=!0;if(e)e.nodeType?((s=j.createRng()).setStartBefore(e),s.setEndAfter(e),t(s)):t(e);else if("false"!==G(z.getNode()))z.isCollapsed()&&f.inline&&!j.select("td[data-mce-selected],th[data-mce-selected]").length?M("remove",i,u,r):(n=z.getBookmark(),t(z.getRng(X)),z.moveToBookmark(n),f.inline&&y(i,u,z.getStart())&&H(z.getRng(!0)),b.nodeChanged());else{e=z.getNode();for(var c=0,h=d.length;c<h&&(!d[c].ceFalseOverride||!I(d[c],u,e,e));c++);}}function E(e,t,s,l){function n(e,t,n){var i,r,o,a=t[n];if(t.onmatch)return t.onmatch(e,t,n);if(a)if(a.length===F){for(i in a)if(a.hasOwnProperty(i)){if(r="attributes"===n?j.getAttrib(e,i):A(e,i),l&&!r&&!t.exact)return;if((!l||t.exact)&&!S(r,c(d(a[i],s),i)))return}}else for(o=0;o<a.length;o++)if("attributes"===n?j.getAttrib(e,a[o]):A(e,a[o]))return t;return t}var i,r,o,a=w(t);if(a&&e)for(r=0;r<a.length;r++)if(T(e,i=a[r])&&n(e,i,"attributes")&&n(e,i,"styles")){if(o=i.classes)for(r=0;r<o.length;r++)if(!j.hasClass(e,o[r]))return;return i}}function y(n,i,e){function t(e){var t=j.getRoot();return e!==t&&E(e=j.getParent(e,function(e){return!!a(e,n)||e.parentNode===t||!!E(e,n,i,!0)}),n,i)}var r;return e?t(e):t(e=z.getNode())?X:(r=z.getStart())!=e&&t(r)?X:K}function T(e,t){return S(e,t.inline)?X:S(e,t.block)?X:t.selector?1==e.nodeType&&j.is(e,t.selector):void 0}function S(e,t){return t=t||"",e=""+((e=e||"").nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()==t.toLowerCase()}function N(e){return 1==e.nodeType&&!Q(e)&&!D(e)&&!x(e)}function k(e){return ne.curry(function(e,t){return!(!t||!A(t,e))},e)}function A(e,t){return c(j.getStyle(e,t),t)}function c(e,t){return"color"!=t&&"backgroundColor"!=t||(e=j.toHex(e)),"fontWeight"==t&&700==e&&(e="bold"),"fontFamily"==t&&(e=e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+e}function d(e,n){return"string"!=typeof e?e=e(n):n&&(e=e.replace(/%(\w+)/g,function(e,t){return n[t]||e})),e}function D(e){return e&&3===e.nodeType&&/^([\t \r\n]+|)$/.test(e.nodeValue)}function R(e,t,n){var i=j.create(t,n);return e.parentNode.insertBefore(i,e),i.appendChild(e),i}function O(a,s,l){function e(e){var t,n,i,r,o,a;if(t=n=e?f:p,r=e?"previousSibling":"nextSibling",o=j.getRoot(),3==t.nodeType&&!D(t)&&(e?0<h:g<t.nodeValue.length))return t;for(;;){if(!s[0].block_expand&&U(n))return n;for(i=n[r];i;i=i[r])if(!Q(i)&&!D(i)&&("BR"!=(a=i).nodeName||!a.getAttribute("data-mce-bogus")||a.nextSibling))return n;if(n==o||n.parentNode==o){t=n;break}n=n.parentNode}return t}function t(e,t){for(t===F&&(t=3===e.nodeType?e.length:e.childNodes.length);e&&e.hasChildNodes();)(e=e.childNodes[t])&&(t=3===e.nodeType?e.length:e.childNodes.length);return{node:e,offset:t}}function n(e){for(var t=e;t;){if(1===t.nodeType&&G(t))return"false"===G(t)?t:e;t=t.parentNode}return e}function i(e,t,o){function n(e,t){var n,i,r=e.nodeValue;return void 0===t&&(t=o?r.length:0),o?(n=r.lastIndexOf(" ",t),-1===(n=(i=r.lastIndexOf("",t))<n?n:i)||l||n++):(n=r.indexOf(" ",t),i=r.indexOf("",t),n=-1!==n&&(-1===i||n<i)?n:i),n}var i,r,a,s;if(3===e.nodeType){if(-1!==(a=n(e,t)))return{container:e,offset:a};s=e}for(i=new te(e,j.getParent(e,U)||b.getBody());r=i[o?"prev":"next"]();)if(3===r.nodeType){if(-1!==(a=n(s=r)))return{container:r,offset:a}}else if(U(r))break;if(s)return{container:s,offset:t=o?0:s.length}}function r(e,t){var n,i,r,o;for(3==e.nodeType&&0===e.nodeValue.length&&e[t]&&(e=e[t]),n=m(e),i=0;i<n.length;i++)for(r=0;r<s.length;r++)if(!("collapsed"in(o=s[r])&&o.collapsed!==a.collapsed)&&j.is(n[i],o.selector))return n[i];return e}function o(e,t){var n,i=j.getRoot();if(s[0].wrapper||(n=j.getParent(e,s[0].block,i)),n||(n=j.getParent(3==e.nodeType?e.parentNode:e,function(e){return e!=i&&C(e)})),n&&s[0].wrapper&&(n=m(n,"ul,ol").reverse()[0]||n),!n)for(n=e;n[t]&&!U(n[t])&&!S(n=n[t],"br"););return n||e}var c,u,d,f=a.startContainer,h=a.startOffset,p=a.endContainer,g=a.endOffset;if(1==f.nodeType&&f.hasChildNodes()&&(c=f.childNodes.length-1,3==(f=f.childNodes[c<h?c:h]).nodeType&&(h=0)),1==p.nodeType&&p.hasChildNodes()&&(c=p.childNodes.length-1,3==(p=p.childNodes[c<g?c:g-1]).nodeType&&(g=p.nodeValue.length)),f=n(f),p=n(p),(Q(f.parentNode)||Q(f))&&(3==(f=(f=Q(f)?f:f.parentNode).nextSibling||f).nodeType&&(h=0)),(Q(p.parentNode)||Q(p))&&(3==(p=(p=Q(p)?p:p.parentNode).previousSibling||p).nodeType&&(g=p.length)),s[0].inline&&(a.collapsed&&((d=i(f,h,!0))&&(f=d.container,h=d.offset),(d=i(p,g))&&(p=d.container,g=d.offset)),(u=t(p,g)).node)){for(;u.node&&0===u.offset&&u.node.previousSibling;)u=t(u.node.previousSibling);u.node&&0<u.offset&&3===u.node.nodeType&&" "===u.node.nodeValue.charAt(u.offset-1)&&1<u.offset&&(p=u.node).splitText(u.offset-1)}return(s[0].inline||s[0].block_expand)&&(s[0].inline&&3==f.nodeType&&0!==h||(f=e(!0)),s[0].inline&&3==p.nodeType&&g!==p.nodeValue.length||(p=e())),s[0].selector&&s[0].expand!==K&&!s[0].inline&&(f=r(f,"previousSibling"),p=r(p,"nextSibling")),(s[0].block||s[0].selector)&&(f=o(f,"previousSibling"),p=o(p,"nextSibling"),s[0].block&&(U(f)||(f=e(!0)),U(p)||(p=e()))),1==f.nodeType&&(h=V(f),f=f.parentNode),1==p.nodeType&&(g=V(p)+1,p=p.parentNode),{startContainer:f,startOffset:h,endContainer:p,endOffset:g}}function I(n,i,r,o){var e,t,a,s;if(!T(r,n)&&(s=r,!n.links||"A"!=s.tagName))return K;if("all"!=n.remove)for(J(n.styles,function(e,t){e=c(d(e,i),t),"number"==typeof t&&(t=e,o=0),(n.remove_similar||!o||S(A(o,t),e))&&j.setStyle(r,t,""),a=1}),a&&""===j.getAttrib(r,"style")&&(r.removeAttribute("style"),r.removeAttribute("data-mce-style")),J(n.attributes,function(e,t){var n;if(e=d(e,i),"number"==typeof t&&(t=e,o=0),!o||S(j.getAttrib(o,t),e)){if("class"==t&&((e=j.getAttrib(r,t))&&(n="",J(e.split(/\s+/),function(e){/mce\-\w+/.test(e)&&(n+=(n?" ":"")+e)}),n)))return void j.setAttrib(r,t,n);"class"==t&&r.removeAttribute("className"),h.test(t)&&r.removeAttribute("data-mce-"+t),r.removeAttribute(t)}}),J(n.classes,function(e){e=d(e,i),o&&!j.hasClass(o,e)||j.removeClass(r,e)}),t=j.getAttribs(r),e=0;e<t.length;e++){var l=t[e].nodeName;if(0!==l.indexOf("_")&&0!==l.indexOf("data-"))return K}return"none"!=n.remove?(function(e,t){function n(e,t,n){return!(e=B(e,t,n))||"BR"==e.nodeName||U(e)}var i,r=e.parentNode;t.block&&(f?r==j.getRoot()&&(t.list_block&&S(e,t.list_block)||J(Z(e.childNodes),function(e){q(f,e.nodeName.toLowerCase())?i?i.appendChild(e):(i=R(e,f),j.setAttribs(i,b.settings.forced_root_block_attrs)):i=0})):U(e)&&!U(r)&&(n(e,K)||n(e.firstChild,X,1)||e.insertBefore(j.create("br"),e.firstChild),n(e,X)||n(e.lastChild,K,1)||e.appendChild(j.create("br")))),t.selector&&t.inline&&!S(t.inline,e)||j.remove(e,1)}(r,n),X):void 0}function B(e,t,n){if(e)for(t=t?"nextSibling":"previousSibling",e=n?e:e[t];e;e=e[t])if(1==e.nodeType||!D(e))return e}function L(t,e){function n(e,t){for(i=e;i;i=i[t]){if(3==i.nodeType&&0!==i.nodeValue.length)return e;if(1==i.nodeType&&!Q(i))return i}return e}var i,r,o=new l(j);if(t&&e&&(t=n(t,"previousSibling"),e=n(e,"nextSibling"),o.compare(t,e))){for(i=t.nextSibling;i&&i!=e;)i=(r=i).nextSibling,t.appendChild(r);return j.remove(e),J(Z(e.childNodes),function(e){t.appendChild(e)}),t}return e}function P(e,t){var n,i,r;return n=e[t?"startContainer":"endContainer"],i=e[t?"startOffset":"endOffset"],1==n.nodeType&&(r=n.childNodes.length-1,!t&&i&&i--,n=n.childNodes[r<i?r:i]),3===n.nodeType&&t&&i>=n.nodeValue.length&&(n=new te(n,b.getBody()).next()||n),3!==n.nodeType||t||0!==i||(n=new te(n,b.getBody()).prev()||n),n}function M(e,d,f,h){function p(e){var t=j.create("span",{id:a,"data-mce-bogus":!0,style:i?"color:red":""});return e&&t.appendChild(b.getDoc().createTextNode(Y)),t}function r(e,t){for(;e;){if(3===e.nodeType&&e.nodeValue!==Y||1<e.childNodes.length)return!1;t&&1===e.nodeType&&t.push(e),e=e.firstChild}return!0}function s(e){for(;e;){if(e.id===a)return e;e=e.parentNode}}function l(e){var t;if(e)for(e=(t=new te(e,e)).current();e;e=t.next())if(3===e.nodeType)return e}function o(e,t){var n,i;if(e)i=z.getRng(!0),r(e)?(!1!==t&&(i.setStartBefore(e),i.setEndBefore(e)),j.remove(e)):((n=l(e)).nodeValue.charAt(0)===Y&&(n.deleteData(0,1),i.startContainer==n&&0<i.startOffset&&i.setStart(n,i.startOffset-1),i.endContainer==n&&0<i.endOffset&&i.setEnd(n,i.endOffset-1)),j.remove(e,1)),z.setRng(i);else if(!(e=s(z.getStart())))for(;e=j.get(a);)o(e,!1)}function n(){var e;(e=s(z.getStart()))&&!j.isEmpty(e)&&ee(e,function(e){1!=e.nodeType||e.id===a||j.isEmpty(e)||j.setAttrib(e,"data-mce-bogus",null)},"childNodes")}var a="_mce_caret",i=b.settings.caret_debug;b._hasCaretEvents||($=function(){var e,t=[];if(r(s(z.getStart()),t))for(e=t.length;e--;)j.setAttrib(t[e],"data-mce-bogus","1")},t=function(e){var t=e.keyCode;o(),8==t&&z.isCollapsed()&&z.getStart().innerHTML==Y&&o(s(z.getStart())),37!=t&&39!=t||o(s(z.getStart())),n()},b.on("SetContent",function(e){e.selection&&n()}),b._hasCaretEvents=!0),"apply"==e?function(){var e,t,n,i,r,o;i=(e=z.getRng(!0)).startOffset,o=e.startContainer.nodeValue,(t=s(z.getStart()))&&(n=l(t));var a=/[^\s\u00a0\u00ad\u200b\ufeff]/;o&&0<i&&i<o.length&&a.test(o.charAt(i))&&a.test(o.charAt(i-1))?(r=z.getBookmark(),e.collapse(!0),e=O(e,w(d)),e=W.split(e),_(d,f,e),z.moveToBookmark(r)):(t&&n.nodeValue===Y||(n=(t=p(!0)).firstChild,e.insertNode(t),i=1),_(d,f,t),z.setCursorLocation(n,i))}():function(){var e,t,n,i,r,o,a,s,l=z.getRng(!0),c=[];for(e=l.startContainer,t=l.startOffset,3==(r=e).nodeType&&(t!=e.nodeValue.length&&(i=!0),r=r.parentNode);r;){if(E(r,d,f,h)){o=r;break}r.nextSibling&&(i=!0),c.push(r),r=r.parentNode}if(o)if(i)n=z.getBookmark(),l.collapse(!0),l=O(l,w(d),!0),l=W.split(l),v(d,f,l),z.moveToBookmark(n);else{for(r=s=p(),a=c.length-1;0<=a;a--)r.appendChild(j.clone(c[a],!1)),r=r.firstChild;r.appendChild(j.doc.createTextNode(Y)),r=r.firstChild;var u=j.getParent(o,C);u&&j.isEmpty(u)?o.parentNode.replaceChild(s,o):j.insertAfter(s,o),z.setCursorLocation(r,1),j.isEmpty(o)&&j.remove(o)}}()}function H(e){var t,n,i,r,o,a,s=e.startContainer,l=e.startOffset;if(!(e.startContainer==e.endContainer&&((a=e.startContainer.childNodes[e.startOffset])&&/^(IMG)$/.test(a.nodeName))||(3==s.nodeType&&l>=s.nodeValue.length&&(l=V(s),s=s.parentNode,t=!0),1!=s.nodeType)))for(s=(r=s.childNodes)[Math.min(l,r.length-1)],n=new te(s,j.getParent(s,j.isBlock)),(l>r.length-1||t)&&n.next(),i=n.current();i;i=n.next())if(3==i.nodeType&&!D(i))return o=j.create("a",{"data-mce-bogus":"all"},Y),i.parentNode.insertBefore(o,i),e.setStart(i,0),z.setRng(e),void j.remove(o)}var s,F,t,$,i={},j=b.dom,z=b.selection,W=new e(j),q=b.schema.isValidChild,U=j.isBlock,f=b.settings.forced_root_block,V=j.nodeIndex,Y="\ufeff",h=/^(src|href|style)$/,K=!1,X=!0,G=j.getContentEditable,Q=r.isBookmarkNode,J=ie.each,Z=ie.grep,ee=ie.walk;(0,ie.extend)(this,{get:w,register:n,unregister:function(e){return e&&i[e]&&delete i[e],i},apply:_,remove:v,toggle:function(e,t,n){var i=w(e);!y(e,t,n)||"toggle"in i[0]&&!i[0].toggle?_(e,t,n):v(e,t,n)},match:y,matchAll:function(i,r){var e,o=[],a={};return e=z.getStart(),j.getParent(e,function(e){var t,n;for(t=0;t<i.length;t++)n=i[t],!a[n]&&E(e,n,r)&&(a[n]=!0,o.push(n))},j.getRoot()),o},matchNode:E,canApply:function(e){var t,n,i,r,o=w(e);if(o)for(t=m(z.getStart()),i=o.length-1;0<=i;i--){if(!(r=o[i].selector)||o[i].defaultBlock)return X;for(n=t.length-1;0<=n;n--)if(j.is(t[n],r))return X}return K},formatChanged:function(e,t,n){var o;return s||(s={},o={},b.on("NodeChange",function(n){var i=m(n.element),r={};i=ie.grep(i,function(e){return 1==e.nodeType&&!e.getAttribute("data-mce-bogus")}),J(s,function(e,n){J(i,function(t){return E(t,n,{},e.similar)?(o[n]||(J(e,function(e){e(!0,{node:t,format:n,parents:i})}),o[n]=e),r[n]=e,!1):!a(t,n)&&void 0})}),J(o,function(e,t){r[t]||(delete o[t],J(e,function(e){e(!1,{node:n.element,format:t,parents:i})}))})})),J(e.split(","),function(e){s[e]||(s[e]=[],s[e].similar=n),s[e].push(t)}),this},getCssText:function(e){return o.getCssText(b,e)}}),n({valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(n,e,t){J(t,function(e,t){j.setAttrib(n,t,e)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),J("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(e){n(e,{block:e,remove:"all"})}),n(b.settings.formats),function(){b.addShortcut("meta+b","bold_desc","Bold"),b.addShortcut("meta+i","italic_desc","Italic"),b.addShortcut("meta+u","underline_desc","Underline");for(var e=1;e<=6;e++)b.addShortcut("access+"+e,"",["FormatBlock",!1,"h"+e]);b.addShortcut("access+7","",["FormatBlock",!1,"p"]),b.addShortcut("access+8","",["FormatBlock",!1,"div"]),b.addShortcut("access+9","",["FormatBlock",!1,"address"])}(),b.on("BeforeGetContent",function(e){$&&"raw"!=e.format&&$()}),b.on("mouseup keydown",function(e){t&&t(e)})}}),e(K,[],function(){return{KEEP:0,DELETE:2,INSERT:1,diff:function(p,g){var e=p.length+g.length+2,m=new Array(e),v=new Array(e),c=function(e,t,n,i,r){var o=u(e,t,n,i);if(null===o||o.start===t&&o.diag===t-i||o.end===e&&o.diag===e-n)for(var a=e,s=n;a<t||s<i;)a<t&&s<i&&p[a]===g[s]?(r.push([0,p[a]]),++a,++s):i-n<t-e?(r.push([2,p[a]]),++a):(r.push([1,g[s]]),++s);else{c(e,o.start,n,o.start-o.diag,r);for(var l=o.start;l<o.end;++l)r.push([0,p[l]]);c(o.end,t,o.end-o.diag,i,r)}},y=function(e,t,n,i){for(var r=e;r-t<i&&r<n&&p[r]===g[r-t];)++r;return{start:e,end:r,diag:t}},u=function(e,t,n,i){var r=t-e,o=i-n;if(0===r||0===o)return null;var a=r-o,s=o+r,l=(s%2==0?s:s+1)/2;m[1+l]=e,v[1+l]=t+1;for(var c=0;c<=l;++c){for(var u=-c;u<=c;u+=2){var d=u+l;u===-c||u!=c&&m[d-1]<m[d+1]?m[d]=m[d+1]:m[d]=m[d-1]+1;for(var f=m[d],h=f-e+n-u;f<t&&h<i&&p[f]===g[h];)m[d]=++f,++h;if(a%2!=0&&a-c<=u&&u<=a+c&&v[d-a]<=m[d])return y(v[d-a],u+e-n,t,i)}for(u=a-c;u<=a+c;u+=2){for(d=u+l-a,u===a-c||u!=a+c&&v[d+1]<=v[d-1]?v[d]=v[d+1]-1:v[d]=v[d-1],h=(f=v[d]-1)-e+n-u;e<=f&&n<=h&&p[f]===g[h];)v[d]=f--,h--;if(a%2==0&&-c<=u&&u<=c&&v[d]<=m[d+a])return y(v[d],u+e-n,t,i)}}},t=[];return c(0,p.length,0,g.length,t),t}}}),e(X,[u,m,K],function(a,t,s){var l=function(e){return 1===e.nodeType?e.outerHTML:3===e.nodeType?t.encodeRaw(e.data,!1):8===e.nodeType?"\x3c!--"+e.data+"--\x3e":""},c=function(e,t,n){var i=function(e){var t,n,i;for(i=document.createElement("div"),t=document.createDocumentFragment(),e&&(i.innerHTML=e);n=i.firstChild;)t.appendChild(n);return t}(t);if(e.hasChildNodes()&&n<e.childNodes.length){var r=e.childNodes[n];r.parentNode.insertBefore(i,r)}else e.appendChild(i)};return{read:function(e){return a.map(e.childNodes,l)},write:function(e,t){var n,i,r,o=a.map(t.childNodes,l);return n=s.diff(o,e),i=t,r=0,a.each(n,function(e){e[0]===s.KEEP?r++:e[0]===s.INSERT?(c(i,e[1],r),r++):e[0]===s.DELETE&&function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var n=e.childNodes[t];n.parentNode.removeChild(n)}}(i,r)}),t}}}),e(G,[u,X],function(r,o){var a=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},s=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},n=function(e){return"fragmented"===e.type?e.fragments.join(""):e.content};return{createFragmentedLevel:a,createCompleteLevel:s,createFromEditor:function(t){var e,n,i;return e=o.read(t.getBody()),n=(i=r.map(e,function(e){return t.serializer.trimContent(e)})).join(""),-1!==n.indexOf("</iframe>")?a(i):s(n)},applyToEditor:function(e,t,n){"fragmented"===t.type?o.write(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw"}),e.selection.moveToBookmark(n?t.beforeBookmark:t.bookmark)},isEq:function(e,t){return n(e)===n(t)}}}),e(Q,[B,d,G],function(e,h,p){return function(s){function l(e){s.setDirty(e)}function i(e){o.typing=!1,o.add({},e)}function n(){o.typing&&(o.typing=!1,o.add())}var c,r,o=this,u=0,d=[],f=0;return s.on("init",function(){o.add()}),s.on("BeforeExecCommand",function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&(n(),o.beforeChange())}),s.on("ExecCommand",function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&i(e)}),s.on("ObjectResizeStart Cut",function(){o.beforeChange()}),s.on("SaveContent ObjectResized blur",i),s.on("DragEnd",i),s.on("KeyUp",function(e){var t=e.keyCode;e.isDefaultPrevented()||((33<=t&&t<=36||37<=t&&t<=40||45===t||e.ctrlKey)&&(i(),s.nodeChanged()),46!==t&&8!==t||s.nodeChanged(),r&&o.typing&&(s.isDirty()||(l(d[0]&&!p.isEq(p.createFromEditor(s),d[0])),s.isDirty()&&s.fire("change",{level:d[0],lastLevel:null})),s.fire("TypingUndo"),r=!1,s.nodeChanged()))}),s.on("KeyDown",function(e){var t=e.keyCode;if(!e.isDefaultPrevented()){if(33<=t&&t<=36||37<=t&&t<=40||45===t)return void(o.typing&&i(e));var n=e.ctrlKey&&!e.altKey||e.metaKey;!(t<16||20<t)||224===t||91===t||o.typing||n||(o.beforeChange(),o.typing=!0,o.add({},e),r=!0)}}),s.on("MouseDown",function(e){o.typing&&i(e)}),s.addShortcut("meta+z","","Undo"),s.addShortcut("meta+y,meta+shift+z","","Redo"),s.on("AddUndo Undo Redo ClearUndos",function(e){e.isDefaultPrevented()||s.nodeChanged()}),o={data:d,typing:!1,beforeChange:function(){f||(c=s.selection.getBookmark(2,!0))},add:function(e,t){var n,i,r,o=s.settings;if(r=p.createFromEditor(s),e=e||{},e=h.extend(e,r),f||s.removed)return null;if(i=d[u],s.fire("BeforeAddUndo",{level:e,lastLevel:i,originalEvent:t}).isDefaultPrevented())return null;if(i&&p.isEq(i,e))return null;if(d[u]&&(d[u].beforeBookmark=c),o.custom_undo_redo_levels&&d.length>o.custom_undo_redo_levels){for(n=0;n<d.length-1;n++)d[n]=d[n+1];d.length--,u=d.length}e.bookmark=s.selection.getBookmark(2,!0),u<d.length-1&&(d.length=u+1),d.push(e),u=d.length-1;var a={level:e,lastLevel:i,originalEvent:t};return s.fire("AddUndo",a),0<u&&(l(!0),s.fire("change",a)),e},undo:function(){var e;return o.typing&&(o.add(),o.typing=!1),0<u&&(e=d[--u],p.applyToEditor(s,e,!0),l(!0),s.fire("undo",{level:e})),e},redo:function(){var e;return u<d.length-1&&(e=d[++u],p.applyToEditor(s,e,!1),l(!0),s.fire("redo",{level:e})),e},clear:function(){d=[],u=0,o.typing=!1,o.data=d,s.fire("ClearUndos")},hasUndo:function(){return 0<u||o.typing&&d[0]&&!p.isEq(p.createFromEditor(s),d[0])},hasRedo:function(){return u<d.length-1&&!o.typing},transact:function(e){n(),o.beforeChange();try{f++,e()}finally{f--}return o.add()},extra:function(e,t){var n,i;o.transact(e)&&(i=d[u].bookmark,n=d[u-1],p.applyToEditor(s,n,!0),o.transact(t)&&(d[u-1].beforeBookmark=i))}}}}),e(J,[p,E,_,r],function(L,P,M,H){var F=H.ie&&H.ie<11;return function(N){var k=N.dom,A=N.selection,D=N.settings,R=N.undoManager,O=N.schema,I=O.getNonEmptyElements(),B=O.getMoveCaretBeforeOnEnterElements();N.on("keydown",function(e){13==e.keyCode&&!1!==function(e){function u(e){return e&&k.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&"true"!==k.getContentEditable(e)}function i(e){var t;k.isBlock(e)&&(t=A.getRng(),e.appendChild(k.create("span",null,"")),A.select(e),e.lastChild.outerHTML="",A.setRng(t))}function r(e){var t,n,i,r,o=e;if(e){if(H.ie&&H.ie<9&&g&&g.firstChild&&g.firstChild==g.lastChild&&"BR"==g.firstChild.tagName&&k.remove(g.firstChild),/^(LI|DT|DD)$/.test(e.nodeName)){var a=function(e){for(;e;){if(1==e.nodeType||3==e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}}(e.firstChild);a&&/^(UL|OL|DL)$/.test(a.nodeName)&&e.insertBefore(k.doc.createTextNode(""),e.firstChild)}if(i=k.createRng(),H.ie||e.normalize(),e.hasChildNodes()){for(t=new L(e,e);n=t.current();){if(3==n.nodeType){i.setStart(n,0),i.setEnd(n,0);break}if(B[n.nodeName.toLowerCase()]){i.setStartBefore(n),i.setEndBefore(n);break}o=n,n=t.next()}n||(i.setStart(o,0),i.setEnd(o,0))}else"BR"==e.nodeName?e.nextSibling&&k.isBlock(e.nextSibling)?((!m||m<9)&&(r=k.create("br"),e.parentNode.insertBefore(r,e)),i.setStartBefore(e),i.setEndBefore(e)):(i.setStartAfter(e),i.setEndAfter(e)):(i.setStart(e,0),i.setEnd(e,0));A.setRng(i),k.remove(r),A.scrollIntoView(e)}}function d(e){var t=D.forced_root_block;t&&t.toLowerCase()===e.tagName.toLowerCase()&&k.setAttribs(e,D.forced_root_block_attrs)}function t(e){e.innerHTML=F?"":'<br data-mce-bogus="1">'}function o(e){var t,n,i,r=c,o=O.getTextInlineElements();if(e||"TABLE"==x?d(t=k.create(e||_)):t=g.cloneNode(!1),i=t,!1!==D.keep_styles)do{if(o[r.nodeName]){if("_mce_caret"==r.id)continue;n=r.cloneNode(!1),k.setAttrib(n,"id",""),t.hasChildNodes()?n.appendChild(t.firstChild):i=n,t.appendChild(n)}}while((r=r.parentNode)&&r!=h);return F||(i.innerHTML='<br data-mce-bogus="1">'),t}function n(e){var t,n,i;if(3==c.nodeType&&(e?0<p:p<c.nodeValue.length))return!1;if(c.parentNode==g&&E&&!e)return!0;if(e&&1==c.nodeType&&c==g.firstChild)return!0;if("TABLE"===c.nodeName||c.previousSibling&&"TABLE"==c.previousSibling.nodeName)return E&&!e||!E&&e;for(t=new L(c,g),3==c.nodeType&&(e&&0===p?t.prev():e||p!=c.nodeValue.length||t.next());n=t.current();){if(1===n.nodeType){if(!n.getAttribute("data-mce-bogus")&&(i=n.nodeName.toLowerCase(),I[i]&&"br"!==i))return!1}else if(3===n.nodeType&&!/^[ \t\r\n]*$/.test(n.nodeValue))return!1;e?t.prev():t.next()}return!0}function a(){N.execCommand("InsertLineBreak",!1,e)}function s(){y=/^(H[1-6]|PRE|FIGURE)$/.test(x)&&"HGROUP"!=w?o(_):o(),D.end_container_on_empty_block&&u(C)&&k.isEmpty(g)?y=k.split(C,g):k.insertAfter(y,g),r(y)}var f,l,h,c,p,g,m,v,y,b,C,x,w,_,E,T,S;if(f=A.getRng(!0),!e.isDefaultPrevented()){if(!f.collapsed)return void N.execCommand("Delete");if(new P(k).normalize(f),c=f.startContainer,p=f.startOffset,_=(_=(D.force_p_newlines?"p":"")||D.forced_root_block)?_.toUpperCase():"",m=k.doc.documentMode,v=e.shiftKey,1==c.nodeType&&c.hasChildNodes()&&(E=p>c.childNodes.length-1,c=c.childNodes[Math.min(p,c.childNodes.length-1)]||c,p=E&&3==c.nodeType?c.nodeValue.length:0),h=function(e){var t,n,i=k.getRoot();for(t=e;t!==i&&"false"!==k.getContentEditable(t);)"true"===k.getContentEditable(t)&&(n=t),t=t.parentNode;return t!==i?n:i}(c)){if(R.beforeChange(),!k.isBlock(h)&&h!=k.getRoot())return void(_&&!v||a());if((_&&!v||!_&&v)&&(c=function(e,t){var n,i,r,o,a,s,l,c=_||"P";if(!(i=k.getParent(e,k.isBlock))||!u(i)){if(s=(i=i||h)==N.getBody()||(l=i)&&/^(TD|TH|CAPTION)$/.test(l.nodeName)?i.nodeName.toLowerCase():i.parentNode.nodeName.toLowerCase(),!i.hasChildNodes())return d(n=k.create(c)),i.appendChild(n),f.setStart(n,0),f.setEnd(n,0),n;for(o=e;o.parentNode!=i;)o=o.parentNode;for(;o&&!k.isBlock(o);)o=(r=o).previousSibling;if(r&&O.isValidChild(s,c.toLowerCase())){for(d(n=k.create(c)),r.parentNode.insertBefore(n,r),o=r;o&&!k.isBlock(o);)a=o.nextSibling,n.appendChild(o),o=a;f.setStart(e,t),f.setEnd(e,t)}}return e}(c,p)),g=k.getParent(c,k.isBlock),C=g?k.getParent(g.parentNode,k.isBlock):null,x=g?g.nodeName.toUpperCase():"","LI"!=(w=C?C.nodeName.toUpperCase():"")||e.ctrlKey||(g=C,x=w),N.undoManager.typing&&(N.undoManager.typing=!1,N.undoManager.add()),/^(LI|DT|DD)$/.test(x)){if(!_&&v)return void a();if(k.isEmpty(g))return void function(){function e(e){for(var t=C[e?"firstChild":"lastChild"];t&&1!=t.nodeType;)t=t[e?"nextSibling":"previousSibling"];return t===g}function t(){var e=C.parentNode;return/^(LI|DT|DD)$/.test(e.nodeName)?e:C}if(C!=N.getBody()){var n=C.parentNode.nodeName;/^(OL|UL|LI)$/.test(n)&&(_="LI"),y=_?o(_):k.create("BR"),e(!0)&&e()?"LI"==n?k.insertAfter(y,t()):k.replace(y,C):e(!0)?"LI"==n?(k.insertAfter(y,t()),y.appendChild(k.doc.createTextNode(" ")),y.appendChild(C)):C.parentNode.insertBefore(y,C):e()?(k.insertAfter(y,t()),i(y)):(C=t(),(l=f.cloneRange()).setStartAfter(g),l.setEndAfter(C),b=l.extractContents(),"LI"==_&&"LI"==b.firstChild.nodeName?(y=b.firstChild,k.insertAfter(b,C)):(k.insertAfter(b,C),k.insertAfter(y,C))),k.remove(g),r(y),R.add()}}()}if("PRE"==x&&!1!==D.br_in_pre){if(!v)return void a()}else if(!_&&!v&&"LI"!=x||_&&v)return void a();_&&g===N.getBody()||(_=_||"P",M.isCaretContainerBlock(g)?(y=M.showCaretContainerBlock(g),k.isEmpty(g)&&t(g),r(y)):n()?s():n(!0)?(i(y=g.parentNode.insertBefore(o(),g)),r(g)):((l=f.cloneRange()).setEndAfter(g),function(e){for(;3===e.nodeType&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;);}(b=l.extractContents()),y=b.firstChild,k.insertAfter(b,g),function(e){var t,n=e,i=[];if(n){for(;n=n.firstChild;){if(k.isBlock(n))return;1!=n.nodeType||I[n.nodeName.toLowerCase()]||i.push(n)}for(t=i.length;t--;)!(n=i[t]).hasChildNodes()||n.firstChild==n.lastChild&&""===n.firstChild.nodeValue?k.remove(n):"A"==n.nodeName&&" "===(n.innerText||n.textContent)&&k.remove(n)}}(y),T=g,F||(T.normalize(),(S=T.lastChild)&&!/^(left|right)$/gi.test(k.getStyle(S,"float",!0))||k.add(T,"br")),k.isEmpty(g)&&t(g),y.normalize(),k.isEmpty(y)?(k.remove(y),s()):r(y)),k.setAttrib(y,"id",""),N.fire("NewBlock",{newBlock:y}),R.typing=!1,R.add())}}}(e)&&e.preventDefault()})}}),e(Z,[],function(){return function(p){var g=p.settings,m=p.dom,v=p.selection,y=p.schema,b=y.getBlockElements();g.forced_root_block&&p.on("NodeChange",function(){var e,t,n,i,r,o,a,s,l,c,u,d,f=v.getStart(),h=p.getBody();if(d=g.forced_root_block,f&&1===f.nodeType&&d){for(;f&&f!=h;){if(b[f.nodeName])return;f=f.parentNode}if((e=v.getRng()).setStart){t=e.startContainer,n=e.startOffset,i=e.endContainer,r=e.endOffset;try{l=p.getDoc().activeElement===h}catch(e){}}else e.item&&(f=e.item(0),(e=p.getDoc().body.createTextRange()).moveToElementText(f)),l=e.parentElement().ownerDocument===p.getDoc(),(c=e.duplicate()).collapse(!0),n=-1*c.move("character",-16777215),c.collapsed||((c=e.duplicate()).collapse(!1),r=-1*c.move("character",-16777215)-n);for(f=h.firstChild,u=h.nodeName.toLowerCase();f;)if((3===f.nodeType||1==f.nodeType&&!b[f.nodeName])&&y.isValidChild(u,d.toLowerCase())){if(3===f.nodeType&&0===f.nodeValue.length){f=(a=f).nextSibling,m.remove(a);continue}o||(o=m.create(d,p.settings.forced_root_block_attrs),f.parentNode.insertBefore(o,f),s=!0),f=(a=f).nextSibling,o.appendChild(a)}else o=null,f=f.nextSibling;if(s&&l){if(e.setStart)e.setStart(t,n),e.setEnd(i,r),v.setRng(e);else try{(e=p.getDoc().body.createTextRange()).moveToElementText(h),e.collapse(!0),e.moveStart("character",n),0<r&&e.moveEnd("character",r),e.select()}catch(e){}p.nodeChanged()}}})}}),e(ee,[P,p,x,$,_,M],function(e,a,c,t,u,n){function s(e){return 0<e}function l(e){return e<0}function d(e,t){for(var n;n=e(t);)if(!y(n))return n;return null}function i(e,t){for(e=e.parentNode;e&&e!=t;e=e.parentNode)if(p(e))return e;return t}function f(e,t){for(;e&&e!=t;){if(m(e))return e;e=e.parentNode}return null}function r(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n}function h(e,t,n){var i,r,o,a;for(r=e?"previousSibling":"nextSibling";n&&n!=t;){if(i=n[r],v(i)&&(i=i[r]),g(i)){if(a=n,f(i,o=t)==f(a,o))return i;break}if(x(i))break;n=n.parentNode}return null}function o(e,t){return g((n=e,(i=t)?(r=i.container(),o=i.offset(),C(r)?r.childNodes[o+n]:null):null));var n,i,r,o}var p=c.isContentEditableTrue,g=c.isContentEditableFalse,m=c.matchStyleValues("display","block table table-cell table-caption"),v=u.isCaretContainer,y=u.isCaretContainerBlock,b=e.curry,C=c.isElement,x=n.isCaretCandidate,w=b(r,!0),_=b(r,!1);return{isForwards:s,isBackwards:l,findNode:function(e,t,n,i,r){var o=new a(e,i);if(l(t)){if((g(e)||y(e))&&n(e=d(o.prev,!0)))return e;for(;e=d(o.prev,r);)if(n(e))return e}if(s(t)){if((g(e)||y(e))&&n(e=d(o.next,!0)))return e;for(;e=d(o.next,r);)if(n(e))return e}return null},getEditingHost:i,getParentBlock:f,isInSameBlock:function(e,t,n){return f(e.container(),n)==f(t.container(),n)},isInSameEditingHost:function(e,t,n){return i(e.container(),n)==i(t.container(),n)},isBeforeContentEditableFalse:b(o,0),isAfterContentEditableFalse:b(o,-1),normalizeRange:function(e,t,n){var i,r,o,a,s=b(h,!0,t),l=b(h,!1,t);if(r=n.startContainer,o=n.startOffset,u.isCaretContainerBlock(r)){if(C(r)||(r=r.parentNode),"before"==(a=r.getAttribute("data-mce-caret"))&&(i=r.nextSibling,g(i)))return w(i);if("after"==a&&(i=r.previousSibling,g(i)))return _(i)}if(!n.collapsed)return n;if(c.isText(r)){if(v(r)){if(1===e){if(i=l(r))return w(i);if(i=s(r))return _(i)}if(-1===e){if(i=s(r))return _(i);if(i=l(r))return w(i)}return n}if(u.endsWithCaretContainer(r)&&o>=r.data.length-1)return 1===e&&(i=l(r))?w(i):n;if(u.startsWithCaretContainer(r)&&o<=1)return-1===e&&(i=s(r))?_(i):n;if(o===r.data.length)return(i=l(r))?w(i):n;if(0===o)return(i=s(r))?_(i):n}return n}}}),e(te,[x,M,$,ee,u,P],function(h,e,p,g,m,v){function y(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null}function b(e,t){if(E(e)){if(S(t.previousSibling)&&!w(t.previousSibling))return p.before(t);if(w(t))return p(t,0)}if(T(e)){if(S(t.nextSibling)&&!w(t.nextSibling))return p.after(t);if(w(t))return p(t,t.data.length)}return T(e)?n(t)?p.before(t):p.after(t):p.before(t)}function C(e,t,n){var i,r,o,a,s,l,c,u,d,f;if(!_(n)||!t)return null;if(i=(c=t).container(),r=c.offset(),w(i)){if(T(e)&&0<r)return p(i,--r);if(E(e)&&r<i.length)return p(i,++r);o=i}else{if(T(e)&&0<r&&(a=y(i,r-1),S(a)))return!N(a)&&(s=g.findNode(a,e,k,a))?w(s)?p(s,s.data.length):p.after(s):w(a)?p(a,a.data.length):p.before(a);if(E(e)&&r<i.childNodes.length&&(a=y(i,r),S(a)))return u=a,d=n,h.isBr(u)&&(f=C(1,p.after(u),d))&&!g.isInSameBlock(p.before(u),p.before(f),d)?C(e,p.after(a),n):!N(a)&&(s=g.findNode(a,e,k,a))?w(s)?p(s,0):p.before(s):w(a)?p(a,0):p.after(a);o=c.getNode()}return(E(e)&&c.isAtEnd()||T(e)&&c.isAtStart())&&(o=g.findNode(o,e,v.constant(!0),n,!0),k(o))?b(e,o):(a=g.findNode(o,e,k,n),!(l=m.last(m.filter(function(e,t){for(var n=[];e&&e!=t;)n.push(e),e=e.parentNode;return n}(i,n),x)))||a&&l.contains(a)?a?b(e,a):null:c=E(e)?p.after(l):p.before(l))}var x=h.isContentEditableFalse,w=h.isText,_=h.isElement,n=h.isBr,E=g.isForwards,T=g.isBackwards,S=e.isCaretCandidate,N=e.isAtomic,k=e.isEditableCaretCandidate;return function(t){return{next:function(e){return C(1,e,t)},prev:function(e){return C(-1,e,t)}}}}),e(ne,[d,te,$],function(k,A,D){var R=function(e){return k.grep(e.childNodes,function(e){return"LI"===e.nodeName})},O=function(e){return 0<e.length&&!e[e.length-1].firstChild?e.slice(0,-1):e},I=function(e,t){var n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},B=function(e,t){var n=D.after(e),i=new A(t).prev(n);return i?i.toRange():null},L=function(t,e,n){var i,r,o,a,s=t.parentNode;return k.each(e,function(e){s.insertBefore(e,t)}),i=t,r=n,o=D.before(i),(a=new A(r).next(o))?a.toRange():null};return{isListFragment:function(e){var t=e.firstChild,n=e.lastChild;return t&&"meta"===t.name&&(t=t.next),n&&"mce_marker"===n.attr("id")&&(n=n.prev),!(!t||t!==n||"ul"!==t.name&&"ol"!==t.name)},insertAtCaret:function(e,r,o,t){var n,i,a,s,l,c,u,d,f,h,p,g,m,v,y,b,C,x,w,_=(n=r,i=t,c=e.serialize(i),u=n.createFragment(c),s=(a=u).firstChild,l=a.lastChild,s&&"META"===s.nodeName&&s.parentNode.removeChild(s),l&&"mce_marker"===l.id&&l.parentNode.removeChild(l),a),E=I(r,o.startContainer),T=O(R(_.firstChild)),S=r.getRoot(),N=function(e){var t=D.fromRangeStart(o),n=new A(r.getRoot()),i=1===e?n.prev(t):n.next(t);return!i||I(r,i.getNode())!==E};return N(1)?L(E,T,S):N(2)?(C=E,x=T,w=S,r.insertAfter(x.reverse(),C),B(x[0],w)):(f=T,h=S,p=d=E,m=(g=o).cloneRange(),v=g.cloneRange(),m.setStartBefore(p),v.setEndAfter(p),y=[m.cloneContents(),v.cloneContents()],(b=d.parentNode).insertBefore(y[0],d),k.each(f,function(e){b.insertBefore(e,d)}),b.insertBefore(y[1],d),b.removeChild(d),B(f[f.length-1],h))},isParentBlockLi:function(e,t){return!!I(e,t)},trimListItems:O,listItems:R}}),e(ie,[r,d,R,te,$,q,x,ne],function(S,N,k,A,D,R,e,O){var I=e.matchNodeNames("td th");return{insertAtCaret:function(e,t){var n,i,r="string"!=typeof(n=t)?(i=N.extend({paste:n.paste,data:{paste:n.paste}},n),{content:n.content,details:i}):{content:n,details:{}};!function(r,e,t){var n,i,o,a,s,l,c,u,d,f,h,p,g=r.schema.getTextInlineElements(),m=r.selection,v=r.dom;/^ | $/.test(e)&&(e=function(e){function t(e){return i[e]&&3==i[e].nodeType}var n,i,r;return n=m.getRng(!0),i=n.startContainer,r=n.startOffset,3==i.nodeType&&(0<r?e=e.replace(/^&nbsp;/," "):t("previousSibling")||(e=e.replace(/^ /,"&nbsp;")),r<i.length?e=e.replace(/&nbsp;(<br>|)$/," "):t("nextSibling")||(e=e.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),e}(e)),n=r.parser,p=t.merge,i=new k({validate:r.settings.validate},r.schema),h='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',l={content:e,format:"html",selection:!0},r.fire("BeforeSetContent",l),-1==(e=l.content).indexOf("{$caret}")&&(e+="{$caret}"),e=e.replace(/\{\$caret\}/,h);var y,b,C,x,w=(u=m.getRng()).startContainer||(u.parentElement?u.parentElement():null),_=r.getBody();w===_&&m.isCollapsed()&&v.isBlock(_.firstChild)&&(x=_.firstChild)&&!r.schema.getShortEndedElements()[x.nodeName]&&v.isEmpty(_.firstChild)&&((u=v.createRng()).setStart(_.firstChild,0),u.setEnd(_.firstChild,0),m.setRng(u)),m.isCollapsed()||(r.selection.setRng(r.selection.getRng()),r.getDoc().execCommand("Delete",!1,null),b=(y=m.getRng(!0)).startContainer,C=y.startOffset,3==b.nodeType&&y.collapsed&&(""===b.data[C]?(b.deleteData(C,1),/[\u00a0| ]$/.test(e)||(e+=" ")):""===b.data[C-1]&&(b.deleteData(C-1,1),/[\u00a0| ]$/.test(e)||(e=" "+e))));var E,T={context:(o=m.getNode()).nodeName.toLowerCase(),data:t.data};if(s=n.parse(e,T),!0===t.paste&&O.isListFragment(s)&&O.isParentBlockLi(v,o))return u=O.insertAtCaret(i,v,r.selection.getRng(!0),s),r.selection.setRng(u),r.fire("SetContent",l);if(function(e){for(var t=e;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")}(s),"mce_marker"==(d=s.lastChild).attr("id"))for(d=(c=d).prev;d;d=d.walk(!0))if(3==d.type||!v.isBlock(d.name)){r.schema.isValidChild(d.parent.name,"span")&&d.parent.insert(c,d,"br"===d.name);break}if(r._selectionOverrides.showBlockCaretContainer(o),T.invalid){for(m.setContent(h),o=m.getNode(),a=r.getBody(),9==o.nodeType?o=d=a:d=o;d!==a;)d=(o=d).parentNode;e=o==a?a.innerHTML:v.getOuterHTML(o),e=i.serialize(n.parse(e.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return i.serialize(s)}))),o==a?v.setHTML(a,e):v.setOuterHTML(o,e)}else e=i.serialize(s),function(e,t,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(e.dom.createFragment(t),n);else{var i=n.firstChild,r=n.lastChild;!i||i===r&&"BR"===i.nodeName?e.dom.setHTML(n,t):e.selection.setContent(t)}}(r,e,o);(function(){if(p){var n=r.getBody(),i=new R(v);N.each(v.select("*[data-mce-fragment]"),function(e){for(var t=e.parentNode;t&&t!=n;t=t.parentNode)g[e.nodeName.toLowerCase()]&&i.compare(t,e)&&v.remove(e,!0)})}})(),function(e){var t,n,i;if(e){if(m.scrollIntoView(e),t=function(e){for(var t=r.getBody();e&&e!==t;e=e.parentNode)if("false"===r.dom.getContentEditable(e))return e;return null}(e))return v.remove(e),m.select(t);u=v.createRng(),(d=e.previousSibling)&&3==d.nodeType?(u.setStart(d,d.nodeValue.length),S.ie||(f=e.nextSibling)&&3==f.nodeType&&(d.appendData(f.data),f.parentNode.removeChild(f))):(u.setStartBefore(e),u.setEndBefore(e)),n=v.getParent(e,v.isBlock),v.remove(e),n&&v.isEmpty(n)&&(r.$(n).empty(),u.setStart(n,0),u.setEnd(n,0),I(n)||n.getAttribute("data-mce-fragment")||!(i=function(e){var t=D.fromRangeStart(e);if(t=new A(r.getBody()).next(t))return t.toRange()}(u))?v.add(n,v.create("br",{"data-mce-bogus":"1"})):(u=i,v.remove(n))),m.setRng(u)}}(v.get("mce_marker")),E=r.getBody(),N.each(E.getElementsByTagName("*"),function(e){e.removeAttribute("data-mce-fragment")}),r.fire("SetContent",l),r.addVisual()}(e,r.content,r.details)}}}),e(re,[r,d,E,p,ie,x],function(d,e,C,x,f,h){var p=e.each,g=e.extend,m=e.map,w=e.inArray,_=e.explode,E=d.ie&&d.ie<11,T=!1;return function(v){function t(e){var t;if(!v.quirks.isHidden()){if(e=e.toLowerCase(),t=c.state[e])return t(e);try{return v.getDoc().queryCommandState(e)}catch(e){}return!1}}function e(e,n){n=n||"exec",p(e,function(t,e){p(e.toLowerCase().split(","),function(e){c[n][e]=t})})}function a(e,t,n){return t===be&&(t=T),n===be&&(n=null),v.getDoc().execCommand(e,t,n)}function n(e){return l.match(e)}function o(e,t){l.toggle(e,t?{value:t}:be),v.nodeChanged()}function r(e){i=b.getBookmark(e)}function s(){b.moveToBookmark(i)}var y,b,l,i,c={state:{},exec:{},value:{}},u=v.settings;v.on("PreInit",function(){y=v.dom,b=v.selection,u=v.settings,l=v.formatter}),g(this,{execCommand:function(t,n,i,e){var r,o,a=0;if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)||e&&e.skip_focus||v.focus(),(e=v.fire("BeforeExecCommand",{command:t,ui:n,value:i})).isDefaultPrevented())return!1;if(o=t.toLowerCase(),r=c.exec[o])return r(o,n,i),v.fire("ExecCommand",{command:t,ui:n,value:i}),!0;if(p(v.plugins,function(e){if(e.execCommand&&e.execCommand(t,n,i))return v.fire("ExecCommand",{command:t,ui:n,value:i}),!(a=!0)}),a)return a;if(v.theme&&v.theme.execCommand&&v.theme.execCommand(t,n,i))return v.fire("ExecCommand",{command:t,ui:n,value:i}),!0;try{a=v.getDoc().execCommand(t,n,i)}catch(e){}return!!a&&(v.fire("ExecCommand",{command:t,ui:n,value:i}),!0)},queryCommandState:t,queryCommandValue:function(e){var t;if(!v.quirks.isHidden()){if(e=e.toLowerCase(),t=c.value[e])return t(e);try{return v.getDoc().queryCommandValue(e)}catch(e){}}},queryCommandSupported:function(e){if(e=e.toLowerCase(),c.exec[e])return!0;try{return v.getDoc().queryCommandSupported(e)}catch(e){}return!1},addCommands:e,addCommand:function(e,r,o){e=e.toLowerCase(),c.exec[e]=function(e,t,n,i){return r.call(o||v,t,n,i)}},addQueryStateHandler:function(e,t,n){e=e.toLowerCase(),c.state[e]=function(){return t.call(n||v)}},addQueryValueHandler:function(e,t,n){e=e.toLowerCase(),c.value[e]=function(){return t.call(n||v)}},hasCustomCommand:function(e){return e=e.toLowerCase(),!!c.exec[e]}}),e({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){v.undoManager.add()},"Cut,Copy,Paste":function(e){var t,n=v.getDoc();try{a(e)}catch(e){t=!0}if("paste"!==e||n.queryCommandEnabled(e)||(t=!0),t||!n.queryCommandSupported(e)){var i=v.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");d.mac&&(i=i.replace(/Ctrl\+/g,"+")),v.notificationManager.open({text:i,type:"error"})}},unlink:function(){if(b.isCollapsed()){var e=v.dom.getParent(v.selection.getStart(),"a");e&&v.dom.remove(e,!0)}else l.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(e){var t=e.substring(7);"full"==t&&(t="justify"),p("left,center,right,justify".split(","),function(e){t!=e&&l.remove("align"+e)}),"none"!=t&&o("align"+t)},"InsertUnorderedList,InsertOrderedList":function(e){var t,n;a(e),(t=y.getParent(b.getNode(),"ol,ul"))&&(n=t.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName)&&(r(),y.split(n,t),s()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){o(e)},"ForeColor,HiliteColor,FontName":function(e,t,n){o(e,n)},FontSize:function(e,t,n){var i,r;1<=n&&n<=7&&(r=_(u.font_size_style_values),n=(i=_(u.font_size_classes))?i[n-1]||n:r[n-1]||n),o(e,n)},RemoveFormat:function(e){l.remove(e)},mceBlockQuote:function(){o("blockquote")},FormatBlock:function(e,t,n){return o(n||"p")},mceCleanup:function(){var e=b.getBookmark();v.setContent(v.getContent({cleanup:!0}),{cleanup:!0}),b.moveToBookmark(e)},mceRemoveNode:function(e,t,n){var i=n||b.getNode();i!=v.getBody()&&(r(),v.dom.remove(i,!0),s())},mceSelectNodeDepth:function(e,t,n){var i=0;y.getParent(b.getNode(),function(e){if(1==e.nodeType&&i++==n)return b.select(e),T},v.getBody())},mceSelectNode:function(e,t,n){b.select(n)},mceInsertContent:function(e,t,n){f.insertAtCaret(v,n)},mceInsertRawHTML:function(e,t,n){b.setContent("tiny_mce_marker"),v.setContent(v.getContent().replace(/tiny_mce_marker/g,function(){return n}))},mceToggleFormat:function(e,t,n){o(n)},mceSetContent:function(e,t,n){v.setContent(n)},"Indent,Outdent":function(n){var i,r,o;i=u.indentation,r=/[a-z%]+$/i.exec(i),i=parseInt(i,10),t("InsertUnorderedList")||t("InsertOrderedList")?a(n):(u.forced_root_block||y.getParent(b.getNode(),y.isBlock)||l.apply("div"),p(b.getSelectedBlocks(),function(e){if("false"!==y.getContentEditable(e)&&"LI"!==e.nodeName){var t=v.getParam("indent_use_margin",!1)?"margin":"padding";t="TABLE"===e.nodeName?"margin":t,t+="rtl"==y.getStyle(e,"direction",!0)?"Right":"Left","outdent"==n?(o=Math.max(0,parseInt(e.style[t]||0,10)-i),y.setStyle(e,t,o?o+r:"")):(o=parseInt(e.style[t]||0,10)+i+r,y.setStyle(e,t,o))}}))},mceRepaint:function(){},InsertHorizontalRule:function(){v.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){v.hasVisual=!v.hasVisual,v.addVisual()},mceReplaceContent:function(e,t,n){v.execCommand("mceInsertContent",!1,n.replace(/\{\$selection\}/g,b.getContent({format:"text"})))},mceInsertLink:function(e,t,n){var i;"string"==typeof n&&(n={href:n}),i=y.getParent(b.getNode(),"a"),n.href=n.href.replace(" ","%20"),i&&n.href||l.remove("link"),n.href&&l.apply("link",n,i)},selectAll:function(){var e,t=y.getRoot();if(b.getRng().setStart){var n=y.getParent(b.getStart(),h.isContentEditableTrue);n&&((e=y.createRng()).selectNodeContents(n),b.setRng(e))}else(e=b.getRng()).item||(e.moveToElementText(t),e.select())},delete:function(){a("Delete");var e=v.getBody();y.isEmpty(e)&&(v.setContent(""),e.firstChild&&y.isBlock(e.firstChild)?v.selection.setCursorLocation(e.firstChild,0):v.selection.setCursorLocation(e,0))},mceNewDocument:function(){v.setContent("")},InsertLineBreak:function(e,t,n){var i,r,o,a=n,s=b.getRng(!0);new C(y).normalize(s);var l=s.startOffset,c=s.startContainer;if(1==c.nodeType&&c.hasChildNodes()){var u=l>c.childNodes.length-1;c=c.childNodes[Math.min(l,c.childNodes.length-1)]||c,l=u&&3==c.nodeType?c.nodeValue.length:0}var d=y.getParent(c,y.isBlock),f=d?d.nodeName.toUpperCase():"",h=d?y.getParent(d.parentNode,y.isBlock):null,p=h?h.nodeName.toUpperCase():"",g=a&&a.ctrlKey;"LI"!=p||g||(d=h,f=p),c&&3==c.nodeType&&l>=c.nodeValue.length&&(E||function(){for(var e,t=new x(c,d),n=v.schema.getNonEmptyElements();e=t.next();)if(n[e.nodeName.toLowerCase()]||0<e.length)return!0}()||(i=y.create("br"),s.insertNode(i),s.setStartAfter(i),s.setEndAfter(i),r=!0)),i=y.create("br"),s.insertNode(i);var m=y.doc.documentMode;return E&&"PRE"==f&&(!m||m<8)&&i.parentNode.insertBefore(y.doc.createTextNode("\r"),i),o=y.create("span",{},"&nbsp;"),i.parentNode.insertBefore(o,i),b.scrollIntoView(o),y.remove(o),r?(s.setStartBefore(i),s.setEndBefore(i)):(s.setStartAfter(i),s.setEndAfter(i)),b.setRng(s),v.undoManager.add(),!0}}),e({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(e){var t="align"+e.substring(7),n=b.isCollapsed()?[y.getParent(b.getNode(),y.isBlock)]:b.getSelectedBlocks(),i=m(n,function(e){return!!l.matchNode(e,t)});return-1!==w(i,!0)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return n(e)},mceBlockQuote:function(){return n("blockquote")},Outdent:function(){var e;if(u.inline_styles){if((e=y.getParent(b.getStart(),y.isBlock))&&0<parseInt(e.style.paddingLeft,10))return!0;if((e=y.getParent(b.getEnd(),y.isBlock))&&0<parseInt(e.style.paddingLeft,10))return!0}return t("InsertUnorderedList")||t("InsertOrderedList")||!u.inline_styles&&!!y.getParent(b.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(e){var t=y.getParent(b.getNode(),"ul,ol");return t&&("insertunorderedlist"===e&&"UL"===t.tagName||"insertorderedlist"===e&&"OL"===t.tagName)}},"state"),e({"FontSize,FontName":function(e){var t,n=0;return(t=y.getParent(b.getNode(),"span"))&&(n="fontsize"==e?t.style.fontSize:t.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),n}},"value"),e({Undo:function(){v.undoManager.undo()},Redo:function(){v.undoManager.redo()}})}}),e(oe,[d],function(e){function a(i,e){var t,n,r=this;if(i=l(i),t=(e=r.settings=e||{}).base_uri,/^([\w\-]+):([^\/]{2})/i.test(i)||/^\s*#/.test(i))r.source=i;else{var o=0===i.indexOf("//");0!==i.indexOf("/")||o||(i=(t&&t.protocol||"http")+"://mce_host"+i),/^[\w\-]*:?\/\//.test(i)||(n=e.base_uri?e.base_uri.path:new a(location.href).directory,""===e.base_uri.protocol?i="//mce_host"+r.toAbsPath(n,i):(i=/([^#?]*)([#?]?.*)/.exec(i),i=(t&&t.protocol||"http")+"://mce_host"+r.toAbsPath(n,i[1])+i[2])),i=i.replace(/@@/g,"(mce_at)"),i=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(i),s(c,function(e,t){var n=i[t];n&&(n=n.replace(/\(mce_at\)/g,"@@")),r[e]=n}),t&&(r.protocol||(r.protocol=t.protocol),r.userInfo||(r.userInfo=t.userInfo),r.port||"mce_host"!==r.host||(r.port=t.port),r.host&&"mce_host"!==r.host||(r.host=t.host),r.source=""),o&&(r.protocol="")}}var s=e.each,l=e.trim,c="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),n={ftp:21,http:80,https:443,mailto:25};return a.prototype={setPath:function(e){e=/^(.*?)\/?(\w+)?$/.exec(e),this.path=e[0],this.directory=e[1],this.file=e[2],this.source="",this.getURI()},toRelative:function(e){var t;if("./"===e)return e;if("mce_host"!=(e=new a(e,{base_uri:this})).host&&this.host!=e.host&&e.host||this.port!=e.port||this.protocol!=e.protocol&&""!==e.protocol)return e.getURI();var n=this.getURI(),i=e.getURI();return n==i||"/"==n.charAt(n.length-1)&&n.substr(0,n.length-1)==i?n:(t=this.toRelPath(this.path,e.path),e.query&&(t+="?"+e.query),e.anchor&&(t+="#"+e.anchor),t)},toAbsolute:function(e,t){return(e=new a(e,{base_uri:this})).getURI(t&&this.isSameOrigin(e))},isSameOrigin:function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=n[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},toRelPath:function(e,t){var n,i,r,o=0,a="";if(e=(e=e.substring(0,e.lastIndexOf("/"))).split("/"),n=t.split("/"),e.length>=n.length)for(i=0,r=e.length;i<r;i++)if(i>=n.length||e[i]!=n[i]){o=i+1;break}if(e.length<n.length)for(i=0,r=n.length;i<r;i++)if(i>=e.length||e[i]!=n[i]){o=i+1;break}if(1===o)return t;for(i=0,r=e.length-(o-1);i<r;i++)a+="../";for(i=o-1,r=n.length;i<r;i++)a+=i!=o-1?"/"+n[i]:n[i];return a},toAbsPath:function(e,t){var n,i,r,o=0,a=[];for(i=/\/$/.test(t)?"/":"",e=e.split("/"),t=t.split("/"),s(e,function(e){e&&a.push(e)}),e=a,n=t.length-1,a=[];0<=n;n--)0!==t[n].length&&"."!==t[n]&&(".."!==t[n]?0<o?o--:a.push(t[n]):o++);return 0!==(r=(n=e.length-o)<=0?a.reverse().join("/"):e.slice(0,n).join("/")+"/"+a.reverse().join("/")).indexOf("/")&&(r="/"+r),i&&r.lastIndexOf("/")!==r.length-1&&(r+=i),r},getURI:function(e){var t,n=this;return n.source&&!e||(t="",e||(t+=n.protocol?n.protocol+"://":"//",n.userInfo&&(t+=n.userInfo+"@"),n.host&&(t+=n.host),n.port&&(t+=":"+n.port)),n.path&&(t+=n.path),n.query&&(t+="?"+n.query),n.anchor&&(t+="#"+n.anchor),n.source=t),n.source}},a.parseDataUri=function(e){var t,n;return e=decodeURIComponent(e).split(","),(n=/data:([^;]+)/.exec(e[0]))&&(t=n[1]),{type:t,data:e[1]}},a.getDocumentBaseUrl=function(e){var t;return t=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),t},a}),e(ae,[d],function(e){function t(){}var l,c,u=e.each,d=e.extend;return t.extend=l=function(n){function i(){var e,t,n;if(!c&&(this.init&&this.init.apply(this,arguments),t=this.Mixins))for(e=t.length;e--;)(n=t[e]).init&&n.init.apply(this,arguments)}function t(){return this}function e(n,i){return function(){var e,t=this._super;return this._super=s[n],e=i.apply(this,arguments),this._super=t,e}}var r,o,a,s=this.prototype;for(o in c=!0,r=new this,c=!1,n.Mixins&&(u(n.Mixins,function(e){for(var t in e)"init"!==t&&(n[t]=e[t])}),s.Mixins&&(n.Mixins=s.Mixins.concat(n.Mixins))),n.Methods&&u(n.Methods.split(","),function(e){n[e]=t}),n.Properties&&u(n.Properties.split(","),function(e){var t="_"+e;n[e]=function(e){return void 0!==e?(this[t]=e,this):this[t]}}),n.Statics&&u(n.Statics,function(e,t){i[t]=e}),n.Defaults&&s.Defaults&&(n.Defaults=d({},s.Defaults,n.Defaults)),n)"function"==typeof(a=n[o])&&s[o]?r[o]=e(o,a):r[o]=a;return i.prototype=r,(i.constructor=i).extend=l,i},t}),e(se,[d],function(p){function e(a){function s(){return!1}function l(){return!0}function i(e,t,n,i){var r,o,a;if(!1===t&&(t=s),t)for(t={func:t},i&&p.extend(t,i),a=(o=e.toLowerCase().split(" ")).length;a--;)e=o[a],(r=h[e])||(r=h[e]=[],d(e,!0)),n?r.unshift(t):r.push(t);return f}function c(e,t){var n,i,r,o,a;if(e)for(n=(o=e.toLowerCase().split(" ")).length;n--;){if(e=o[n],i=h[e],!e){for(r in h)d(r,!1),delete h[r];return f}if(i){if(t)for(a=i.length;a--;)i[a].func===t&&(i=i.slice(0,a).concat(i.slice(a+1)),h[e]=i);else i.length=0;i.length||(d(e,!1),delete h[e])}}else{for(e in h)d(e,!1);h={}}return f}var u,d,f=this,h={};u=(a=a||{}).scope||f,d=a.toggleEvent||s,f.fire=function(e,t){var n,i,r,o;if(e=e.toLowerCase(),(t=t||{}).type=e,t.target||(t.target=u),t.preventDefault||(t.preventDefault=function(){t.isDefaultPrevented=l},t.stopPropagation=function(){t.isPropagationStopped=l},t.stopImmediatePropagation=function(){t.isImmediatePropagationStopped=l},t.isDefaultPrevented=s,t.isPropagationStopped=s,t.isImmediatePropagationStopped=s),a.beforeFire&&a.beforeFire(t),n=h[e])for(i=0,r=n.length;i<r;i++){if((o=n[i]).once&&c(e,o.func),t.isImmediatePropagationStopped())return t.stopPropagation(),t;if(!1===o.func.call(u,t))return t.preventDefault(),t}return t},f.on=i,f.off=c,f.once=function(e,t,n){return i(e,t,n,{once:!0})},f.has=function(e){return e=e.toLowerCase(),!(!h[e]||0===h[e].length)}}var t=p.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," ");return e.isNative=function(e){return!!t[e.toLowerCase()]},e}),e(le,[],function(){function e(e){this.create=e.create}return e.create=function(r,o){return new e({create:function(t,n){function e(e){t.set(n,e.value)}var i;return t.on("change:"+n,function(e){r.set(o,e.value)}),r.on("change:"+o,e),(i=t._bindings)||(i=t._bindings=[],t.on("destroy",function(){for(var e=i.length;e--;)i[e]()})),i.push(function(){r.off("change:"+o,e)}),r.get(o)}})},e}),e(ce,[se],function(i){function r(n){return n._eventDispatcher||(n._eventDispatcher=new i({scope:n,toggleEvent:function(e,t){i.isNative(e)&&n.toggleNativeEvent&&n.toggleNativeEvent(e,t)}})),n._eventDispatcher}return{fire:function(e,t,n){if(this.removed&&"remove"!==e)return t;if(t=r(this).fire(e,t,n),!1!==n&&this.parent)for(var i=this.parent();i&&!t.isPropagationStopped();)i.fire(e,t,!1),i=i.parent();return t},on:function(e,t,n){return r(this).on(e,t,n)},off:function(e,t){return r(this).off(e,t)},once:function(e,t){return r(this).once(e,t)},hasEventListeners:function(e){return r(this).has(e)}}}),e(ue,[le,ce,ae,d],function(o,e,t,a){function s(e){return 0<e.nodeType}return t.extend({Mixins:[e],init:function(e){var t,n;for(t in e=e||{})(n=e[t])instanceof o&&(e[t]=n.create(this,t));this.data=e},set:function(e,t){var n,i,r=this.data[e];if(t instanceof o&&(t=t.create(this,e)),"object"==typeof e){for(n in e)this.set(n,e[n]);return this}return function e(t,n){var i,r;if(t===n)return!0;if(null===t||null===n)return t===n;if("object"!=typeof t||"object"!=typeof n)return t===n;if(a.isArray(n)){if(t.length!==n.length)return!1;for(i=t.length;i--;)if(!e(t[i],n[i]))return!1}if(s(t)||s(n))return t===n;for(i in r={},n){if(!e(t[i],n[i]))return!1;r[i]=!0}for(i in t)if(!r[i]&&!e(t[i],n[i]))return!1;return!0}(r,t)||(this.data[e]=t,i={target:this,name:e,value:t,oldValue:r},this.fire("change:"+e,i),this.fire("change",i)),this},get:function(e){return this.data[e]},has:function(e){return e in this.data},bind:function(e){return o.create(this,e)},destroy:function(){this.fire("destroy")}})}),e(de,[ae],function(e){var r,l=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,c=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,u=/^\s*|\s*$/g,o=e.extend({init:function(e){function a(e,t,n){function i(e){e&&t.push(e)}var r;return i(function(t){if(t)return t=t.toLowerCase(),function(e){return"*"===t||e.type===t}}((r=l.exec(e.replace(u,"")))[1])),i(function(t){if(t)return function(e){return e._name===t}}(r[2])),i(function(n){if(n)return n=n.split("."),function(e){for(var t=n.length;t--;)if(!e.classes.contains(n[t]))return!1;return!0}}(r[3])),i(function(n,i,r){if(n)return function(e){var t=e[n]?e[n]():"";return i?"="===i?t===r:"*="===i?0<=t.indexOf(r):"~="===i?0<=(" "+t+" ").indexOf(" "+r+" "):"!="===i?t!=r:"^="===i?0===t.indexOf(r):"$="===i&&t.substr(t.length-r.length)===r:!!r}}(r[4],r[5],r[6])),i(function(i){var t;if(i)return(i=/(?:not\((.+)\))|(.+)/i.exec(i))[1]?(t=s(i[1],[]),function(e){return!o(e,t)}):(i=i[2],function(e,t,n){return"first"===i?0===t:"last"===i?t===n-1:"even"===i?t%2==0:"odd"===i?t%2==1:!!e[i]&&e[i]()})}(r[7])),t.pseudo=!!r[7],t.direct=n,t}function s(e,t){var n,i,r,o=[];do{if(c.exec(""),(i=c.exec(e))&&(e=i[3],o.push(i[1]),i[2])){n=i[3];break}}while(i);for(n&&s(n,t),e=[],r=0;r<o.length;r++)">"!=o[r]&&e.push(a(o[r],[],">"===o[r-1]));return t.push(e),t}var o=this.match;this._selectors=s(e,[])},match:function(e,t){var n,i,r,o,a,s,l,c,u,d,f,h,p;for(n=0,i=(t=t||this._selectors).length;n<i;n++){for(p=e,h=0,r=(o=(a=t[n]).length)-1;0<=r;r--)for(c=a[r];p;){if(c.pseudo)for(u=d=(f=p.parent().items()).length;u--&&f[u]!==p;);for(s=0,l=c.length;s<l;s++)if(!c[s](p,u,d)){s=l+1;break}if(s===l){h++;break}if(r===o-1)break;p=p.parent()}if(h===o)return!0}return!1},find:function(e){function c(e,t,n){var i,r,o,a,s,l=t[n];for(i=0,r=e.length;i<r;i++){for(s=e[i],o=0,a=l.length;o<a;o++)if(!l[o](s,i,r)){o=a+1;break}if(o===a)n==t.length-1?u.push(s):s.items&&c(s.items(),t,n+1);else if(l.direct)return;s.items&&c(s.items(),t,n)}}var t,n,u=[],i=this._selectors;if(e.items){for(t=0,n=i.length;t<n;t++)c(e.items(),i[t],0);1<n&&(u=function(e){for(var t,n=[],i=e.length;i--;)(t=e[i]).__checked||(n.push(t),t.__checked=1);for(i=n.length;i--;)delete n[i].__checked;return n}(u))}return r||(r=o.Collection),new r(u)}});return o}),e(fe,[d,de,ae],function(i,a,e){var s,r,t=Array.prototype.push,n=Array.prototype.slice;return r={length:0,init:function(e){e&&this.add(e)},add:function(e){return i.isArray(e)?t.apply(this,e):e instanceof s?this.add(e.toArray()):t.call(this,e),this},set:function(e){var t,n=this.length;for(this.length=0,this.add(e),t=this.length;t<n;t++)delete this[t];return this},filter:function(t){var e,n,i,r,o=[];for("string"==typeof t?(t=new a(t),r=function(e){return t.match(e)}):r=t,e=0,n=this.length;e<n;e++)r(i=this[e])&&o.push(i);return new s(o)},slice:function(){return new s(n.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},each:function(e){return i.each(this,e),this},toArray:function(){return i.toArray(this)},indexOf:function(e){for(var t=this.length;t--&&this[t]!==e;);return t},reverse:function(){return new s(i.toArray(this).reverse())},hasClass:function(e){return!!this[0]&&this[0].classes.contains(e)},prop:function(t,n){var e;return void 0!==n?(this.each(function(e){e[t]&&e[t](n)}),this):(e=this[0])&&e[t]?e[t]():void 0},exec:function(t){var n=i.toArray(arguments).slice(1);return this.each(function(e){e[t]&&e[t].apply(e,n)}),this},remove:function(){for(var e=this.length;e--;)this[e].remove();return this},addClass:function(t){return this.each(function(e){e.classes.add(t)})},removeClass:function(t){return this.each(function(e){e.classes.remove(t)})}},i.each("fire on off show hide append prepend before after reflow".split(" "),function(n){r[n]=function(){var t=i.toArray(arguments);return this.each(function(e){n in e&&e[n].apply(e,t)}),this}}),i.each("text name disabled active selected checked visible parent value data".split(" "),function(t){r[t]=function(e){return this.prop(t,e)}}),s=e.extend(r),a.Collection=s}),e(he,[r,d,y],function(e,r,o){var t=0,n={id:function(){return"mceu_"+t++},create:function(e,t,n){var i=document.createElement(e);return o.DOM.setAttribs(i,t),"string"==typeof n?i.innerHTML=n:r.each(n,function(e){e.nodeType&&i.appendChild(e)}),i},createFragment:function(e){return o.DOM.createFragment(e)},getWindowSize:function(){return o.DOM.getViewPort()},getSize:function(e){var t,n;if(e.getBoundingClientRect){var i=e.getBoundingClientRect();t=Math.max(i.width||i.right-i.left,e.offsetWidth),n=Math.max(i.height||i.bottom-i.bottom,e.offsetHeight)}else t=e.offsetWidth,n=e.offsetHeight;return{width:t,height:n}},getPos:function(e,t){return o.DOM.getPos(e,t||n.getContainer())},getContainer:function(){return e.container?e.container:document.body},getViewPort:function(e){return o.DOM.getViewPort(e)},get:function(e){return document.getElementById(e)},addClass:function(e,t){return o.DOM.addClass(e,t)},removeClass:function(e,t){return o.DOM.removeClass(e,t)},hasClass:function(e,t){return o.DOM.hasClass(e,t)},toggleClass:function(e,t,n){return o.DOM.toggleClass(e,t,n)},css:function(e,t,n){return o.DOM.setStyle(e,t,n)},getRuntimeStyle:function(e,t){return o.DOM.getStyle(e,t,!0)},on:function(e,t,n,i){return o.DOM.bind(e,t,n,i)},off:function(e,t,n){return o.DOM.unbind(e,t,n)},fire:function(e,t,n){return o.DOM.fire(e,t,n)},innerHtml:function(e,t){o.DOM.setHTML(e,t)}};return n}),e(pe,[],function(){return{parseBox:function(e){var t;if(e)return"number"==typeof e?{top:e=e||0,left:e,bottom:e,right:e}:(1===(t=(e=e.split(" ")).length)?e[1]=e[2]=e[3]=e[0]:2===t?(e[2]=e[0],e[3]=e[1]):3===t&&(e[3]=e[1]),{top:parseInt(e[0],10)||0,right:parseInt(e[1],10)||0,bottom:parseInt(e[2],10)||0,left:parseInt(e[3],10)||0})},measureBox:function(r,e){function t(e){var t,n,i=parseFloat((t=e,(n=document.defaultView)?(t=t.replace(/[A-Z]/g,function(e){return"-"+e}),n.getComputedStyle(r,null).getPropertyValue(t)):r.currentStyle[t]),10);return isNaN(i)?0:i}return{top:t(e+"TopWidth"),right:t(e+"RightWidth"),bottom:t(e+"BottomWidth"),left:t(e+"LeftWidth")}}}}),e(ge,[d],function(e){function t(){}function n(e){this.cls=[],this.cls._map={},this.onchange=e||t,this.prefix=""}return e.extend(n.prototype,{add:function(e){return e&&!this.contains(e)&&(this.cls._map[e]=!0,this.cls.push(e),this._change()),this},remove:function(e){if(this.contains(e)){for(var t=0;t<this.cls.length&&this.cls[t]!==e;t++);this.cls.splice(t,1),delete this.cls._map[e],this._change()}return this},toggle:function(e,t){var n=this.contains(e);return n!==t&&(n?this.remove(e):this.add(e),this._change()),this},contains:function(e){return!!this.cls._map[e]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),n.prototype.toString=function(){var e;if(this.clsValue)return this.clsValue;e="";for(var t=0;t<this.cls.length;t++)0<t&&(e+=" "),e+=this.prefix+this.cls[t];return e},n}),e(me,[i],function(n){var i,r={};return{add:function(e){var t=e.parent();if(t){if(!t._layout||t._layout.isNative())return;r[t._id]||(r[t._id]=t),i||(i=!0,n.requestAnimationFrame(function(){var e,t;for(e in i=!1,r)(t=r[e]).state.get("rendered")&&t.reflow();r={}},document.body))}},remove:function(e){r[e._id]&&delete r[e._id]}}}),e(ve,[ae,d,se,ue,fe,he,f,pe,ge,me],function(e,o,i,a,r,v,f,y,s,c){function l(n){return n._eventDispatcher||(n._eventDispatcher=new i({scope:n,toggleEvent:function(e,t){t&&i.isNative(e)&&(n._nativeEvents||(n._nativeEvents={}),n._nativeEvents[e]=!0,n.state.get("rendered")&&u(n))}})),n._eventDispatcher}function u(s){function e(e){var t=s.getParentCtrl(e.target);t&&t.fire(e.type,e)}function t(){var e=l._lastHoverCtrl;e&&(e.fire("mouseleave",{target:e.getEl()}),e.parents().each(function(e){e.fire("mouseleave",{target:e.getEl()})}),l._lastHoverCtrl=null)}function n(e){var t,n,i,r=s.getParentCtrl(e.target),o=l._lastHoverCtrl,a=0;if(r!==o){if((n=(l._lastHoverCtrl=r).parents().toArray().reverse()).push(r),o){for((i=o.parents().toArray().reverse()).push(o),a=0;a<i.length&&n[a]===i[a];a++);for(t=i.length-1;a<=t;t--)(o=i[t]).fire("mouseleave",{target:o.getEl()})}for(t=a;t<n.length;t++)(r=n[t]).fire("mouseenter",{target:r.getEl()})}}function i(e){e.preventDefault(),"mousewheel"==e.type?(e.deltaY=-.025*e.wheelDelta,e.wheelDeltaX&&(e.deltaX=-.025*e.wheelDeltaX)):(e.deltaX=0,e.deltaY=e.detail),e=s.fire("wheel",e)}var r,o,a,l,c,u;if(c=s._nativeEvents){for((a=s.parents().toArray()).unshift(s),r=0,o=a.length;!l&&r<o;r++)l=a[r]._eventsRoot;for(l||(l=a[a.length-1]||s),s._eventsRoot=l,o=r,r=0;r<o;r++)a[r]._eventsRoot=l;var d=l._delegates;for(u in d||(d=l._delegates={}),c){if(!c)return!1;"wheel"!==u||p?("mouseenter"===u||"mouseleave"===u?l._hasMouseEnter||(f(l.getEl()).on("mouseleave",t).on("mouseover",n),l._hasMouseEnter=1):d[u]||(f(l.getEl()).on(u,e),d[u]=!0),c[u]=!1):h?f(s.getEl()).on("mousewheel",i):f(s.getEl()).on("DOMMouseScroll",i)}}}var d,h="onmousewheel"in document,p=!1,g=0,n={Statics:{classPrefix:"mce-"},isRtl:function(){return d.rtl},classPrefix:"mce-",init:function(t){function e(e){var t;for(e=e.split(" "),t=0;t<e.length;t++)r.classes.add(e[t])}var n,i,r=this;r.settings=t=o.extend({},r.Defaults,t),r._id=t.id||"mceu_"+g++,r._aria={role:t.role},r._elmCache={},r.$=f,r.state=new a({visible:!0,active:!1,disabled:!1,value:""}),r.data=new a(t.data),r.classes=new s(function(){r.state.get("rendered")&&(r.getEl().className=this.toString())}),r.classes.prefix=r.classPrefix,(n=t.classes)&&(r.Defaults&&((i=r.Defaults.classes)&&n!=i&&e(i)),e(n)),o.each("title text name visible disabled active value".split(" "),function(e){e in t&&r[e](t[e])}),r.on("click",function(){if(r.disabled())return!1}),r.settings=t,r.borderBox=y.parseBox(t.border),r.paddingBox=y.parseBox(t.padding),r.marginBox=y.parseBox(t.margin),t.hidden&&r.hide()},Properties:"parent,name",getContainerElm:function(){return v.getContainer()},getParentCtrl:function(e){for(var t,n=this.getRoot().controlIdLookup;e&&n&&!(t=n[e.id]);)e=e.parentNode;return t},initLayoutRect:function(){var e,t,n,i,r,o,a,s,l,c,u=this,d=u.settings,f=u.getEl();e=u.borderBox=u.borderBox||y.measureBox(f,"border"),u.paddingBox=u.paddingBox||y.measureBox(f,"padding"),u.marginBox=u.marginBox||y.measureBox(f,"margin"),c=v.getSize(f),s=d.minWidth,l=d.minHeight,r=s||c.width,o=l||c.height,n=d.width,i=d.height,a=void 0!==(a=d.autoResize)?a:!n&&!i,n=n||r,i=i||o;var h=e.left+e.right,p=e.top+e.bottom,g=d.maxWidth||65535,m=d.maxHeight||65535;return u._layoutRect=t={x:d.x||0,y:d.y||0,w:n,h:i,deltaW:h,deltaH:p,contentW:n-h,contentH:i-p,innerW:n-h,innerH:i-p,startMinWidth:s||0,startMinHeight:l||0,minW:Math.min(r,g),minH:Math.min(o,m),maxW:g,maxH:m,autoResize:a,scrollW:0},u._lastLayoutRect={},t},layoutRect:function(e){var t,n,i,r,o,a,s=this._layoutRect;return s||(s=this.initLayoutRect()),e?(i=s.deltaW,r=s.deltaH,e.x!==o&&(s.x=e.x),e.y!==o&&(s.y=e.y),e.minW!==o&&(s.minW=e.minW),e.minH!==o&&(s.minH=e.minH),(n=e.w)!==o&&(n=(n=n<s.minW?s.minW:n)>s.maxW?s.maxW:n,s.w=n,s.innerW=n-i),(n=e.h)!==o&&(n=(n=n<s.minH?s.minH:n)>s.maxH?s.maxH:n,s.h=n,s.innerH=n-r),(n=e.innerW)!==o&&(n=(n=n<s.minW-i?s.minW-i:n)>s.maxW-i?s.maxW-i:n,s.innerW=n,s.w=n+i),(n=e.innerH)!==o&&(n=(n=n<s.minH-r?s.minH-r:n)>s.maxH-r?s.maxH-r:n,s.innerH=n,s.h=n+r),e.contentW!==o&&(s.contentW=e.contentW),e.contentH!==o&&(s.contentH=e.contentH),(t=this._lastLayoutRect).x===s.x&&t.y===s.y&&t.w===s.w&&t.h===s.h||((a=d.repaintControls)&&a.map&&!a.map[this._id]&&(a.push(this),a.map[this._id]=!0),t.x=s.x,t.y=s.y,t.w=s.w,t.h=s.h),this):s},repaint:function(){var e,t,n,i,r,o,a,s,l,c,u=this;l=document.createRange?function(e){return e}:Math.round,e=u.getEl().style,i=u._layoutRect,s=u._lastRepaintRect||{},o=(r=u.borderBox).left+r.right,a=r.top+r.bottom,i.x!==s.x&&(e.left=l(i.x)+"px",s.x=i.x),i.y!==s.y&&(e.top=l(i.y)+"px",s.y=i.y),i.w!==s.w&&(c=l(i.w-o),e.width=(0<=c?c:0)+"px",s.w=i.w),i.h!==s.h&&(c=l(i.h-a),e.height=(0<=c?c:0)+"px",s.h=i.h),u._hasBody&&i.innerW!==s.innerW&&(c=l(i.innerW),(n=u.getEl("body"))&&((t=n.style).width=(0<=c?c:0)+"px"),s.innerW=i.innerW),u._hasBody&&i.innerH!==s.innerH&&(c=l(i.innerH),(n=n||u.getEl("body"))&&((t=t||n.style).height=(0<=c?c:0)+"px"),s.innerH=i.innerH),u._lastRepaintRect=s,u.fire("repaint",{},!1)},updateLayoutRect:function(){this.parent()._lastRect=null,v.css(this.getEl(),{width:"",height:""}),this._layoutRect=this._lastRepaintRect=this._lastLayoutRect=null,this.initLayoutRect()},on:function(e,t){var n,i,r,o=this;return l(o).on(e,"string"!=typeof(n=t)?n:function(e){return i||o.parentsAndSelf().each(function(e){var t=e.settings.callbacks;if(t&&(i=t[n]))return r=e,!1}),i?i.call(r,e):(e.action=n,void this.fire("execute",e))}),o},off:function(e,t){return l(this).off(e,t),this},fire:function(e,t,n){if((t=t||{}).control||(t.control=this),t=l(this).fire(e,t),!1!==n&&this.parent)for(var i=this.parent();i&&!t.isPropagationStopped();)i.fire(e,t,!1),i=i.parent();return t},hasEventListeners:function(e){return l(this).has(e)},parents:function(e){var t,n=new r;for(t=this.parent();t;t=t.parent())n.add(t);return e&&(n=n.filter(e)),n},parentsAndSelf:function(e){return new r(this).add(this.parents(e))},next:function(){var e=this.parent().items();return e[e.indexOf(this)+1]},prev:function(){var e=this.parent().items();return e[e.indexOf(this)-1]},innerHtml:function(e){return this.$el.html(e),this},getEl:function(e){var t=e?this._id+"-"+e:this._id;return this._elmCache[t]||(this._elmCache[t]=f("#"+t)[0]),this._elmCache[t]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(e){}return this},blur:function(){return this.getEl().blur(),this},aria:function(e,t){var n=this.getEl(this.ariaTarget);return void 0===t?this._aria[e]:(this._aria[e]=t,this.state.get("rendered")&&n.setAttribute("role"==e?e:"aria-"+e,t),this)},encode:function(e,t){return!1!==t&&(e=this.translate(e)),(e||"").replace(/[&<>"]/g,function(e){return"&#"+e.charCodeAt(0)+";"})},translate:function(e){return d.translate?d.translate(e):e},before:function(e){var t=this.parent();return t&&t.insert(e,t.items().indexOf(this),!0),this},after:function(e){var t=this.parent();return t&&t.insert(e,t.items().indexOf(this)),this},remove:function(){var t,e,n=this,i=n.getEl(),r=n.parent();if(n.items){var o=n.items().toArray();for(e=o.length;e--;)o[e].remove()}r&&r.items&&(t=[],r.items().each(function(e){e!==n&&t.push(e)}),r.items().set(t),r._lastRect=null),n._eventsRoot&&n._eventsRoot==n&&f(i).off();var a=n.getRoot().controlIdLookup;return a&&delete a[n._id],i&&i.parentNode&&i.parentNode.removeChild(i),n.state.set("rendered",!1),n.state.destroy(),n.fire("remove"),n},renderBefore:function(e){return f(e).before(this.renderHtml()),this.postRender(),this},renderTo:function(e){return f(e||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var e,t,n,i,r,o=this,a=o.settings;for(i in o.$el=f(o.getEl()),o.state.set("rendered",!0),a)0===i.indexOf("on")&&o.on(i.substr(2),a[i]);if(o._eventsRoot){for(n=o.parent();!r&&n;n=n.parent())r=n._eventsRoot;if(r)for(i in r._nativeEvents)o._nativeEvents[i]=!0}u(o),a.style&&((e=o.getEl())&&(e.setAttribute("style",a.style),e.style.cssText=a.style)),o.settings.border&&(t=o.borderBox,o.$el.css({"border-top-width":t.top,"border-right-width":t.right,"border-bottom-width":t.bottom,"border-left-width":t.left}));var s=o.getRoot();for(var l in s.controlIdLookup||(s.controlIdLookup={}),(s.controlIdLookup[o._id]=o)._aria)o.aria(l,o._aria[l]);!1===o.state.get("visible")&&(o.getEl().style.display="none"),o.bindStates(),o.state.on("change:visible",function(e){var t,n=e.value;o.state.get("rendered")&&(o.getEl().style.display=!1===n?"none":"",o.getEl().getBoundingClientRect()),(t=o.parent())&&(t._lastRect=null),o.fire(n?"show":"hide"),c.add(o)}),o.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(e){var t,n,i,r,o,a,s=this.getEl(),l=s.parentNode,c=function(e,t){var n,i,r=e;for(n=i=0;r&&r!=t&&r.nodeType;)n+=r.offsetLeft||0,i+=r.offsetTop||0,r=r.offsetParent;return{x:n,y:i}}(s,l);return t=c.x,n=c.y,i=s.offsetWidth,r=s.offsetHeight,o=l.clientWidth,a=l.clientHeight,"end"==e?(t-=o-i,n-=a-r):"center"==e&&(t-=o/2-i/2,n-=a/2-r/2),l.scrollLeft=t,l.scrollTop=n,this},getRoot:function(){for(var e,t=this,n=[];t;){if(t.rootControl){e=t.rootControl;break}n.push(t),t=(e=t).parent()}e||(e=this);for(var i=n.length;i--;)n[i].rootControl=e;return e},reflow:function(){c.remove(this);var e=this.parent();return e._layout&&!e._layout.isNative()&&e.reflow(),this}};return o.each("text title visible disabled active value".split(" "),function(t){n[t]=function(e){return 0===arguments.length?this.state.get(t):(void 0!==e&&this.state.set(t,e),this)}}),d=e.extend(n)}),e(ye,[],function(){var o,a={};return{add:function(e,t){a[e.toLowerCase()]=t},has:function(e){return!!a[e.toLowerCase()]},create:function(e,t){var n,i,r;if(!o){for(i in r=tinymce.ui)a[i.toLowerCase()]=r[i];o=!0}if("string"==typeof e?(t=t||{}).type=e:e=(t=e).type,e=e.toLowerCase(),!(n=a[e]))throw new Error("Could not find control by type: "+e);return(n=new n(t)).type=e,n}}}),e(Ce,[],function(){return function(e){function n(e){return e&&1===e.nodeType}function o(e){return n(e=e||v)?e.getAttribute("role"):null}function i(e){for(var t,n=e||v;n=n.parentNode;)if(t=o(n))return t}function r(e){var t=v;if(n(t))return t.getAttribute("aria-"+e)}function a(e){var t=e.tagName.toUpperCase();return"INPUT"==t||"TEXTAREA"==t||"SELECT"==t}function s(e){var r=[];return function e(t){if(1==t.nodeType&&"none"!=t.style.display&&!t.disabled){(a(i=t)&&!i.hidden||/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(o(i)))&&r.push(t);for(var n=0;n<t.childNodes.length;n++)e(t.childNodes[n])}var i}(e||t.getEl()),r}function l(e){var t,n;(n=(e=e||y).parents().toArray()).unshift(e);for(var i=0;i<n.length&&!(t=n[i]).settings.ariaRoot;i++);return t}function c(e,t){return e<0?e=t.length-1:e>=t.length&&(e=0),t[e]&&t[e].focus(),e}function u(e,t){var n=-1,i=l();t=t||s(i.getEl());for(var r=0;r<t.length;r++)t[r]===v&&(n=r);n+=e,i.lastAriaIndex=c(n,t)}function d(){"tablist"==i()?u(-1,s(v.parentNode)):y.parent().submenu?g():u(-1)}function f(){var e=o(),t=i();"tablist"==t?u(1,s(v.parentNode)):"menuitem"==e&&"menu"==t&&r("haspopup")?m():u(1)}function h(){u(-1)}function p(){var e=o(),t=i();"menuitem"==e&&"menubar"==t?m():"button"==e&&r("haspopup")?m({key:"down"}):u(1)}function g(){y.fire("cancel")}function m(e){e=e||{},y.fire("click",{target:v,aria:e})}var v,y,t=e.root;try{v=document.activeElement}catch(e){v=document.body}return y=t.getParentCtrl(v),t.on("keydown",function(e){function t(e,t){a(v)||"slider"!==o(v)&&!1!==t(e)&&e.preventDefault()}if(!e.isDefaultPrevented())switch(e.keyCode){case 37:t(e,d);break;case 39:t(e,f);break;case 38:t(e,h);break;case 40:t(e,p);break;case 27:g();break;case 14:case 13:case 32:t(e,m);break;case 9:!1!==function(e){if("tablist"==i()){var t=s(y.getEl("body"))[0];t&&t.focus()}else u(e.shiftKey?-1:1)}(e)&&e.preventDefault()}}),t.on("focusin",function(e){v=e.target,y=e.control}),{focusFirst:function(e){var t=l(e),n=s(t.getEl());t.settings.ariaRemember&&"lastAriaIndex"in t?c(t.lastAriaIndex,n):c(0,n)}}}}),e(xe,[ve,fe,de,ye,Ce,d,f,ge,me],function(r,n,t,o,i,a,s,l,c){var u={};return r.extend({init:function(e){var t=this;t._super(e),(e=t.settings).fixed&&t.state.set("fixed",!0),t._items=new n,t.isRtl()&&t.classes.add("rtl"),t.bodyClasses=new l(function(){t.state.get("rendered")&&(t.getEl("body").className=this.toString())}),t.bodyClasses.prefix=t.classPrefix,t.classes.add("container"),t.bodyClasses.add("container-body"),e.containerCls&&t.classes.add(e.containerCls),t._layout=o.create((e.layout||"")+"layout"),t.settings.items?t.add(t.settings.items):t.add(t.render()),t._hasBody=!0},items:function(){return this._items},find:function(e){return(e=u[e]=u[e]||new t(e)).find(this)},add:function(e){return this.items().add(this.create(e)).parent(this),this},focus:function(e){var t,n,i;return e&&(n=this.keyboardNav||this.parents().eq(-1)[0].keyboardNav)?void n.focusFirst(this):(i=this.find("*"),this.statusbar&&i.add(this.statusbar.items()),i.each(function(e){return e.settings.autofocus?(t=null,!1):void(e.canFocus&&(t=t||e))}),t&&t.focus(),this)},replace:function(e,t){for(var n,i=this.items(),r=i.length;r--;)if(i[r]===e){i[r]=t;break}0<=r&&((n=t.getEl())&&n.parentNode.removeChild(n),(n=e.getEl())&&n.parentNode.removeChild(n)),t.parent(this)},create:function(e){var t,n=this,i=[];return a.isArray(e)||(e=[e]),a.each(e,function(e){e&&(e instanceof r||("string"==typeof e&&(e={type:e}),t=a.extend({},n.settings.defaults,e),e.type=t.type=t.type||e.type||n.settings.defaultType||(t.defaults?t.defaults.type:null),e=o.create(t)),i.push(e))}),i},renderNew:function(){var i=this;return i.items().each(function(e,t){var n;e.parent(i),e.state.get("rendered")||((n=i.getEl("body")).hasChildNodes()&&t<=n.childNodes.length-1?s(n.childNodes[t]).before(e.renderHtml()):s(n).append(e.renderHtml()),e.postRender(),c.add(e))}),i._layout.applyClasses(i.items().filter(":visible")),i._lastRect=null,i},append:function(e){return this.add(e).renderNew()},prepend:function(e){return this.items().set(this.create(e).concat(this.items().toArray())),this.renderNew()},insert:function(e,t,n){var i,r,o;return e=this.create(e),i=this.items(),!n&&t<i.length-1&&(t+=1),0<=t&&t<i.length&&(r=i.slice(0,t).toArray(),o=i.slice(t).toArray(),i.set(r.concat(e,o))),this.renderNew()},fromJSON:function(e){for(var t in e)this.find("#"+t).value(e[t]);return this},toJSON:function(){var i={};return this.find("*").each(function(e){var t=e.name(),n=e.value();t&&void 0!==n&&(i[t]=n)}),i},renderHtml:function(){var e=this._layout,t=this.settings.role;return this.preRender(),e.preRender(this),'<div id="'+this._id+'" class="'+this.classes+'"'+(t?' role="'+this.settings.role+'"':"")+'><div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+e.renderHtml(this)+"</div></div>"},postRender:function(){var e,t=this;return t.items().exec("postRender"),t._super(),t._layout.postRender(t),t.state.set("rendered",!0),t.settings.style&&t.$el.css(t.settings.style),t.settings.border&&(e=t.borderBox,t.$el.css({"border-top-width":e.top,"border-right-width":e.right,"border-bottom-width":e.bottom,"border-left-width":e.left})),t.parent()||(t.keyboardNav=new i({root:t})),t},initLayoutRect:function(){var e=this._super();return this._layout.recalc(this),e},recalc:function(){var e=this._layoutRect,t=this._lastRect;if(!t||t.w!=e.w||t.h!=e.h)return this._layout.recalc(this),e=this.layoutRect(),this._lastRect={x:e.x,y:e.y,w:e.w,h:e.h},!0},reflow:function(){var e;if(c.remove(this),this.visible()){for(r.repaintControls=[],r.repaintControls.map={},this.recalc(),e=r.repaintControls.length;e--;)r.repaintControls[e].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),r.repaintControls=[]}return this}})}),e(we,[f],function(w){function _(e){var t,n;if(e.changedTouches)for(t="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<t.length;n++)e[t[n]]=e.changedTouches[0][t[n]]}return function(e,h){function p(){return x.getElementById(h.handle||e)}var g,m,t,v,y,b,C,x=h.document||document;h=h||{},t=function(e){var t,n,i,r,o,a,s,l,c,u,d,f=(i=x,d=Math.max,r=i.documentElement,o=i.body,a=d(r.scrollWidth,o.scrollWidth),s=d(r.clientWidth,o.clientWidth),l=d(r.offsetWidth,o.offsetWidth),c=d(r.scrollHeight,o.scrollHeight),u=d(r.clientHeight,o.clientHeight),{width:a<l?s:a,height:c<d(r.offsetHeight,o.offsetHeight)?u:c});_(e),e.preventDefault(),m=e.button,t=p(),b=e.screenX,C=e.screenY,n=window.getComputedStyle?window.getComputedStyle(t,null).getPropertyValue("cursor"):t.runtimeStyle.cursor,g=w("<div></div>").css({position:"absolute",top:0,left:0,width:f.width,height:f.height,zIndex:2147483647,opacity:1e-4,cursor:n}).appendTo(x.body),w(x).on("mousemove touchmove",y).on("mouseup touchend",v),h.start(e)},y=function(e){return _(e),e.button!==m?v(e):(e.deltaX=e.screenX-b,e.deltaY=e.screenY-C,e.preventDefault(),void h.drag(e))},v=function(e){_(e),w(x).off("mousemove touchmove",y).off("mouseup touchend",v),g.remove(),h.stop&&h.stop(e)},this.destroy=function(){w(p()).off()},w(p()).on("mousedown touchstart",t)}}),e(_e,[f,we],function(y,i){return{init:function(){this.on("repaint",this.renderScroll)},renderScroll:function(){function n(){function e(e,t,n,i,r,o){var a,s,l,c,u,d,f,h;if(s=m.getEl("scroll"+e)){if(f=t.toLowerCase(),h=n.toLowerCase(),y(m.getEl("absend")).css(f,m.layoutRect()[i]-1),!r)return void y(s).css("display","none");y(s).css("display","block"),a=m.getEl("body"),l=m.getEl("scroll"+e+"t"),c=a["client"+n]-2*v,u=(c-=p&&g?s["client"+o]:0)/a["scroll"+n],(d={})[f]=a["offset"+t]+v,d[h]=c,y(s).css(d),(d={})[f]=a["scroll"+t]*u,d[h]=c*u,y(l).css(d)}}var p,g,t;t=m.getEl("body"),p=t.scrollWidth>t.clientWidth,g=t.scrollHeight>t.clientHeight,e("h","Left","Width","contentW",p,"Height"),e("v","Top","Height","contentH",g,"Width")}var m=this,v=2;m.settings.autoScroll&&(m._hasScroll||(m._hasScroll=!0,function(){function e(a,s,l,c,u){var d,e=m._id+"-scroll"+a,t=m.classPrefix;y(m.getEl()).append('<div id="'+e+'" class="'+t+"scrollbar "+t+"scrollbar-"+a+'"><div id="'+e+'t" class="'+t+'scrollbar-thumb"></div></div>'),m.draghelper=new i(e+"t",{start:function(){d=m.getEl("body")["scroll"+s],y("#"+e).addClass(t+"active")},drag:function(e){var t,n,i,r,o=m.layoutRect();n=o.contentW>o.innerW,i=o.contentH>o.innerH,r=m.getEl("body")["client"+l]-2*v,t=(r-=n&&i?m.getEl("scroll"+a)["client"+u]:0)/m.getEl("body")["scroll"+l],m.getEl("body")["scroll"+s]=d+e["delta"+c]/t},stop:function(){y("#"+e).removeClass(t+"active")}})}m.classes.add("scroll"),e("v","Top","Height","Y","Width"),e("h","Left","Width","X","Height")}(),m.on("wheel",function(e){var t=m.getEl("body");t.scrollLeft+=10*(e.deltaX||0),t.scrollTop+=10*e.deltaY,n()}),y(m.getEl("body")).on("scroll",n)),n())}}}),e(Ee,[xe,_e],function(e,t){return e.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[t],renderHtml:function(){var e=this,t=e._layout,n=e.settings.html;return e.preRender(),t.preRender(e),void 0===n?n='<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+t.renderHtml(e)+"</div>":("function"==typeof n&&(n=n.call(e)),e._hasBody=!1),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1" role="group">'+(e._preBodyHtml||"")+n+"</div>"}})}),e(Te,[he],function(h){function o(e,t,n){var i,r,o,a,s,l,c,u,d,f;return d=h.getViewPort(),o=(r=h.getPos(t)).x,a=r.y,e.state.get("fixed")&&"static"==h.getRuntimeStyle(document.body,"position")&&(o-=d.x,a-=d.y),i=e.getEl(),s=(f=h.getSize(i)).width,l=f.height,c=(f=h.getSize(t)).width,u=f.height,"b"===(n=(n||"").split(""))[0]&&(a+=u),"r"===n[1]&&(o+=c),"c"===n[0]&&(a+=Math.round(u/2)),"c"===n[1]&&(o+=Math.round(c/2)),"b"===n[3]&&(a-=l),"r"===n[4]&&(o-=s),"c"===n[3]&&(a-=Math.round(l/2)),"c"===n[4]&&(o-=Math.round(s/2)),{x:o,y:a,w:s,h:l}}return{testMoveRel:function(e,t){for(var n=h.getViewPort(),i=0;i<t.length;i++){var r=o(this,e,t[i]);if(this.state.get("fixed")){if(0<r.x&&r.x+r.w<n.w&&0<r.y&&r.y+r.h<n.h)return t[i]}else if(r.x>n.x&&r.x+r.w<n.w+n.x&&r.y>n.y&&r.y+r.h<n.h+n.y)return t[i]}return t[0]},moveRel:function(e,t){"string"!=typeof t&&(t=this.testMoveRel(e,t));var n=o(this,e,t);return this.moveTo(n.x,n.y)},moveBy:function(e,t){var n=this.layoutRect();return this.moveTo(n.x+e,n.y+t),this},moveTo:function(e,t){function n(e,t,n){return e<0?0:t<e+n?(e=t-n)<0?0:e:e}if(this.settings.constrainToViewport){var i=h.getViewPort(window),r=this.layoutRect();e=n(e,i.w+i.x,r.w),t=n(t,i.h+i.y,r.h)}return this.state.get("rendered")?this.layoutRect({x:e,y:t}).repaint():(this.settings.x=e,this.settings.y=t),this.fire("move",{x:e,y:t}),this}}}),e(Se,[he],function(i){return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(e,t){if(e<=1||t<=1){var n=i.getWindowSize();e=e<=1?e*n.w:e,t=t<=1?t*n.h:t}return this._layoutRect.autoResize=!1,this.layoutRect({minW:e,minH:t,w:e,h:t}).reflow()},resizeBy:function(e,t){var n=this.layoutRect();return this.resizeTo(n.w+e,n.h+t)}}}),e(Ne,[Ee,Te,Se,he,f,i],function(e,t,n,i,a,r){function o(e,t){for(;e;){if(e==t)return!0;e=e.parent()}}function s(){d||(d=function(e){2!=e.button&&function(e){for(var t=g.length;t--;){var n=g[t],i=n.getParentCtrl(e.target);if(n.settings.autohide){if(i&&(o(i,n)||n.parent()===i))continue;(e=n.fire("autohide",{target:e.target})).isDefaultPrevented()||n.hide()}}}(e)},a(document).on("click touchstart",d))}function l(r){function e(e,t){for(var n,i=0;i<g.length;i++)if(g[i]!=r)for(n=g[i].parent();n&&(n=n.parent());)n==r&&g[i].fixed(e).moveBy(0,t).repaint()}var t=i.getViewPort().y;r.settings.autofix&&(r.state.get("fixed")?r._autoFixY>t&&(r.fixed(!1).layoutRect({y:r._autoFixY}).repaint(),e(!1,r._autoFixY-t)):(r._autoFixY=r.layoutRect().y,r._autoFixY<t&&(r.fixed(!0).layoutRect({y:0}).repaint(),e(!0,t-r._autoFixY))))}function c(e,t){var n,i,r=v.zIndex||65535;if(e)m.push(t);else for(n=m.length;n--;)m[n]===t&&m.splice(n,1);if(m.length)for(n=0;n<m.length;n++)m[n].modal&&(r++,i=m[n]),m[n].getEl().style.zIndex=r,m[n].zIndex=r,r++;var o=a("#"+t.classPrefix+"modal-block",t.getContainerElm())[0];i?a(o).css("z-index",i.zIndex-1):o&&(o.parentNode.removeChild(o),p=!1),v.currentZIndex=r}function u(e){var t;for(t=g.length;t--;)g[t]===e&&g.splice(t,1);for(t=m.length;t--;)m[t]===e&&m.splice(t,1)}var d,f,h,p,g=[],m=[],v=e.extend({Mixins:[t,n],init:function(e){var i=this;i._super(e),(i._eventsRoot=i).classes.add("floatpanel"),e.autohide&&(s(),function(){if(!h){var e=document.documentElement,t=e.clientWidth,n=e.clientHeight;h=function(){document.all&&t==e.clientWidth&&n==e.clientHeight||(t=e.clientWidth,n=e.clientHeight,v.hideAll())},a(window).on("resize",h)}}(),g.push(i)),e.autofix&&(f||(f=function(){var e;for(e=g.length;e--;)l(g[e])},a(window).on("scroll",f)),i.on("move",function(){l(this)})),i.on("postrender show",function(e){if(e.control==i){var t,n=i.classPrefix;i.modal&&!p&&((t=a("#"+n+"modal-block",i.getContainerElm()))[0]||(t=a('<div id="'+n+'modal-block" class="'+n+"reset "+n+'fade"></div>').appendTo(i.getContainerElm())),r.setTimeout(function(){t.addClass(n+"in"),a(i.getEl()).addClass(n+"in")}),p=!0),c(!0,i)}}),i.on("show",function(){i.parents().each(function(e){if(e.state.get("fixed"))return i.fixed(!0),!1})}),e.popover&&(i._preBodyHtml='<div class="'+i.classPrefix+'arrow"></div>',i.classes.add("popover").add("bottom").add(i.isRtl()?"end":"start")),i.aria("label",e.ariaLabel),i.aria("labelledby",i._id),i.aria("describedby",i.describedBy||i._id+"-none")},fixed:function(e){if(this.state.get("fixed")!=e){if(this.state.get("rendered")){var t=i.getViewPort();e?this.layoutRect().y-=t.y:this.layoutRect().y+=t.y}this.classes.toggle("fixed",e),this.state.set("fixed",e)}return this},show:function(){var e,t=this._super();for(e=g.length;e--&&g[e]!==this;);return-1===e&&g.push(this),t},hide:function(){return u(this),c(!1,this),this._super()},hideAll:function(){v.hideAll()},close:function(){return this.fire("close").isDefaultPrevented()||(this.remove(),c(!1,this)),this},remove:function(){u(this),this._super()},postRender:function(){return this.settings.bodyRole&&this.getEl("body").setAttribute("role",this.settings.bodyRole),this._super()}});return v.hideAll=function(){for(var e=g.length;e--;){var t=g[e];t&&t.settings.autohide&&(t.hide(),g.splice(e,1))}},v}),e(ke,[Ne,Ee,he,f,we,pe,r,i],function(e,t,s,l,i,c,r,u){function o(e){var t,n=l("meta[name=viewport]")[0];!1!==r.overrideViewPort&&(n||((n=document.createElement("meta")).setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(n)),(t=n.getAttribute("content"))&&void 0!==d&&(d=t),n.setAttribute("content",e?"width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0":d))}function n(e,t){(function(){for(var e=0;e<a.length;e++)if(a[e]._fullscreen)return!0;return!1})()&&!1===t&&l([document.documentElement,document.body]).removeClass(e+"fullscreen")}var a=[],d="",f=e.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(e){var n=this;n._super(e),n.isRtl()&&n.classes.add("rtl"),n.classes.add("window"),n.bodyClasses.add("window-body"),n.state.set("fixed",!0),e.buttons&&(n.statusbar=new t({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:n.isRtl()?"start":"end",defaults:{type:"button"},items:e.buttons}),n.statusbar.classes.add("foot"),n.statusbar.parent(n)),n.on("click",function(e){var t=n.classPrefix+"close";(s.hasClass(e.target,t)||s.hasClass(e.target.parentNode,t))&&n.close()}),n.on("cancel",function(){n.close()}),n.aria("describedby",n.describedBy||n._id+"-none"),n.aria("label",e.title),n._fullscreen=!1},recalc:function(){var e,t,n,i,r=this,o=r.statusbar;r._fullscreen&&(r.layoutRect(s.getWindowSize()),r.layoutRect().contentH=r.layoutRect().innerH),r._super(),e=r.layoutRect(),r.settings.title&&!r._fullscreen&&((t=e.headerW)>e.w&&(n=e.x-Math.max(0,t/2),r.layoutRect({w:t,x:n}),i=!0)),o&&(o.layoutRect({w:r.layoutRect().innerW}).recalc(),(t=o.layoutRect().minW+e.deltaW)>e.w&&(n=e.x-Math.max(0,t-e.w),r.layoutRect({w:t,x:n}),i=!0)),i&&r.recalc()},initLayoutRect:function(){var e,t=this._super(),n=0;if(this.settings.title&&!this._fullscreen){e=this.getEl("head");var i=s.getSize(e);t.headerW=i.width,t.headerH=i.height,n+=t.headerH}this.statusbar&&(n+=this.statusbar.layoutRect().h),t.deltaH+=n,t.minH+=n,t.h+=n;var r=s.getWindowSize();return t.x=this.settings.x||Math.max(0,r.w/2-t.w/2),t.y=this.settings.y||Math.max(0,r.h/2-t.h/2),t},renderHtml:function(){var e=this,t=e._layout,n=e._id,i=e.classPrefix,r=e.settings,o="",a="",s=r.html;return e.preRender(),t.preRender(e),r.title&&(o='<div id="'+n+'-head" class="'+i+'window-head"><div id="'+n+'-title" class="'+i+'title">'+e.encode(r.title)+'</div><div id="'+n+'-dragh" class="'+i+'dragh"></div><button type="button" class="'+i+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),r.url&&(s='<iframe src="'+r.url+'" tabindex="-1"></iframe>'),void 0===s&&(s=t.renderHtml(e)),e.statusbar&&(a=e.statusbar.renderHtml()),'<div id="'+n+'" class="'+e.classes+'" hidefocus="1"><div class="'+e.classPrefix+'reset" role="application">'+o+'<div id="'+n+'-body" class="'+e.bodyClasses+'">'+s+"</div>"+a+"</div></div>"},fullscreen:function(e){var n,t,i=this,r=document.documentElement,o=i.classPrefix;if(e!=i._fullscreen)if(l(window).on("resize",function(){var e;if(i._fullscreen)if(n)i._timer||(i._timer=u.setTimeout(function(){var e=s.getWindowSize();i.moveTo(0,0).resizeTo(e.w,e.h),i._timer=0},50));else{e=(new Date).getTime();var t=s.getWindowSize();i.moveTo(0,0).resizeTo(t.w,t.h),50<(new Date).getTime()-e&&(n=!0)}}),t=i.layoutRect(),i._fullscreen=e){i._initial={x:t.x,y:t.y,w:t.w,h:t.h},i.borderBox=c.parseBox("0"),i.getEl("head").style.display="none",t.deltaH-=t.headerH+2,l([r,document.body]).addClass(o+"fullscreen"),i.classes.add("fullscreen");var a=s.getWindowSize();i.moveTo(0,0).resizeTo(a.w,a.h)}else i.borderBox=c.parseBox(i.settings.border),i.getEl("head").style.display="",t.deltaH+=t.headerH,l([r,document.body]).removeClass(o+"fullscreen"),i.classes.remove("fullscreen"),i.moveTo(i._initial.x,i._initial.y).resizeTo(i._initial.w,i._initial.h);return i.reflow()},postRender:function(){var t,n=this;setTimeout(function(){n.classes.add("in"),n.fire("open")},0),n._super(),n.statusbar&&n.statusbar.postRender(),n.focus(),this.dragHelper=new i(n._id+"-dragh",{start:function(){t={x:n.layoutRect().x,y:n.layoutRect().y}},drag:function(e){n.moveTo(t.x+e.deltaX,t.y+e.deltaY)}}),n.on("submit",function(e){e.isDefaultPrevented()||n.close()}),a.push(n),o(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var e;for(this.dragHelper.destroy(),this._super(),this.statusbar&&this.statusbar.remove(),n(this.classPrefix,!1),e=a.length;e--;)a[e]===this&&a.splice(e,1);o(0<a.length)},getContentWindow:function(){var e=this.getEl().getElementsByTagName("iframe")[0];return e?e.contentWindow:null}});return function(){if(!r.desktop){var n={w:window.innerWidth,h:window.innerHeight};u.setInterval(function(){var e=window.innerWidth,t=window.innerHeight;n.w==e&&n.h==t||(n={w:e,h:t},l(window).trigger("resize"))},100)}l(window).on("resize",function(){var e,t,n=s.getWindowSize();for(e=0;e<a.length;e++)t=a[e].layoutRect(),a[e].moveTo(a[e].settings.x||Math.max(0,n.w/2-t.w/2),a[e].settings.y||Math.max(0,n.h/2-t.h/2))})}(),f}),e(Ae,[ke],function(r){var o=r.extend({init:function(e){e={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(e)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(e){function t(e,t,n){return{type:"button",text:e,subtype:n?"primary":"",onClick:function(e){e.control.parents()[1].close(),i(t)}}}var n,i=e.callback||function(){};switch(e.buttons){case o.OK_CANCEL:n=[t("Ok",!0,!0),t("Cancel",!1)];break;case o.YES_NO:case o.YES_NO_CANCEL:n=[t("Yes",1,!0),t("No",0)],e.buttons==o.YES_NO_CANCEL&&n.push(t("Cancel",-1));break;default:n=[t("Ok",!0,!0)]}return new r({padding:20,x:e.x,y:e.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:n,title:e.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:e.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:e.onClose,onCancel:function(){i(!1)}}).renderTo(document.body).reflow()},alert:function(e,t){return"string"==typeof e&&(e={text:e}),e.callback=t,o.msgBox(e)},confirm:function(e,t){return"string"==typeof e&&(e={text:e}),e.callback=t,e.buttons=o.OK_CANCEL,o.msgBox(e)}}});return o}),e(De,[ke,Ae],function(s,l){return function(r){function t(){if(i.length)return i[i.length-1]}function o(e){r.fire("OpenWindow",{win:e})}function a(e){r.fire("CloseWindow",{win:e})}var i=[];this.windows=i,r.on("remove",function(){for(var e=i.length;e--;)i[e].close()}),this.open=function(n,e){var t;return r.editorManager.setActive(r),n.title=n.title||" ",n.url=n.url||n.file,n.url&&(n.width=parseInt(n.width||320,10),n.height=parseInt(n.height||240,10)),n.body&&(n.items={defaults:n.defaults,type:n.bodyType||"form",items:n.body,data:n.data,callbacks:n.commands}),n.url||n.buttons||(n.buttons=[{text:"Ok",subtype:"primary",onclick:function(){t.find("form")[0].submit()}},{text:"Cancel",onclick:function(){t.close()}}]),t=new s(n),i.push(t),t.on("close",function(){for(var e=i.length;e--;)i[e]===t&&i.splice(e,1);i.length||r.focus(),a(t)}),n.data&&t.on("postRender",function(){this.find("*").each(function(e){var t=e.name();t in n.data&&e.value(n.data[t])})}),t.features=n||{},t.params=e||{},1===i.length&&r.nodeChanged(),o(t=t.renderTo().reflow()),t},this.alert=function(e,t,n){var i;(i=l.alert(e,function(){t?t.call(n||this):r.focus()})).on("close",function(){a(i)}),o(i)},this.confirm=function(e,t,n){var i;(i=l.confirm(e,function(e){t.call(n||this,e)})).on("close",function(){a(i)}),o(i)},this.close=function(){t()&&t().close()},this.getParams=function(){return t()?t().params:null},this.setParams=function(e){t()&&(t().params=e)},this.getWindows=function(){return i}}}),e(Re,[ve,Te],function(e,t){return e.extend({Mixins:[t],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var e=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'" role="presentation"><div class="'+e+'tooltip-arrow"></div><div class="'+e+'tooltip-inner">'+this.encode(this.state.get("text"))+"</div></div>"},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.getEl().lastChild.innerHTML=t.encode(e.value)}),t._super()},repaint:function(){var e,t;e=this.getEl().style,t=this._layoutRect,e.left=t.x+"px",e.top=t.y+"px",e.zIndex=131070}})}),e(Oe,[ve,Re],function(e,t){var n,o=e.extend({init:function(i){var r=this;r._super(i),i=r.settings,r.canFocus=!0,i.tooltip&&!1!==o.tooltips&&(r.on("mouseenter",function(e){var t=r.tooltip().moveTo(-65535);if(e.control==r){var n=t.text(i.tooltip).show().testMoveRel(r.getEl(),["bc-tc","bc-tl","bc-tr"]);t.classes.toggle("tooltip-n","bc-tc"==n),t.classes.toggle("tooltip-nw","bc-tl"==n),t.classes.toggle("tooltip-ne","bc-tr"==n),t.moveRel(r.getEl(),n)}else t.hide()}),r.on("mouseleave mousedown click",function(){r.tooltip().hide()})),r.aria("label",i.ariaLabel||i.tooltip)},tooltip:function(){return n||(n=new t({type:"tooltip"})).renderTo(),n},postRender:function(){var e=this.settings;this._super(),this.parent()||!e.width&&!e.height||(this.initLayoutRect(),this.repaint()),e.autofocus&&this.focus()},bindStates:function(){function t(e){i.aria("disabled",e),i.classes.toggle("disabled",e)}function n(e){i.aria("pressed",e),i.classes.toggle("active",e)}var i=this;return i.state.on("change:disabled",function(e){t(e.value)}),i.state.on("change:active",function(e){n(e.value)}),i.state.get("disabled")&&t(!0),i.state.get("active")&&n(!0),i._super()},remove:function(){this._super(),n&&(n.remove(),n=null)}});return o}),e(Ie,[Oe],function(e){return e.extend({Defaults:{value:0},init:function(e){this._super(e),this.classes.add("progress"),this.settings.filter||(this.settings.filter=function(e){return Math.round(e)})},renderHtml:function(){var e=this._id,t=this.classPrefix;return'<div id="'+e+'" class="'+this.classes+'"><div class="'+t+'bar-container"><div class="'+t+'bar"></div></div><div class="'+t+'text">0%</div></div>'},postRender:function(){return this._super(),this.value(this.settings.value),this},bindStates:function(){function t(e){e=n.settings.filter(e),n.getEl().lastChild.innerHTML=e+"%",n.getEl().firstChild.firstChild.style.width=e+"%"}var n=this;return n.state.on("change:value",function(e){t(e.value)}),t(n.state.get("value")),n._super()}})}),e(Be,[ve,Te,Ie,i],function(e,t,n,i){return e.extend({Mixins:[t],Defaults:{classes:"widget notification"},init:function(e){var t=this;t._super(e),e.text&&t.text(e.text),e.icon&&(t.icon=e.icon),e.color&&(t.color=e.color),e.type&&t.classes.add("notification-"+e.type),e.timeout&&(e.timeout<0||0<e.timeout)&&!e.closeButton?t.closeButton=!1:(t.classes.add("has-close"),t.closeButton=!0),e.progressBar&&(t.progressBar=new n),t.on("click",function(e){-1!=e.target.className.indexOf(t.classPrefix+"close")&&t.close()})},renderHtml:function(){var e=this,t=e.classPrefix,n="",i="",r="",o="";return e.icon&&(n='<i class="'+t+"ico "+t+"i-"+e.icon+'"></i>'),e.color&&(o=' style="background-color: '+e.color+'"'),e.closeButton&&(i='<button type="button" class="'+t+'close" aria-hidden="true"></button>'),e.progressBar&&(r=e.progressBar.renderHtml()),'<div id="'+e._id+'" class="'+e.classes+'"'+o+' role="presentation">'+n+'<div class="'+t+'notification-inner">'+e.state.get("text")+"</div>"+r+i+"</div>"},postRender:function(){var e=this;return i.setTimeout(function(){e.$el.addClass(e.classPrefix+"in")}),e._super()},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.getEl().childNodes[1].innerHTML=e.value}),t.progressBar&&t.progressBar.bindStates(),t._super()},close:function(){return this.fire("close").isDefaultPrevented()||this.remove(),this},repaint:function(){var e,t;e=this.getEl().style,t=this._layoutRect,e.left=t.x+"px",e.top=t.y+"px",e.zIndex=65534}})}),e(Le,[Be,i,d],function(a,t,s){return function(i){function e(){if(o.length)return o[o.length-1]}function r(){if(0<o.length){var e=o.slice(0,1)[0],t=i.inline?i.getElement():i.getContentAreaContainer();if(e.moveRel(t,"tc-tc"),1<o.length)for(var n=1;n<o.length;n++)o[n].moveRel(o[n-1].getEl(),"bc-tc")}}var o=[];this.notifications=o,i.on("remove",function(){for(var e=o.length;e--;)o[e].close()}),i.on("ResizeEditor",r),i.on("ResizeWindow",function(){t.requestAnimationFrame(function(){(function(){for(var e=0;e<o.length;e++)o[e].moveTo(0,0)})(),r()})}),this.open=function(e){if(!i.removed){var t;i.editorManager.setActive(i);var n=function(e,i){if((t=i).progressBar||t.timeout)return null;var t,n=s.grep(e,function(e){return n=e,(t=i).type===n.settings.type&&t.text===n.settings.text;var t,n});return 0===n.length?null:n[0]}(o,e);return null===n?(t=new a(e),o.push(t),0<e.timeout&&(t.timer=setTimeout(function(){t.close()},e.timeout)),t.on("close",function(){var e=o.length;for(t.timer&&i.getWin().clearTimeout(t.timer);e--;)o[e]===t&&o.splice(e,1);r()}),t.renderTo(),r()):t=n,t}},this.close=function(){e()&&e().close()},this.getNotifications=function(){return o},i.on("SkinLoaded",function(){var e=i.settings.service_message;e&&i.notificationManager.open({text:e,type:"warning",timeout:0,icon:""})})}}),e(Pe,[y],function(r){return{create:function(e,t,n){for(var i=[];t&&t!=e;t=t.parentNode)i.push(r.nodeIndex(t,n));return i},resolve:function(e,t){var n,i,r;for(i=e,n=t.length-1;0<=n;n--){if(r=i.childNodes,t[n]>r.length-1)return null;i=r[t[n]]}return i}}}),e(Me,[B,E,p,Pe,S,m,r,d,i,_,$,te],function(k,A,D,R,O,I,B,L,P,M,H,F){return function(p){function e(e,t){try{p.getDoc().execCommand(e,!1,t)}catch(e){}}function t(){var e=p.getDoc().documentMode;return e||6}function f(e){return e.isDefaultPrevented()}function g(e){var t,n;e.dataTransfer&&(p.selection.isCollapsed()&&"IMG"==e.target.tagName&&d.select(e.target),0<(t=p.selection.getContent()).length&&(n=S+escape(p.id)+","+escape(t),e.dataTransfer.setData(N,n)))}function m(e){var t;return e.dataTransfer&&((t=e.dataTransfer.getData(N))&&0<=t.indexOf(S))?(t=t.substr(S.length).split(","),{id:unescape(t[0]),html:unescape(t[1])}):null}function v(e){p.queryCommandSupported("mceInsertClipboardContent")?p.execCommand("mceInsertClipboardContent",!1,{content:e}):p.execCommand("mceInsertContent",!1,e)}function n(){p.shortcuts.add("meta+a",null,"SelectAll")}function i(){p.on("keydown",function(e){if(!f(e)&&e.keyCode===b){if(!p.getBody().getElementsByTagName("hr").length)return;if(d.isCollapsed()&&0===d.getRng(!0).startOffset){var t=d.getNode(),n=t.previousSibling;if("HR"==t.nodeName)return u.remove(t),void e.preventDefault();n&&n.nodeName&&"hr"===n.nodeName.toLowerCase()&&(u.remove(n),e.preventDefault())}}})}function r(){p.on("keydown",function(e){if(!f(e)&&e.keyCode===b&&d.isCollapsed()&&0===d.getRng(!0).startOffset){var t=d.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}})}function o(){p.inline||(p.contentStyles.push("body {min-height: 150px}"),p.on("click",function(e){var t;if("HTML"==e.target.nodeName){if(11<B.ie)return void p.getBody().focus();t=p.selection.getRng(),p.getBody().focus(),p.selection.setRng(t),p.selection.normalize(),p.nodeChanged()}}))}function a(){}function s(){function n(e){var t=new F(e.getBody()),n=e.selection.getRng(),i=H.fromRangeStart(n),r=H.fromRangeEnd(n),o=t.prev(i),a=t.next(r);return!e.selection.isCollapsed()&&(!o||o.isAtStart()&&i.isEqual(o))&&(!a||a.isAtEnd()&&i.isEqual(a))}p.on("keypress",function(e){!f(e)&&!d.isCollapsed()&&31<e.charCode&&!k.metaKeyPressed(e)&&n(p)&&(e.preventDefault(),p.setContent(String.fromCharCode(e.charCode)),p.selection.select(p.getBody(),!0),p.selection.collapse(!1),p.nodeChanged())}),p.on("keydown",function(e){var t=e.keyCode;f(e)||t!=C&&t!=b||n(p)&&(e.preventDefault(),p.setContent(""),p.nodeChanged())})}var l,c=L.each,y=p.$,b=k.BACKSPACE,C=k.DELETE,u=p.dom,d=p.selection,h=p.settings,x=p.parser,w=p.serializer,_=B.gecko,E=B.ie,T=B.webkit,S="data:text/mce-internal,",N=E?"Text":"URL";return p.on("keydown",function(e){var t,n,i,r,o;if(!f(e)&&e.keyCode==k.BACKSPACE&&(n=(t=d.getRng()).startContainer,i=t.startOffset,r=u.getRoot(),o=n,t.collapsed&&0===i)){for(;o&&o.parentNode&&o.parentNode.firstChild==o&&o.parentNode!=r;)o=o.parentNode;"BLOCKQUOTE"===o.tagName&&(p.formatter.toggle("blockquote",null,o),(t=u.createRng()).setStart(n,0),t.setEnd(n,0),d.setRng(t))}}),function(){function r(e){var t=u.create("body"),n=e.cloneContents();return t.appendChild(n),d.serializer.serialize(t,{format:"html"})}p.on("keydown",function(e){var t,n,i=e.keyCode;if(!f(e)&&(i==C||i==b)){if(t=p.selection.isCollapsed(),n=p.getBody(),t&&!u.isEmpty(n))return;if(!t&&!function(e){if(!e.setStart){if(e.item)return!1;var t=e.duplicate();return t.moveToElementText(p.getBody()),A.compareRanges(e,t)}var n=r(e),i=u.createRng();return i.selectNode(p.getBody()),n===r(i)}(p.selection.getRng()))return;e.preventDefault(),p.setContent(""),n.firstChild&&u.isBlock(n.firstChild)?p.selection.setCursorLocation(n.firstChild,0):p.selection.setCursorLocation(n,0),p.nodeChanged()}})}(),B.windowsPhone||p.on("keyup focusin mouseup",function(e){65==e.keyCode&&k.metaKeyPressed(e)||d.normalize()},!0),T&&(s(),function(){function a(e){var t=h.schema.getBlockElements(),n=p.getBody();if("BR"!=e.nodeName)return!1;for(;e!=n&&!t[e.nodeName];e=e.parentNode)if(e.nextSibling)return!1;return!0}function c(e,t){var n;for(n=e.nextSibling;n&&n!=t;n=n.nextSibling)if((3!=n.nodeType||0!==y.trim(n.data).length)&&n!==t)return!1;return n===t}function u(e,t,n){var i,r,o;if(h.isChildOf(e,p.getBody()))for(o=h.schema.getNonEmptyElements(),i=new D(n||e,e);r=i[t?"next":"prev"]();){if(o[r.nodeName]&&!a(r))return r;if(3==r.nodeType&&0<r.data.length)return r}}function n(e){var t=l.getRng();if(function(e){var t,n,i,r,o;if(!e.collapsed&&(t=h.getParent(A.getNode(e.startContainer,e.startOffset),h.isBlock),n=h.getParent(A.getNode(e.endContainer,e.endOffset),h.isBlock),o=p.schema.getTextBlockElements(),t!=n&&o[t.nodeName]&&o[n.nodeName]&&"false"!==h.getContentEditable(t)&&"false"!==h.getContentEditable(n)))return e.deleteContents(),i=u(t,!1),r=u(n,!0),h.isEmpty(n)||y(t).append(n.childNodes),y(n).remove(),i?1==i.nodeType?"BR"==i.nodeName?(e.setStartBefore(i),e.setEndBefore(i)):(e.setStartAfter(i),e.setEndAfter(i)):(e.setStart(i,i.data.length),e.setEnd(i,i.data.length)):r&&(1==r.nodeType?(e.setStartBefore(r),e.setEndBefore(r)):(e.setStart(r,0),e.setEnd(r,0))),l.setRng(e),!0}(t=function(e,t){var n,i,r,o,a,s;if(!e.collapsed)return e;if(a=e.startContainer,s=e.startOffset,3==a.nodeType)if(t){if(s<a.data.length)return e}else if(0<s)return e;n=A.getNode(a,s),r=h.getParent(n,h.isBlock),i=u(p.getBody(),t,n),o=h.getParent(i,h.isBlock);var l=1===a.nodeType&&s>a.childNodes.length-1;if(!n||!i)return e;if(o&&r!=o)if(t){if(!c(r,o))return e;1==n.nodeType?"BR"==n.nodeName?e.setStartBefore(n):e.setStartAfter(n):e.setStart(n,n.data.length),1==i.nodeType?e.setEnd(i,0):e.setEndBefore(i)}else{if(!c(o,r))return e;1==i.nodeType?"BR"==i.nodeName?e.setStartBefore(i):e.setStartAfter(i):e.setStart(i,i.data.length),1==n.nodeType&&l?e.setEndAfter(n):e.setEndBefore(n)}return e}(t,e)))return!0}function s(e){var t,i,r;n(e)||(L.each(p.getBody().getElementsByTagName("*"),function(e){"SPAN"==e.tagName&&e.setAttribute("mce-data-marked",1),!e.hasAttribute("data-mce-style")&&e.hasAttribute("style")&&p.dom.setAttrib(e,"style",p.dom.getAttrib(e,"style"))}),(t=new d(function(){})).observe(p.getDoc(),{childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"]}),p.getDoc().execCommand(e?"ForwardDelete":"Delete",!1,null),i=p.selection.getRng(),r=i.startContainer.parentNode,L.each(t.takeRecords(),function(e){if(h.isChildOf(e.target,p.getBody())){if("style"==e.attributeName){var t=e.target.getAttribute("data-mce-style");t?e.target.setAttribute("style",t):e.target.removeAttribute("style")}L.each(e.addedNodes,function(e){var t,n;"SPAN"!=e.nodeName||e.getAttribute("mce-data-marked")||(e==r&&(t=i.startOffset,n=e.firstChild),h.remove(e,!0),n&&(i.setStart(n,t),i.setEnd(n,t),p.selection.setRng(i)))})}}),t.disconnect(),L.each(p.dom.select("span[mce-data-marked]"),function(e){e.removeAttribute("mce-data-marked")}))}function i(e){p.undoManager.transact(function(){s(e)})}var e,r,o=p.getDoc(),h=p.dom,l=p.selection,d=window.MutationObserver;d||(e=!0,d=function(){function t(e){var t=e.relatedNode||e.target;r.push({target:t,addedNodes:[t]})}function n(e){var t=e.relatedNode||e.target;r.push({target:t,attributeName:e.attrName})}var i,r=[];this.observe=function(e){(i=e).addEventListener("DOMSubtreeModified",t,!1),i.addEventListener("DOMNodeInsertedIntoDocument",t,!1),i.addEventListener("DOMNodeInserted",t,!1),i.addEventListener("DOMAttrModified",n,!1)},this.disconnect=function(){i.removeEventListener("DOMSubtreeModified",t,!1),i.removeEventListener("DOMNodeInsertedIntoDocument",t,!1),i.removeEventListener("DOMNodeInserted",t,!1),i.removeEventListener("DOMAttrModified",n,!1)},this.takeRecords=function(){return r}}),p.on("keydown",function(e){var t=e.keyCode==C,n=e.ctrlKey||e.metaKey;if(!f(e)&&(t||e.keyCode==b)){var i=p.selection.getRng(),r=i.startContainer,o=i.startOffset;if(t&&e.shiftKey)return;if(function(e,n){function t(e,t){return f=y(t).parents().filter(function(e,t){return!!p.schema.getTextInlineElements()[t.nodeName]}),a=e.cloneNode(!1),(f=L.map(f,function(e){return e=e.cloneNode(!1),a.hasChildNodes()&&e.appendChild(a.firstChild),a.appendChild(e),a.appendChild(e),e})).length?(d=h.create("br"),f[0].appendChild(d),h.replace(a,e),n.setStartBefore(d),n.setEndBefore(d),p.selection.setRng(n),d):null}function i(e){return e&&p.schema.getTextBlockElements()[e.tagName]}var r,o,a,s,l,c,u,d,f;if(n.collapsed&&(c=n.startContainer,u=n.startOffset,i(o=h.getParent(c,h.isBlock))))if(1==c.nodeType){if((c=c.childNodes[u])&&"BR"!=c.tagName)return;if(l=e?o.nextSibling:o.previousSibling,h.isEmpty(o)&&i(l)&&h.isEmpty(l)&&t(o,c))return h.remove(l),!0}else if(3==c.nodeType){if(r=R.create(o,c),s=o.cloneNode(!0),c=R.resolve(s,r),e){if(u>=c.data.length)return;c.deleteData(u,1)}else{if(u<=0)return;c.deleteData(u-1,1)}if(h.isEmpty(s))return t(o,c)}}(t,i))return void e.preventDefault();if(!n&&i.collapsed&&3==r.nodeType&&(t?o<r.data.length:0<o))return;e.preventDefault(),n&&p.selection.getSel().modify("extend",t?"forward":"backward",e.metaKey?"lineboundary":"word"),s(t)}}),p.on("keypress",function(e){var t,n,i,r,o,a;!f(e)&&!l.isCollapsed()&&31<e.charCode&&!k.metaKeyPressed(e)&&(t=p.selection.getRng(),a=String.fromCharCode(e.charCode),e.preventDefault(),n=y(t.startContainer).parents().filter(function(e,t){return!!p.schema.getTextInlineElements()[t.nodeName]}),s(!0),(n=n.filter(function(e,t){return!y.contains(p.getBody(),t)})).length?(i=h.createFragment(),n.each(function(e,t){t=t.cloneNode(!1),i.hasChildNodes()?t.appendChild(i.firstChild):o=t,i.appendChild(t),i.appendChild(t)}),o.appendChild(p.getDoc().createTextNode(a)),r=h.getParent(t.startContainer,h.isBlock),h.isEmpty(r)?y(r).empty().append(i):t.insertNode(i),t.setStart(o.firstChild,1),t.setEnd(o.firstChild,1),p.selection.setRng(t)):p.selection.setContent(a))}),p.addCommand("Delete",function(){s()}),p.addCommand("ForwardDelete",function(){s(!0)}),e||(p.on("dragstart",function(e){r=l.getRng(),g(e)}),p.on("drop",function(t){if(!f(t)){var n=m(t);n&&(t.preventDefault(),P.setEditorTimeout(p,function(){var e=A.getCaretRangeFromPoint(t.x,t.y,o);r&&(l.setRng(r),r=null,i()),l.setRng(e),v(n.html)}))}}),p.on("cut",function(e){f(e)||!e.clipboardData||p.selection.isCollapsed()||(e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/html",p.selection.getContent()),e.clipboardData.setData("text/plain",p.selection.getContent({format:"text"})),P.setEditorTimeout(p,function(){i(!0)}))}))}(),p.settings.content_editable||u.bind(p.getDoc(),"mousedown mouseup",function(e){var t;if(e.target==p.getDoc().documentElement)if(t=d.getRng(),p.getBody().focus(),"mousedown"==e.type){if(M.isCaretContainer(t.startContainer))return;d.placeCaretAt(e.clientX,e.clientY)}else d.setRng(t)}),p.on("click",function(e){var t=e.target;/^(IMG|HR)$/.test(t.nodeName)&&"false"!==u.getContentEditableParent(t)&&(e.preventDefault(),d.select(t),p.nodeChanged()),"A"==t.nodeName&&u.hasClass(t,"mce-item-anchor")&&(e.preventDefault(),d.select(t))}),h.forced_root_block&&p.on("init",function(){e("DefaultParagraphSeparator",h.forced_root_block)}),p.on("init",function(){p.dom.bind(p.getBody(),"submit",function(e){e.preventDefault()})}),r(),x.addNodeFilter("br",function(e){for(var t=e.length;t--;)"Apple-interchange-newline"==e[t].attr("class")&&e[t].remove()}),B.iOS?(p.inline||p.on("keydown",function(){document.activeElement==document.body&&p.getWin().focus()}),o(),p.on("click",function(e){var t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)}),p.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")):n()),E&&B.ie<11&&(i(),document.body.setAttribute("role","application"),7<t()||(e("RespectVisibilityInDesign",!0),p.contentStyles.push(".mceHideBrInPre pre br {display: none}"),u.addClass(p.getBody(),"mceHideBrInPre"),x.addNodeFilter("pre",function(e){for(var t,n,i,r,o=e.length;o--;)for(n=(t=e[o].getAll("br")).length;n--;)(r=(i=t[n]).prev)&&3===r.type&&"\n"!=r.value.charAt(r.value-1)?r.value+="\n":i.parent.insert(new O("#text",3),i,!0).value="\n"}),w.addNodeFilter("pre",function(e){for(var t,n,i,r=e.length;r--;)for(n=(t=e[r].getAll("br")).length;n--;)(i=t[n].prev)&&3==i.type&&(i.value=i.value.replace(/\r?\n$/,""))})),u.bind(p.getBody(),"mouseup",function(){var e,t=d.getNode();"IMG"==t.nodeName&&((e=u.getStyle(t,"width"))&&(u.setAttrib(t,"width",e.replace(/[^0-9%]+/g,"")),u.setStyle(t,"width","")),(e=u.getStyle(t,"height"))&&(u.setAttrib(t,"height",e.replace(/[^0-9%]+/g,"")),u.setStyle(t,"height","")))}),p.on("keydown",function(e){var t;f(e)||e.keyCode!=b||(t=p.getDoc().selection.createRange())&&t.item&&(e.preventDefault(),p.undoManager.beforeChange(),u.remove(t.item(0)),p.undoManager.add())}),10<=t()&&(l="",c("p div h1 h2 h3 h4 h5 h6".split(" "),function(e,t){l+=(0<t?",":"")+e+":empty"}),p.contentStyles.push(l+"{padding-right: 1px !important}")),t()<9&&(x.addNodeFilter("noscript",function(e){for(var t,n,i=e.length;i--;)(n=(t=e[i]).firstChild)&&t.attr("data-mce-innertext",n.value)}),w.addNodeFilter("noscript",function(e){for(var t,n,i,r=e.length;r--;)t=e[r],(n=e[r].firstChild)?n.value=I.decode(n.value):(i=t.attributes.map["data-mce-innertext"])&&(t.attr("data-mce-innertext",null),(n=new O("#text",3)).value=i,n.raw=!0,t.append(n))})),function(){function n(e,t){var n=l.createTextRange();try{n.moveToPoint(e,t)}catch(e){n=null}return n}function t(e){var t;e.button?(t=n(e.x,e.y))&&(0<t.compareEndPoints("StartToStart",o)?t.setEndPoint("StartToStart",o):t.setEndPoint("EndToEnd",o),t.select()):i()}function i(){var e=s.selection.createRange();o&&!e.item&&0===e.compareEndPoints("StartToEnd",e)&&o.select(),u.unbind(s,"mouseup",i),u.unbind(s,"mousemove",t),o=r=0}var r,o,a,s=u.doc,l=s.body;s.documentElement.unselectable=!0,u.bind(s,"mousedown contextmenu",function(e){if("HTML"===e.target.nodeName){if(r&&i(),(a=s.documentElement).scrollHeight>a.clientHeight)return;r=1,(o=n(e.x,e.y))&&(u.bind(s,"mouseup",i),u.bind(s,"mousemove",t),u.getRoot().focus(),o.select())}})}()),11<=B.ie&&(o(),r()),B.ie&&(n(),e("AutoUrlDetect",!1),p.on("dragstart",function(e){g(e)}),p.on("drop",function(e){if(!f(e)){var t=m(e);if(t&&t.id!=p.id){e.preventDefault();var n=A.getCaretRangeFromPoint(e.x,e.y,p.getDoc());d.setRng(n),v(t.html)}}})),_&&(s(),i(),window.Range.prototype.getClientRects||p.on("mousedown",function(e){if(!f(e)&&"HTML"===e.target.nodeName){var t=p.getBody();t.blur(),P.setEditorTimeout(p,function(){t.focus()})}}),function(){function n(){var e=u.getAttribs(d.getStart().cloneNode(!1));return function(){var t=d.getStart();t!==p.getBody()&&(u.setAttrib(t,"style",null),c(e,function(e){t.setAttributeNode(e.cloneNode(!0))}))}}function i(){return!d.isCollapsed()&&u.getParent(d.getStart(),u.isBlock)!=u.getParent(d.getEnd(),u.isBlock)}p.on("keypress",function(e){var t;if(!f(e)&&(8==e.keyCode||46==e.keyCode)&&i())return t=n(),p.getDoc().execCommand("delete",!1,null),t(),e.preventDefault(),!1}),u.bind(p.getDoc(),"cut",function(e){var t;!f(e)&&i()&&(t=n(),P.setEditorTimeout(p,function(){t()}))})}(),h.readonly||p.on("BeforeExecCommand MouseDown",function(){e("StyleWithCSS",!1),e("enableInlineTableEditing",!1),h.object_resizing||e("enableObjectResizing",!1)}),p.on("SetContent ExecCommand",function(e){"setcontent"!=e.type&&"mceInsertLink"!==e.command||c(u.select("a"),function(e){var t=e.parentNode,n=u.getRoot();if(t.lastChild===e){for(;t&&!u.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}u.add(t,"br",{"data-mce-bogus":1})}})}),p.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),B.mac&&p.on("keydown",function(e){!k.metaKeyPressed(e)||e.shiftKey||37!=e.keyCode&&39!=e.keyCode||(e.preventDefault(),p.selection.getSel().modify("move",37==e.keyCode?"backward":"forward","lineboundary"))}),r()),{refreshContentEditable:a,isHidden:function(){var e;return _?!(e=p.selection.getSel())||!e.rangeCount||0===e.rangeCount:0}}}}),e(He,[ce,y,d],function(e,t,n){function i(e,t){return"selectionchange"==t?e.getDoc():!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t)?e.getDoc().documentElement:e.settings.event_root?(e.eventRoot||(e.eventRoot=c.select(e.settings.event_root)[0]),e.eventRoot):e.getBody()}function r(o,a){function s(e){return!e.hidden&&!e.readonly}var e,t=i(o,a);if(o.delegates||(o.delegates={}),!o.delegates[a])if(o.settings.event_root){if(l||(l={},o.editorManager.on("removeEditor",function(){var e;if(!o.editorManager.activeEditor&&l){for(e in l)o.dom.unbind(i(o,e));l=null}})),l[a])return;e=function(e){for(var t=e.target,n=o.editorManager.editors,i=n.length;i--;){var r=n[i].getBody();(r===t||c.isChildOf(t,r))&&s(n[i])&&n[i].fire(a,e)}},l[a]=e,c.bind(t,a,e)}else e=function(e){s(o)&&o.fire(a,e)},c.bind(t,a,e),o.delegates[a]=e}var l,c=t.DOM,o={bindPendingEventDelegates:function(){var t=this;n.each(t._pendingNativeEvents,function(e){r(t,e)})},toggleNativeEvent:function(e,t){var n=this;"focus"!=e&&"blur"!=e&&(t?n.initialized?r(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(i(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e,t=this;if(t.delegates){for(e in t.delegates)t.dom.unbind(i(t,e),e,t.delegates[e]);delete t.delegates}t.inline||(t.getBody().onload=null,t.dom.unbind(t.getWin()),t.dom.unbind(t.getDoc())),t.dom.unbind(t.getBody()),t.dom.unbind(t.getContainer())}};return n.extend({},e,o)}),e(Fe,[],function(){function o(e,t,n){try{e.getDoc().execCommand(t,!1,n)}catch(e){}}function i(e,t){var n,i,r;e._clickBlocker&&(e._clickBlocker.unbind(),e._clickBlocker=null),t?(e._clickBlocker=(i=(n=e).getBody(),r=function(e){0<n.dom.getParents(e.target,"a").length&&e.preventDefault()},n.dom.bind(i,"click",r),{unbind:function(){n.dom.unbind(i,"click",r)}}),e.selection.controlSelection.hideResizeRect(),e.readonly=!0,e.getBody().contentEditable=!1):(e.readonly=!1,o(e,"StyleWithCSS",!(e.getBody().contentEditable=!0)),o(e,"enableInlineTableEditing",!1),o(e,"enableObjectResizing",!1),e.focus(),e.nodeChanged())}return{setMode:function(e,t){var n=e.readonly?"readonly":"design";t!=n&&(e.initialized?i(e,"readonly"==t):e.on("init",function(){i(e,"readonly"==t)}),e.fire("SwitchMode",{mode:t}))}}}),e($e,[d,r],function(u,d){var f=u.each,h=u.explode,p={f9:120,f10:121,f11:122},g=u.makeMap("alt,ctrl,shift,meta,access");return function(o){function a(e){var t,n,i={};for(n in f(h(e,"+"),function(e){e in g?i[e]=!0:/^[0-9]{2,}$/.test(e)?i.keyCode=parseInt(e,10):(i.charCode=e.charCodeAt(0),i.keyCode=p[e]||e.toUpperCase().charCodeAt(0))}),t=[i.keyCode],g)i[n]?t.push(n):i[n]=!1;return i.id=t.join(","),i.access&&(i.alt=!0,d.mac?i.ctrl=!0:i.shift=!0),i.meta&&(d.mac?i.meta=!0:(i.ctrl=!0,i.meta=!1)),i}function s(e,t,n,i){var r;return(r=u.map(h(e,">"),a))[r.length-1]=u.extend(r[r.length-1],{func:n,scope:i||o}),u.extend(r[0],{desc:o.translate(t),subpatterns:r.slice(1)})}function i(e,t){return!!t&&t.ctrl==e.ctrlKey&&t.meta==e.metaKey&&t.alt==e.altKey&&t.shift==e.shiftKey&&!!(e.keyCode==t.keyCode||e.charCode&&e.charCode==t.charCode)&&(e.preventDefault(),!0)}function r(e){return e.func?e.func.call(e.scope):null}var l={},c=[];o.on("keyup keypress keydown",function(t){var e,n;!((n=t).altKey||n.ctrlKey||n.metaKey||"keydown"===(e=t).type&&112<=e.keyCode&&e.keyCode<=123)||t.isDefaultPrevented()||(f(l,function(e){if(i(t,e))return c=e.subpatterns.slice(0),"keydown"==t.type&&r(e),!0}),i(t,c[0])&&(1===c.length&&"keydown"==t.type&&r(c[0]),c.shift()))}),this.add=function(e,n,i,r){var t;return"string"==typeof(t=i)?i=function(){o.execCommand(t,!1,null)}:u.isArray(t)&&(i=function(){o.execCommand(t[0],t[1],t[2])}),f(h(u.trim(e.toLowerCase())),function(e){var t=s(e,n,i,r);l[t.id]=t}),!0},this.remove=function(e){var t=s(e);return!!l[t.id]&&(delete l[t.id],!0)}}}),e(je,[n,d,P],function(s,l,g){return function(d,a){function n(e,i,r,t){var o,n;(o=new XMLHttpRequest).open("POST",a.url),o.withCredentials=a.credentials,o.upload.onprogress=function(e){t(e.loaded/e.total*100)},o.onerror=function(){r("Image upload failed due to a XHR Transport error. Code: "+o.status)},o.onload=function(){var e,t,n;return 200!=o.status?void r("HTTP Error: "+o.status):(e=JSON.parse(o.responseText))&&"string"==typeof e.location?void i((t=a.basePath,n=e.location,t?t.replace(/\/$/,"")+"/"+n.replace(/^\//,""):n)):void r("Invalid JSON: "+o.responseText)},(n=new FormData).append("file",e.blob(),e.filename()),o.send(n)}function f(e,t){return{url:t,blobInfo:e,status:!0}}function h(e,t){return{url:"",blobInfo:e,status:!1,error:t}}function p(e,t){l.each(o[e],function(e){e(t)}),delete o[e]}function i(l,c,u){return d.markPending(l.blobUri()),new s(function(t){var n,e,i,r,o,a=function(){};try{var s=function(){n&&(n.close(),e=a)};e=function(e){e<0||100<e||(n||(n=u()),n.progressBar.value(e))},c({id:(i=l).id,blob:i.blob,base64:i.base64,filename:g.constant((r=i,o={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[r.blob().type.toLowerCase()]||"dat",r.filename()+"."+o))},function(e){s(),d.markUploaded(l.blobUri(),e),p(l.blobUri(),f(l,e)),t(f(l,e))},function(e){s(),d.removeFailed(l.blobUri()),p(l.blobUri(),h(l,e)),t(h(l,e))},e)}catch(e){t(h(l,e.message))}})}function r(e,n){return e=l.grep(e,function(e){return!d.isUploaded(e.blobUri())}),s.all(l.map(e,function(e){return d.isPending(e.blobUri())?(t=e.blobUri(),new s(function(e){o[t]=o[t]||[],o[t].push(e)})):i(e,a.handler,n);var t}))}var o={};return a=l.extend({credentials:!1,handler:n},a),{upload:function(e,t){return a.url||a.handler!==n?r(e,t):new s(function(e){e([])})}}}}),e(ze,[n],function(t){function o(e){var t,n;return e=decodeURIComponent(e).split(","),(n=/data:([^;]+)/.exec(e[0]))&&(t=n[1]),{type:t,data:e[1]}}return{uriToBlob:function(e){return 0===e.indexOf("blob:")?(n=e,new t(function(e){var t=new XMLHttpRequest;t.open("GET",n,!0),t.responseType="blob",t.onload=function(){200==this.status&&e(this.response)},t.send()})):0===e.indexOf("data:")?(r=e,new t(function(t){var e,n,i;r=o(r);try{e=atob(r.data)}catch(e){return void t(new Blob([]))}for(n=new Uint8Array(e.length),i=0;i<n.length;i++)n[i]=e.charCodeAt(i);t(new Blob([n],{type:r.type}))})):null;var r,n},blobToDataUri:function(n){return new t(function(e){var t=new FileReader;t.onloadend=function(){e(t.result)},t.readAsDataURL(n)})},parseDataUri:o}}),e(We,[n,u,P,ze,r],function(l,a,c,u,d){var t=0,f=function(e){return(e||"blobid")+t++};return function(r,s){var o={};return{findAll:function(e,n){var t,i;return n||(n=c.constant(!0)),t=a.filter(e.getElementsByTagName("img"),function(e){var t=e.src;return!!d.fileApi&&!e.hasAttribute("data-mce-bogus")&&!e.hasAttribute("data-mce-placeholder")&&!(!t||t==d.transparentSrc)&&(0===t.indexOf("blob:")?!r.isUploaded(t):0===t.indexOf("data:")&&n(e))}),i=a.map(t,function(a){var e;return o[a.src]?new l(function(t){o[a.src].then(function(e){t({image:a,blobInfo:e.blobInfo})})}):(e=new l(function(e){var n,i,r,o;i=e,0===(n=a).src.indexOf("blob:")?(o=s.getByUri(n.src))?i({image:n,blobInfo:o}):u.uriToBlob(n.src).then(function(t){u.blobToDataUri(t).then(function(e){r=u.parseDataUri(e).data,o=s.create(f(),t,r),s.add(o),i({image:n,blobInfo:o})})}):(r=u.parseDataUri(n.src).data,(o=s.findFirst(function(e){return e.base64()===r}))?i({image:n,blobInfo:o}):u.uriToBlob(n.src).then(function(e){o=s.create(f(),e,r),s.add(o),i({image:n,blobInfo:o})}))}).then(function(e){return delete o[e.image.src],e}).catch(function(e){return delete o[a.src],e}),o[a.src]=e)}),l.all(i)}}}}),e(qe,[u,P],function(i,o){return function(){function t(t){return e(function(e){return e.id()===t})}function e(e){return i.filter(n,e)[0]}var n=[],r=o.constant;return{create:function(e,t,n,i){return{id:r(e),filename:r(i||e),blob:r(t),base64:r(n),blobUri:r(URL.createObjectURL(t))}},add:function(e){t(e.id())||n.push(e)},get:t,getByUri:function(t){return e(function(e){return e.blobUri()==t})},findFirst:e,removeByUri:function(t){n=i.filter(n,function(e){return e.blobUri()!==t||(URL.revokeObjectURL(e.blobUri()),!1)})},destroy:function(){i.each(n,function(e){URL.revokeObjectURL(e.blobUri())}),n=[]}}}}),e(Ue,[],function(){return function(){function n(e,t){return{status:e,resultUri:t}}function t(e){return e in o}var i=1,r=2,o={};return{hasBlobUri:t,getResultUri:function(e){var t=o[e];return t?t.resultUri:null},isPending:function(e){return!!t(e)&&o[e].status===i},isUploaded:function(e){return!!t(e)&&o[e].status===r},markPending:function(e){o[e]=n(i,null)},markUploaded:function(e,t){o[e]=n(r,t)},removeFailed:function(e){delete o[e]},destroy:function(){o={}}}}}),e(Ve,[C],function(e){var i=e.PluginManager,n=function(e,t){var n=function(e,t){for(var n in i.urls)if(i.urls[n]+"/plugin"+t+".js"===e)return n;return null}(t,e.suffix);return n?"Failed to load plugin: "+n+" from url "+t:"Failed to load plugin url: "+t},r=function(e,t){e.notificationManager.open({type:"error",text:t})},o=function(e,t){e._skinLoaded?r(e,t):e.on("SkinLoaded",function(){r(e,t)})};return{pluginLoadError:function(e,t){o(e,n(e,t))},uploadError:function(e,t){o(e,"Failed to upload image: "+t)}}}),e(Ye,[u,je,We,qe,Ue,Ve],function(v,y,b,C,x,w){return function(r){function n(t){return function(e){return r.selection?t(e):[]}}function i(e,t,n){for(var i=0;-1!==(i=e.indexOf(t,i))&&(e=e.substring(0,i)+n+e.substr(i+t.length),i+=n.length-t.length+1),-1!==i;);return e}function o(e,t,n){return i(e=i(e,'src="'+t+'"','src="'+n+'"'),'data-mce-src="'+t+'"','data-mce-src="'+n+'"')}function a(t,n){v.each(r.undoManager.data,function(e){"fragmented"===e.type?e.fragments=v.map(e.fragments,function(e){return o(e,t,n)}):e.content=o(e.content,t,n)})}function s(){return r.notificationManager.open({text:r.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}function l(e,t){p.removeByUri(e.src),a(e.src,t),r.$(e).attr({src:g.images_reuse_filename?t+"?"+(new Date).getTime():t,"data-mce-src":r.convertURL(t,"src")})}function t(t){return f||(f=new y(m,{url:g.images_upload_url,basePath:g.images_upload_base_path,credentials:g.images_upload_credentials,handler:g.images_upload_handler})),u().then(n(function(i){var e;return e=v.map(i,function(e){return e.blobInfo}),f.upload(e,s).then(n(function(e){return e=v.map(e,function(e,t){var n=i[t].image;return e.status&&!1!==r.settings.images_replace_blob_uris?l(n,e.url):e.error&&w.uploadError(r,e.error),{element:n,status:e.status}}),t&&t(e),e}))}))}function e(e){if(!1!==g.automatic_uploads)return t(e)}function c(e){return!g.images_dataimg_filter||g.images_dataimg_filter(e)}function u(){return h||(h=new b(m,p)),h.findAll(r.getBody(),c).then(n(function(e){return v.each(e,function(e){a(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")}),e}))}function d(e){return e.replace(/src="(blob:[^"]+)"/g,function(e,n){var t=m.getResultUri(n);if(t)return'src="'+t+'"';var i=p.getByUri(n);return i||(i=v.reduce(r.editorManager.editors,function(e,t){return e||t.editorUpload.blobCache.getByUri(n)},null)),i?'src="data:'+i.blob().type+";base64,"+i.base64()+'"':e})}var f,h,p=new C,g=r.settings,m=new x;return r.on("setContent",function(){!1!==r.settings.automatic_uploads?e():u()}),r.on("RawSaveContent",function(e){e.content=d(e.content)}),r.on("getContent",function(e){e.source_view||"raw"==e.format||(e.content=d(e.content))}),r.on("PostRender",function(){r.parser.addNodeFilter("img",function(e){v.each(e,function(e){var t=e.attr("src");if(!p.getByUri(t)){var n=m.getResultUri(t);n&&e.attr("src",n)}})})}),{blobCache:p,uploadImages:t,uploadImagesAuto:e,scanForImages:u,destroy:function(){p.destroy(),m.destroy(),h=f=null}}}}),e(Ke,[_,$,x,E,f,H,i],function(y,e,t,n,b,C,x){var w=t.isContentEditableFalse;return function(f,h){function p(){(function(){var e,t,n,i,r;for(e=b("*[contentEditable=false]",f),i=0;i<e.length;i++)n=(t=e[i]).previousSibling,y.endsWithCaretContainer(n)&&(1==(r=n.data).length?n.parentNode.removeChild(n):n.deleteData(r.length-1,1)),n=t.nextSibling,y.startsWithCaretContainer(n)&&(1==(r=n.data).length?n.parentNode.removeChild(n):n.deleteData(0,1))})(),v&&(y.remove(v),v=null),m&&(m.remove(),m=null),clearInterval(g)}var g,m,v;return{show:function(e,t){var n,i,r,o,a,s,l,c,u,d;return p(),h(t)?(v=y.insertBlock("p",t,e),r=t,o=e,d=C.collapse(r.getBoundingClientRect(),o),"BODY"==f.tagName?(a=f.ownerDocument.documentElement,s=f.scrollLeft||a.scrollLeft,l=f.scrollTop||a.scrollTop):(u=f.getBoundingClientRect(),s=f.scrollLeft-u.left,l=f.scrollTop-u.top),d.left+=s,d.right+=s,d.top+=l,d.bottom+=l,d.width=1,0<(c=r.offsetWidth-r.clientWidth)&&(o&&(c*=-1),d.left+=c,d.right+=c),n=d,b(v).css("top",n.top),m=b('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(n).appendTo(f),e&&m.addClass("mce-visual-caret-before"),g=x.setInterval(function(){b("div.mce-visual-caret",f).toggleClass("mce-visual-caret-hidden")},500),(i=t.ownerDocument.createRange()).setStart(v,0),i.setEnd(v,0)):(v=y.insertInline(t,e),i=t.ownerDocument.createRange(),w(v.nextSibling)?(i.setStart(v,0),i.setEnd(v,0)):(i.setStart(v,1),i.setEnd(v,1))),i},hide:p,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},destroy:function(){x.clearInterval(g)}}}}),e(Xe,[u,x,H],function(r,o,a){return{getClientRects:function n(t){function e(e){return r.map(e,function(e){return(e=a.clone(e)).node=t,e})}if(r.isArray(t))return r.reduce(t,function(e,t){return e.concat(n(t))},[]);if(o.isElement(t))return e(t.getClientRects());if(o.isText(t)){var i=t.ownerDocument.createRange();return i.setStart(t,0),i.setEnd(t,t.data.length),e(i.getClientRects())}}}}),e(Ge,[P,u,Xe,M,ee,te,$,H],function(e,p,d,f,h,g,m,v){function t(r,o,a,e,s,t){function n(e){var t,n,i;for(i=d.getClientRects(e),-1==r&&(i=i.reverse()),t=0;t<i.length;t++)if(n=i[t],!a(n,l)){if(0<u.length&&o(n,p.last(u))&&c++,n.line=c,s(n))return!0;u.push(n)}}var i,l,c=0,u=[];return(l=p.last(t.getClientRects()))&&(n(i=t.getNode()),function(e,t,n,i){for(;i=h.findNode(i,e,f.isEditableCaretCandidate,t);)if(n(i))return}(r,e,n,i)),u}var n=e.curry;return{upUntil:n(t,-1,v.isAbove,v.isBelow),downUntil:n(t,1,v.isBelow,v.isAbove),positionsUntil:function(e,t,n,i){function r(e){return p.last(e.getClientRects())}var o,a,s,l,c,u,d=new g(t),f=[],h=0;1==e?(o=d.next,a=v.isBelow,s=v.isAbove,l=m.after(i)):(o=d.prev,a=v.isAbove,s=v.isBelow,l=m.before(i)),u=r(l);do{if(l.isVisible()&&!s(c=r(l),u)){if(0<f.length&&a(c,p.last(f))&&h++,(c=v.clone(c)).position=l,c.line=h,n(c))return f;f.push(c)}}while(l=o(l));return f},isAboveLine:n(function(e,t){return t.line>e}),isLine:n(function(e,t){return t.line===e})}}),e(Qe,[P,u,x,Xe,H,ee,M],function(e,l,t,c,n,i,r){function u(e,t){return Math.abs(e.left-t)}function d(e,t){return Math.abs(e.right-t)}function f(e,r){function o(e,t){return e>=t.left&&e<=t.right}return l.reduce(e,function(e,t){var n,i;return n=Math.min(u(e,r),d(e,r)),i=Math.min(u(t,r),d(t,r)),o(r,t)?t:o(r,e)?e:i==n&&p(t.node)?t:i<n?t:e})}function o(e,t,n,i){for(;i=a(i,e,r.isEditableCaretCandidate,t);)if(n(i))return}function h(e,i){function t(t,e){var n;return n=l.filter(c.getClientRects(e),function(e){return!t(e,i)}),r=r.concat(n),0===n.length}var r=[];return r.push(i),o(-1,e,s(t,n.isAbove),i.node),o(1,e,s(t,n.isBelow),i.node),r}var p=t.isContentEditableFalse,a=i.findNode,s=e.curry;return{findClosestClientRect:f,findLineNodeRects:h,closestCaret:function(e,t,n){var i,r,o,a,s;return i=c.getClientRects((s=e,l.filter(l.toArray(s.getElementsByTagName("*")),p))),(r=f(i=l.filter(i,function(e){return n>=e.top&&n<=e.bottom}),t))&&(r=f(h(e,r),t))&&p(r.node)?(a=t,{node:(o=r).node,before:u(o,a)<d(o,a)}):null}}}),e(Je,[],function(){var c=function(e){var t,n,i,r;return r=e.getBoundingClientRect(),n=(t=e.ownerDocument).documentElement,i=t.defaultView,{top:r.top+i.pageYOffset-n.clientTop,left:r.left+i.pageXOffset-n.clientLeft}};return{calc:function(e,t){return n=(s=e).inline?c(s.getBody()):{left:0,top:0},a=(o=e).getBody(),i=o.inline?{left:a.scrollLeft,top:a.scrollTop}:{left:0,top:0},{pageX:(r=function(e,t){if(t.target.ownerDocument!==e.getDoc()){var n=c(e.getContentAreaContainer()),i=(o=(r=e).getBody(),a=r.getDoc().documentElement,s={left:o.scrollLeft,top:o.scrollTop},l={left:o.scrollLeft||a.scrollLeft,top:o.scrollTop||a.scrollTop},r.inline?s:l);return{left:t.pageX-n.left+i.left,top:t.pageY-n.top+i.top}}var r,o,a,s,l;return{left:t.pageX,top:t.pageY}}(e,t)).left-n.left+i.left,pageY:r.top-n.top+i.top};var n,i,r,o,a,s}}}),e(Ze,[x,u,P,i,y,Je],function(e,c,u,d,f,y){var h=e.isContentEditableFalse,p=e.isContentEditableTrue,g=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},b=function(s,l){return function(e){if(0===e.button){var t=c.find(l.dom.getParents(e.target),u.or(h,p));if(o=l.getBody(),h(a=t)&&a!==o){var n=l.dom.getPos(t),i=l.getBody(),r=l.getDoc().documentElement;s.element=t,s.screenX=e.screenX,s.screenY=e.screenY,s.maxX=(l.inline?i.scrollWidth:r.offsetWidth)-2,s.maxY=(l.inline?i.scrollHeight:r.offsetHeight)-2,s.relX=e.pageX-n.x,s.relY=e.pageY-n.y,s.width=t.offsetWidth,s.height=t.offsetHeight,s.ghost=function(e,t,n,i){var r=t.cloneNode(!0);e.dom.setStyles(r,{width:n,height:i}),e.dom.setAttrib(r,"data-mce-selected",null);var o=e.dom.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return e.dom.setStyles(o,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:i}),e.dom.setStyles(r,{margin:0,boxSizing:"border-box"}),o.appendChild(r),o}(l,t,s.width,s.height)}}var o,a}},C=function(u,d){return function(e){if(u.dragging&&(l=(o=d).selection,c=l.getSel().getRangeAt(0).startContainer,a=3===c.nodeType?c.parentNode:c,s=u.element,a!==s&&!o.dom.isChildOf(a,s)&&!h(a))){var t=(i=u.element,(r=i.cloneNode(!0)).removeAttribute("data-mce-selected"),r),n=d.fire("drop",{targetClone:t,clientX:e.clientX,clientY:e.clientY});n.isDefaultPrevented()||(t=n.targetClone,d.undoManager.transact(function(){g(u.element),d.insertContent(d.dom.getOuterHTML(t)),d._selectionOverrides.hideFakeCaret()}))}var i,r,o,a,s,l,c;x(u)}},x=function(e){e.dragging=!1,e.element=null,g(e.ghost)},t=function(e){var t,n,i,r,o,a,s,l,g,m,v,c={};t=f.DOM,a=document,n=b(c,e),g=c,m=e,v=d.throttle(function(e,t){m._selectionOverrides.hideFakeCaret(),m.selection.placeCaretAt(e,t)},0),i=function(e){var t,n,i,r,o,a,s,l,c,u,d,f,h=Math.max(Math.abs(e.screenX-g.screenX),Math.abs(e.screenY-g.screenY));if(g.element&&!g.dragging&&10<h){if(m.fire("dragstart",{target:g.element}).isDefaultPrevented())return;g.dragging=!0,m.focus()}if(g.dragging){var p=(d=g,{pageX:(f=y.calc(m,e)).pageX-d.relX,pageY:f.pageY+5});c=g.ghost,u=m.getBody(),c.parentNode!==u&&u.appendChild(c),t=g.ghost,n=p,i=g.width,r=g.height,o=g.maxX,a=g.maxY,l=s=0,t.style.left=n.pageX+"px",t.style.top=n.pageY+"px",n.pageX+i>o&&(s=n.pageX+i-o),n.pageY+r>a&&(l=n.pageY+r-a),t.style.width=i-s+"px",t.style.height=r-l+"px",v(e.clientX,e.clientY)}},r=C(c,e),s=c,o=function(){x(s),s.dragging&&l.fire("dragend")},(l=e).on("mousedown",n),e.on("mousemove",i),e.on("mouseup",r),t.bind(a,"mousemove",i),t.bind(a,"mouseup",o),e.on("remove",function(){t.unbind(a,"mousemove",i),t.unbind(a,"mouseup",o)})};return{init:function(e){var n;t(e),(n=e).on("drop",function(e){var t=void 0!==e.clientX?n.getDoc().elementFromPoint(e.clientX,e.clientY):null;(h(t)||h(n.dom.getContentEditableParent(t)))&&e.preventDefault()})}}}),e(et,[r,te,$,_,ee,Ke,Ge,Qe,x,E,H,B,P,u,i,Ze],function(M,H,F,$,f,n,j,z,W,e,q,U,s,V,Y,K){function X(e,t){for(;t=e(t);)if(t.isVisible())return t;return t}var G=s.curry,Q=W.isContentEditableTrue,J=W.isContentEditableFalse,Z=W.isElement,ee=f.isAfterContentEditableFalse,te=f.isBeforeContentEditableFalse,ne=e.getSelectedNode;return function(h){function p(e){return h.dom.isBlock(e)}function g(e){e&&h.selection.setRng(e)}function m(){return h.selection.getRng()}function i(e,t){h.selection.scrollIntoView(e,t)}function v(e,t,n){return h.fire("ShowCaret",{target:t,direction:e,before:n}).isDefaultPrevented()?null:(i(t,-1===e),r.show(n,t))}function y(e){var t,n;return h.fire("BeforeObjectSelected",{target:e}).isDefaultPrevented()?null:((n=(t=e).ownerDocument.createRange()).selectNode(t),n)}function b(e,t){return t=f.normalizeRange(e,O,t),-1==e?F.fromRangeStart(t):F.fromRangeEnd(t)}function o(e,t,n,i){var r,o,a,s,l,c,u,d;return!i.collapsed&&(r=ne(i),J(r))?v(e,r,-1==e):(d=i,s=$.isCaretContainerBlock(d.startContainer),n(o=b(e,i))?y(o.getNode(-1==e)):(o=t(o))?n(o)?v(e,o.getNode(-1==e),1==e):n(a=t(o))&&(l=o,c=a,!(u=f.isInSameBlock(l,c))&&W.isBr(l.getNode())||u)?v(e,a.getNode(-1==e),1==e):s?E(o.toRange()):null:s?i:null)}function a(e,t){var n,i,r;if(t.collapsed&&h.settings.forced_root_block){if(!(n=h.dom.getParent(t.startContainer,"PRE")))return;(1==e?I(F.fromRangeStart(t)):B(F.fromRangeStart(t)))||(r=h.dom.create(h.settings.forced_root_block),(!M.ie||11<=M.ie)&&(r.innerHTML='<br data-mce-bogus="1">'),i=r,1==e?h.$(n).after(i):h.$(n).before(i),h.selection.select(i,!0),h.selection.collapse())}}function C(e,t,n,i){var r;return(r=o(e,t,n,i))?r:(r=a(e,i))||null}function x(e,t,n){var i;return(i=function(e,t,n){var i,r,o,a,s,l,c,u,d;if(d=ne(n),i=b(e,n),r=t(O,j.isAboveLine(1),i),o=V.filter(r,j.isLine(1)),s=V.last(i.getClientRects()),te(i)&&(d=i.getNode()),ee(i)&&(d=i.getNode(!0)),!s)return null;if(l=s.left,(a=z.findClosestClientRect(o,l))&&J(a.node))return c=Math.abs(l-a.left),u=Math.abs(l-a.right),v(e,a.node,c<u);if(d){var f=j.positionsUntil(e,O,j.isAboveLine(1),d);if(a=z.findClosestClientRect(V.filter(f,j.isLine(1)),l))return E(a.position.toRange());if(a=V.last(V.filter(f,j.isLine(0))))return E(a.position.toRange())}}(e,t,n))?i:(i=a(e,n))||null}function w(e){e.hasAttribute("data-mce-caret")&&($.showCaretContainerBlock(e),g(m()),i(e[0]))}function _(e){var t,n;return e=f.normalizeRange(1,O,e),t=F.fromRangeStart(e),J(t.getNode())?v(1,t.getNode(),!t.isAtEnd()):J(t.getNode(!0))?v(1,t.getNode(!0),!1):(n=h.dom.getParent(t.getNode(),s.or(J,Q)),J(n)?v(1,n,!1):null)}function E(e){return e&&e.collapsed&&_(e)||e}function T(e){var t,n,i,r;return J(e)?(J(e.previousSibling)&&(i=e.previousSibling),(n=B(F.before(e)))||(t=I(F.after(e))),t&&Z(t.getNode())&&(r=t.getNode()),$.remove(e.previousSibling),$.remove(e.nextSibling),h.dom.remove(e),h.dom.isEmpty(h.getBody())?(h.setContent(""),void h.focus()):i?F.after(i).toRange():r?F.before(r).toRange():n?n.toRange():t?t.toRange():null):null}function l(e){var t=h.schema.getTextBlockElements();return e.nodeName in t}function c(e){return h.dom.isEmpty(e)}function u(e,t,n){var i,r,o,a,s=h.dom;if(i=s.getParent(t.getNode(),s.isBlock),r=s.getParent(n.getNode(),s.isBlock),-1===e){if(a=n.getNode(!0),ee(n)&&p(a))return l(i)?(c(i)&&s.remove(i),F.after(a).toRange()):T(n.getNode(!0))}else if(a=t.getNode(),te(t)&&p(a))return l(r)?(c(r)&&s.remove(r),F.before(a).toRange()):T(t.getNode());if(i===r||!l(i)||!l(r))return null;for(;o=i.firstChild;)r.appendChild(o);return h.dom.remove(i),n.toRange()}function S(e,t,n,i){var r,o,a,s;return!i.collapsed&&(r=ne(i),J(r))?E(T(r)):n(o=b(e,i))&&$.isCaretContainerBlock(i.startContainer)?(s=-1==e?d.prev(o):d.next(o))?E(s.toRange()):i:t(o)?E(T(o.getNode(-1==e))):t(a=-1==e?d.prev(o):d.next(o))?-1===e?u(e,o,a):u(e,a,o):void 0}function N(e){return $.isCaretContainer(e.startContainer)||$.isCaretContainer(e.endContainer)}function k(e){var t,n,i,r,o,a,s,l,c,u,d=h.$,f=h.dom;if(!e)return null;if(e.collapsed){if(!N(e)){if(l=b(1,e),J(l.getNode()))return v(1,l.getNode(),!l.isAtEnd());if(J(l.getNode(!0)))return v(1,l.getNode(!0),!1)}return null}return r=e.startContainer,o=e.startOffset,a=e.endOffset,3==r.nodeType&&0==o&&J(r.parentNode)&&(r=r.parentNode,o=f.nodeIndex(r),r=r.parentNode),1!=r.nodeType?null:(a==o+1&&(t=r.childNodes[o]),J(t)?(c=u=t.cloneNode(!0),(s=h.fire("ObjectSelected",{target:t,targetClone:c})).isDefaultPrevented()?null:(c=s.targetClone,0===(n=d("#"+L)).length&&(n=d('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",L)).appendTo(h.getBody()),e=h.dom.createRng(),c===u&&M.ie?(n.empty().append('<p style="font-size: 0" data-mce-bogus="all"></p>').append(c),e.setStartAfter(n[0].firstChild.firstChild),e.setEndAfter(c)):(n.empty().append("").append(c).append(""),e.setStart(n[0].firstChild,1),e.setEnd(n[0].lastChild,0)),n.css({top:f.getPos(t,h.getBody()).y}),n[0].focus(),(i=h.selection.getSel()).removeAllRanges(),i.addRange(e),h.$("*[data-mce-selected]").removeAttr("data-mce-selected"),t.setAttribute("data-mce-selected",1),R=t,D(),e)):null)}function A(){R&&(R.removeAttribute("data-mce-selected"),h.$("#"+L).remove(),R=null)}function D(){r.hide()}var R,e,t,O=h.getBody(),d=new H(O),I=G(X,d.next),B=G(X,d.prev),r=new n(h.getBody(),p),L="sel-"+h.dom.uniqueId(),P=h.$;return M.ceFalse&&(function(){function n(e,t){var n=t(m());n&&!e.isDefaultPrevented()&&(e.preventDefault(),g(n))}function a(e){for(var t=h.getBody();e&&e!=t;){if(Q(e)||J(e))return e;e=e.parentNode}return null}function i(){var e,t=a(h.selection.getNode());Q(t)&&p(t)&&h.dom.isEmpty(t)&&(e=h.dom.create("br",{"data-mce-bogus":"1"}),h.$(t).empty().append(e),h.selection.setRng(F.before(e).toRange()))}function t(e){var t=P("*[data-mce-caret]")[0];if(t)return"compositionstart"==e.type?(e.preventDefault(),e.stopPropagation(),void w(t)):void($.hasContent(t)&&w(t))}var r=G(C,1,I,te),o=G(C,-1,B,ee),s=G(S,1,te,ee),l=G(S,-1,ee,te),c=G(x,-1,j.upUntil),u=G(x,1,j.downUntil);h.on("mouseup",function(){var e=m();e.collapsed&&g(_(e))}),h.on("click",function(e){var t;(t=a(e.target))&&(J(t)&&(e.preventDefault(),h.focus()),Q(t)&&h.dom.isChildOf(t,h.selection.getNode())&&A())}),h.on("blur NewBlock",function(){A(),D()});var e,d,f=function(e,t){var n,i,r=h.dom.getParent(e,h.dom.isBlock),o=h.dom.getParent(t,h.dom.isBlock);return r&&(n=r,i=o,!(h.dom.getParent(n,h.dom.isBlock)===h.dom.getParent(i,h.dom.isBlock)))&&function(e){var t=new H(e);if(!e.firstChild)return!1;var n=F.before(e.firstChild),i=t.next(n);return i&&!te(i)&&!ee(i)}(r)};d=!1,(e=h).on("touchstart",function(){d=!1}),e.on("touchmove",function(){d=!0}),e.on("touchend",function(e){var t=a(e.target);J(t)&&(d||(e.preventDefault(),k(y(t))))}),h.on("mousedown",function(e){var t,n,i,r;if(t=a(e.target))J(t)?(e.preventDefault(),k(y(t))):(n=e.clientX,i=e.clientY,!(r=h.selection.getRng()).collapsed&&V.reduce(r.getClientRects(),function(e,t){return e||q.containsXY(t,n,i)},!1)||h.selection.placeCaretAt(e.clientX,e.clientY));else{A(),D();var o=z.closestCaret(O,e.clientX,e.clientY);o&&(f(e.target,o.node)||(e.preventDefault(),h.getBody().focus(),g(v(1,o.node,o.before))))}}),h.on("keydown",function(e){if(!U.modifierPressed(e))switch(e.keyCode){case U.RIGHT:n(e,r);break;case U.DOWN:n(e,u);break;case U.LEFT:n(e,o);break;case U.UP:n(e,c);break;case U.DELETE:n(e,s);break;case U.BACKSPACE:n(e,l);break;default:J(h.selection.getNode())&&!(112<=(t=e).keyCode&&t.keyCode<=123)&&e.preventDefault()}var t}),h.on("keyup compositionstart",function(e){t(e),function(e){var t;switch(e.keyCode){case U.DELETE:t=i();break;case U.BACKSPACE:t=i()}t&&e.preventDefault()}(e)},!0),h.on("cut",function(){var e=h.selection.getNode();J(e)&&Y.setEditorTimeout(h,function(){g(E(T(e)))})}),h.on("getSelectionRange",function(e){var t=e.range;if(R){if(!R.parentNode)return void(R=null);(t=t.cloneRange()).selectNode(R),e.range=t}}),h.on("setSelectionRange",function(e){var t;(t=k(e.range))&&(e.range=t)}),h.on("AfterSetSelectionRange",function(e){var t,n=e.range;N(n)||D(),t=n.startContainer.parentNode,h.dom.hasClass(t,"mce-offscreen-selection")||A()}),h.on("focus",function(){Y.setEditorTimeout(h,function(){h.selection.setRng(E(h.selection.getRng()))},0)}),h.on("copy",function(e){var t,n=e.clipboardData;if(!e.isDefaultPrevented()&&e.clipboardData&&!M.ie){var i=(t=h.dom.get(L))?t.getElementsByTagName("*")[0]:t;i&&(e.preventDefault(),n.clearData(),n.setData("text/html",i.outerHTML),n.setData("text/plain",i.outerText))}}),K.init(h)}(),e=h.contentStyles,t=".mce-content-body",e.push(r.getCss()),e.push(t+" .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}"+t+" *[contentEditable=false] {cursor: default;}"+t+" *[contentEditable=true] {cursor: text;}")),{showBlockCaretContainer:w,hideFakeCaret:D,destroy:function(){r.destroy(),R=null}}}}),e(tt,[],function(){var n=0;return{uuid:function(e){return e+n+++(t=function(){return Math.round(4294967295*Math.random()).toString(36)},"s"+(new Date).getTime().toString(36)+t()+t()+t());var t}}}),e(nt,[],function(){return{add:function(e,t,n){var i=e.sidebars?e.sidebars:[];i.push({name:t,settings:n}),e.sidebars=i}}}),e(it,[y,f,C,T,S,O,R,W,Y,Q,J,Z,re,oe,b,a,De,Le,N,A,Me,r,d,i,He,Fe,$e,Ye,et,tt,nt,Ve],function(a,s,l,c,u,d,f,h,p,g,m,v,y,b,o,e,C,x,w,_,E,T,S,N,t,n,k,A,D,r,i,R){function O(e,t,n){var i,r,o,a=this;i=a.documentBaseUrl=n.documentBaseURL,r=n.baseURI,o=n.defaultSettings,t=P({id:e,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:i,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",validate:!0,entity_encoding:"named",url_converter:a.convertURL,url_converter_scope:a,ie7_compat:!0},o,t),o&&o.external_plugins&&t.external_plugins&&(t.external_plugins=P({},o.external_plugins,t.external_plugins)),a.settings=t,l.language=t.language||"en",l.languageLoad=t.language_load,l.baseURL=n.baseURL,a.id=t.id=e,a.setDirty(!1),a.plugins={},a.documentBaseURI=new b(t.document_base_url||i,{base_uri:r}),a.baseURI=r,a.contentCSS=[],a.contentStyles=[],a.shortcuts=new k(a),a.loadedCSS={},a.editorCommands=new y(a),a.suffix=n.suffix,a.editorManager=n,a.inline=t.inline,a.settings.content_editable=a.inline,t.cache_suffix&&(T.cacheSuffix=t.cache_suffix.replace(/^[\?\&]+/,"")),!1===t.override_viewport&&(T.overrideViewPort=!1),n.fire("SetupEditor",a),a.execCallback("setup",a),a.$=s.overrideDefaults(function(){return{context:a.inline?a.getBody():a.getDoc(),element:a.getBody()}})}var I=a.DOM,B=l.ThemeManager,L=l.PluginManager,P=S.extend,M=S.each,H=S.explode,F=S.inArray,$=S.trim,j=S.resolve,z=e.Event,W=T.gecko,q=T.ie;return P(O.prototype={render:function(){var n=this,i=n.settings,e=n.id,r=n.suffix;if(z.domLoaded){if(n.getElement()&&T.contentEditable){i.inline?n.inline=!0:(n.orgVisibility=n.getElement().style.visibility,n.getElement().style.visibility="hidden");var t=n.getElement().form||I.getParent(e,"form");t&&(n.formElement=t,i.hidden_input&&!/TEXTAREA|INPUT/i.test(n.getElement().nodeName)&&(I.insertAfter(I.create("input",{type:"hidden",name:e}),e),n.hasHiddenInput=!0),n.formEventDelegate=function(e){n.fire(e.type,e)},I.bind(t,"submit reset",n.formEventDelegate),n.on("reset",function(){n.setContent(n.startContent,{format:"raw"})}),!i.submit_patch||t.submit.nodeType||t.submit.length||t._mceOldSubmit||(t._mceOldSubmit=t.submit,t.submit=function(){return n.editorManager.triggerSave(),n.setDirty(!1),t._mceOldSubmit(t)})),n.windowManager=new C(n),n.notificationManager=new x(n),"xml"==i.encoding&&n.on("GetContent",function(e){e.save&&(e.content=I.encode(e.content))}),i.add_form_submit_trigger&&n.on("submit",function(){n.initialized&&n.save()}),i.add_unload_trigger&&(n._beforeUnload=function(){!n.initialized||n.destroyed||n.isHidden()||n.save({format:"raw",no_events:!0,set_dirty:!1})},n.editorManager.on("BeforeUnload",n._beforeUnload)),n.editorManager.add(n),function(){var e=o.ScriptLoader;if(i.language&&"en"!=i.language&&!i.language_url&&(i.language_url=n.editorManager.baseURL+"/langs/"+i.language+".js"),i.language_url&&e.add(i.language_url),i.theme&&"function"!=typeof i.theme&&"-"!=i.theme.charAt(0)&&!B.urls[i.theme]){var t=i.theme_url;t=t?n.documentBaseURI.toAbsolute(t):"themes/"+i.theme+"/theme"+r+".js",B.load(i.theme,t)}S.isArray(i.plugins)&&(i.plugins=i.plugins.join(" ")),M(i.external_plugins,function(e,t){L.load(t,e),i.plugins+=" "+t}),M(i.plugins.split(/[ ,]/),function(e){if((e=$(e))&&!L.urls[e])if("-"==e.charAt(0)){e=e.substr(1,e.length);var t=L.dependencies(e);M(t,function(e){var t={prefix:"plugins/",resource:e,suffix:"/plugin"+r+".js"};e=L.createUrl(t,e),L.load(e.resource,e)})}else L.load(e,{prefix:"plugins/",resource:e,suffix:"/plugin"+r+".js"})}),e.loadQueue(function(){n.removed||n.init()},n,function(e){R.pluginLoadError(n,e[0]),n.removed||n.init()})}()}}else I.bind(window,"ready",function e(){I.unbind(window,"ready",e),n.render()})},init:function(){var e,t,n,i,r,o,a,s,l,c,u,d=this,f=d.settings,h=d.getElement(),p=[];if(d.rtl=f.rtl_ui||d.editorManager.i18n.rtl,d.editorManager.i18n.setCode(f.language),f.aria_label=f.aria_label||I.getAttrib(h,"aria-label",d.getLang("aria.rich_text_area")),d.fire("ScriptsLoaded"),f.theme&&("function"!=typeof f.theme?(f.theme=f.theme.replace(/-/,""),o=B.get(f.theme),d.theme=new o(d,B.urls[f.theme]),d.theme.init&&d.theme.init(d,B.urls[f.theme]||d.documentBaseUrl.replace(/\/$/,""),d.$)):d.theme=f.theme),M(f.plugins.replace(/\-/g,"").split(/[ ,]/),function t(e){var n,i,r=L.get(e);if(n=L.urls[e]||d.documentBaseUrl.replace(/\/$/,""),e=$(e),r&&-1===F(p,e)){if(M(L.dependencies(e),function(e){t(e)}),d.plugins[e])return;i=new r(d,n,d.$),(d.plugins[e]=i).init&&(i.init(d,n),p.push(e))}}),f.render_ui&&d.theme&&(d.orgDisplay=h.style.display,"function"!=typeof f.theme?(e=f.width||h.style.width||h.offsetWidth,t=f.height||h.style.height||h.offsetHeight,n=f.min_height||100,(c=/^[0-9\.]+(|px)$/i).test(""+e)&&(e=Math.max(parseInt(e,10),100)),c.test(""+t)&&(t=Math.max(parseInt(t,10),n)),r=d.theme.renderUI({targetNode:h,width:e,height:t,deltaWidth:f.delta_width,deltaHeight:f.delta_height}),f.content_editable||(t=(r.iframeHeight||t)+("number"==typeof t?r.deltaHeight||0:""))<n&&(t=n)):((r=f.theme(d,h)).editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||d.id+"_parent"),r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||d.id+"_iframecontainer"),t=r.iframeHeight||h.offsetHeight),d.editorContainer=r.editorContainer),f.content_css&&M(H(f.content_css),function(e){d.contentCSS.push(d.documentBaseURI.toAbsolute(e))}),f.content_style&&d.contentStyles.push(f.content_style),f.content_editable)return h=i=r=null,d.initContentBody();if(d.iframeHTML=f.doctype+"<html><head>",f.document_base_url!=d.documentBaseUrl&&(d.iframeHTML+='<base href="'+d.documentBaseURI.getURI()+'" />'),!T.caretAfter&&f.ie7_compat&&(d.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'),d.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',!/#$/.test(document.location.href))for(u=0;u<d.contentCSS.length;u++){var g=d.contentCSS[u];d.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+S._addCacheSuffix(g)+'" />',d.loadedCSS[g]=!0}-1!=(s=f.body_id||"tinymce").indexOf("=")&&(s=(s=d.getParam("body_id","","hash"))[d.id]||s),-1!=(l=f.body_class||"").indexOf("=")&&(l=(l=d.getParam("body_class","","hash"))[d.id]||""),f.content_security_policy&&(d.iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+f.content_security_policy+'" />'),d.iframeHTML+='</head><body id="'+s+'" class="mce-content-body '+l+'" data-id="'+d.id+'"><br></body></html>';var m='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+d.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';document.domain!=location.hostname&&T.ie&&T.ie<12&&(a=m);var v=I.create("iframe",{id:d.id+"_ifr",frameBorder:"0",allowTransparency:"true",title:d.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:t,display:"block"}});if(v.onload=function(){v.onload=null,d.fire("load")},I.setAttrib(v,"src",a||'javascript:""'),d.contentAreaContainer=r.iframeContainer,d.iframeElement=v,i=I.add(r.iframeContainer,v),q)try{d.getDoc()}catch(e){i.src=a=m}r.editorContainer&&(I.get(r.editorContainer).style.display=d.orgDisplay,d.hidden=I.isHidden(r.editorContainer)),d.getElement().style.display="none",I.setAttrib(d.id,"aria-hidden",!0),a||d.initContentBody(),h=i=r=null},initContentBody:function(e){var t,n,s=this,i=s.settings,r=s.getElement(),o=s.getDoc();i.inline||(s.getElement().style.visibility=s.orgVisibility),e||i.content_editable||(o.open(),o.write(s.iframeHTML),o.close()),i.content_editable&&(s.on("remove",function(){var e=this.getBody();I.removeClass(e,"mce-content-body"),I.removeClass(e,"mce-edit-focus"),I.setAttrib(e,"contentEditable",null)}),I.addClass(r,"mce-content-body"),s.contentDocument=o=i.content_document||document,s.contentWindow=i.content_window||window,s.bodyElement=r,i.content_document=i.content_window=null,i.root_name=r.nodeName.toLowerCase()),(t=s.getBody()).disabled=!0,s.readonly=i.readonly,s.readonly||(s.inline&&"static"==I.getStyle(t,"position",!0)&&(t.style.position="relative"),t.contentEditable=s.getParam("content_editable_state",!0)),t.disabled=!1,s.editorUpload=new A(s),s.schema=new w(i),s.dom=new a(o,{keep_values:!0,url_converter:s.convertURL,url_converter_scope:s,hex_colors:i.force_hex_style_colors,class_filter:i.class_filter,update_styles:!0,root_element:s.inline?s.getBody():null,collect:i.content_editable,schema:s.schema,onSetAttrib:function(e){s.fire("SetAttrib",e)}}),s.parser=new _(i,s.schema),s.parser.addAttributeFilter("src,href,style,tabindex",function(e,t){for(var n,i,r,o=e.length,a=s.dom;o--;)if(i=(n=e[o]).attr(t),r="data-mce-"+t,!n.attributes.map[r]){if(0===i.indexOf("data:")||0===i.indexOf("blob:"))continue;"style"===t?((i=a.serializeStyle(a.parseStyle(i),n.name)).length||(i=null),n.attr(r,i),n.attr(t,i)):"tabindex"===t?(n.attr(r,i),n.attr(t,null)):n.attr(r,s.convertURL(i,t,n.name))}}),s.parser.addNodeFilter("script",function(e){for(var t,n,i=e.length;i--;)0!==(n=(t=e[i]).attr("type")||"no/type").indexOf("mce-")&&t.attr("type","mce-"+n)}),s.parser.addNodeFilter("#cdata",function(e){for(var t,n=e.length;n--;)(t=e[n]).type=8,t.name="#comment",t.value="[CDATA["+t.value+"]]"}),s.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(e){for(var t,n=e.length,i=s.schema.getNonEmptyElements();n--;)(t=e[n]).isEmpty(i)&&0===t.getAll("br").length&&(t.append(new u("br",1)).shortEnded=!0)}),s.serializer=new d(i,s),s.selection=new h(s.dom,s.getWin(),s.serializer,s),s.formatter=new p(s),s.undoManager=new g(s),s.forceBlocks=new v(s),s.enterKey=new m(s),s._nodeChangeDispatcher=new c(s),s._selectionOverrides=new D(s),s.fire("PreInit"),i.browser_spellcheck||i.gecko_spellcheck||(o.body.spellcheck=!1,I.setAttrib(t,"spellcheck","false")),s.quirks=new E(s),s.fire("PostRender"),i.directionality&&(t.dir=i.directionality),i.nowrap&&(t.style.whiteSpace="nowrap"),i.protect&&s.on("BeforeSetContent",function(t){M(i.protect,function(e){t.content=t.content.replace(e,function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"})})}),s.on("SetContent",function(){s.addVisual(s.getBody())}),i.padd_empty_editor&&s.on("PostProcess",function(e){e.content=e.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|<br \/>|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),s.load({initial:!0,format:"html"}),s.startContent=s.getContent({format:"raw"}),s.initialized=!0,s.bindPendingEventDelegates(),s.fire("init"),s.focus(!0),s.nodeChanged({initial:!0}),s.execCallback("init_instance_callback",s),s.on("compositionstart compositionend",function(e){s.composing="compositionstart"===e.type}),0<s.contentStyles.length&&(n="",M(s.contentStyles,function(e){n+=e+"\r\n"}),s.dom.addStyle(n)),M(s.contentCSS,function(e){s.loadedCSS[e]||(s.dom.loadCSS(e),s.loadedCSS[e]=!0)}),i.auto_focus&&N.setEditorTimeout(s,function(){var e;(e=!0===i.auto_focus?s:s.editorManager.get(i.auto_focus)).destroyed||e.focus()},100),r=o=t=null},focus:function(e){var t,n,i,r,o=this,a=o.selection,s=o.settings.content_editable,l=o.getDoc(),c=o.getBody();if(!e){if((t=a.getRng()).item&&(n=t.item(0)),o.quirks.refreshContentEditable(),r=a.getNode(),i=o.dom.getParent(r,function(e){return"true"===o.dom.getContentEditable(e)}),o.$.contains(c,i))return i.focus(),a.normalize(),void o.editorManager.setActive(o);if(s||(T.opera||o.getBody().focus(),o.getWin().focus()),W||s){if(c.setActive)try{c.setActive()}catch(e){c.focus()}else c.focus();s&&a.normalize()}n&&n.ownerDocument==l&&((t=l.body.createControlRange()).addElement(n),t.select())}o.editorManager.setActive(o)},execCallback:function(e){var t,n=this.settings[e];if(n)return this.callbackLookup&&(t=this.callbackLookup[e])&&(n=t.func,t=t.scope),"string"==typeof n&&(t=(t=n.replace(/\.\w+$/,""))?j(t):0,n=j(n),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[e]={func:n,scope:t}),n.apply(t||this,Array.prototype.slice.call(arguments,1))},translate:function(e){var n=this.settings.language||"en",i=this.editorManager.i18n;return e?(e=i.data[n+"."+e]||e.replace(/\{\#([^\}]+)\}/g,function(e,t){return i.data[n+"."+t]||"{#"+t+"}"}),this.editorManager.translate(e)):""},getLang:function(e,t){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+e]||(t!==be?t:"{#"+e+"}")},getParam:function(e,t,n){var i,r=e in this.settings?this.settings[e]:t;return"hash"===n?(i={},"string"==typeof r?M(0<r.indexOf("=")?r.split(/[;,](?![^=;,]*(?:[;,]|$))/):r.split(","),function(e){1<(e=e.split("=")).length?i[$(e[0])]=$(e[1]):i[$(e[0])]=$(e)}):i=r,i):r},nodeChanged:function(e){this._nodeChangeDispatcher.nodeChanged(e)},addButton:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),t.text||t.icon||(t.icon=e),n.buttons=n.buttons||{},t.tooltip=t.tooltip||t.title,n.buttons[e]=t},addSidebar:function(e,t){return i.add(this,e,t)},addMenuItem:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),n.menuItems=n.menuItems||{},n.menuItems[e]=t},addContextToolbar:function(e,t){var n,i=this;i.contextToolbars=i.contextToolbars||[],"string"==typeof e&&(n=e,e=function(e){return i.dom.is(e,n)}),i.contextToolbars.push({id:r.uuid("mcet"),predicate:e,items:t})},addCommand:function(e,t,n){this.editorCommands.addCommand(e,t,n)},addQueryStateHandler:function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},addQueryValueHandler:function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},addShortcut:function(e,t,n,i){this.shortcuts.add(e,t,n,i)},execCommand:function(e,t,n,i){return this.editorCommands.execCommand(e,t,n,i)},queryCommandState:function(e){return this.editorCommands.queryCommandState(e)},queryCommandValue:function(e){return this.editorCommands.queryCommandValue(e)},queryCommandSupported:function(e){return this.editorCommands.queryCommandSupported(e)},show:function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable=!0:(I.show(this.getContainer()),I.hide(this.id)),this.load(),this.fire("show"))},hide:function(){var e=this,t=e.getDoc();e.hidden||(q&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable=!1,e==e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(I.hide(e.getContainer()),I.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(e,t){this.fire("ProgressState",{state:e,time:t})},load:function(e){var t,n=this.getElement();if(n)return(e=e||{}).load=!0,t=this.setContent(n.value!==be?n.value:n.innerHTML,e),e.element=n,e.no_events||this.fire("LoadContent",e),e.element=n=null,t},save:function(e){var t,n,i=this,r=i.getElement();if(r&&i.initialized)return(e=e||{}).save=!0,e.element=r,e.content=i.getContent(e),e.no_events||i.fire("SaveContent",e),"raw"==e.format&&i.fire("RawSaveContent",e),t=e.content,/TEXTAREA|INPUT/i.test(r.nodeName)?r.value=t:(i.inline||(r.innerHTML=t),(n=I.getParent(i.id,"form"))&&M(n.elements,function(e){if(e.name==i.id)return e.value=t,!1})),e.element=r=null,!1!==e.set_dirty&&i.setDirty(!1),t},setContent:function(e,t){var n,i,r=this,o=r.getBody();return(t=t||{}).format=t.format||"html",t.set=!0,t.content=e,t.no_events||r.fire("BeforeSetContent",t),0===(e=t.content).length||/^\s+$/.test(e)?(i=q&&q<11?"":'<br data-mce-bogus="1">',"TABLE"==o.nodeName?e="<tr><td>"+i+"</td></tr>":/^(UL|OL)$/.test(o.nodeName)&&(e="<li>"+i+"</li>"),(n=r.settings.forced_root_block)&&r.schema.isValidChild(o.nodeName.toLowerCase(),n.toLowerCase())?(e=i,e=r.dom.createHTML(n,r.settings.forced_root_block_attrs,e)):q||e||(e='<br data-mce-bogus="1">'),r.dom.setHTML(o,e),r.fire("SetContent",t)):("raw"!==t.format&&(e=new f({validate:r.validate},r.schema).serialize(r.parser.parse(e,{isRootContent:!0}))),t.content=$(e),r.dom.setHTML(o,t.content),t.no_events||r.fire("SetContent",t)),t.content},getContent:function(e){var t,n=this.getBody();return(e=e||{}).format=e.format||"html",e.get=!0,e.getInner=!0,e.no_events||this.fire("BeforeGetContent",e),t="raw"==e.format?S.trim(this.serializer.getTrimmedContent()):"text"==e.format?n.innerText||n.textContent:this.serializer.serialize(n,e),"text"!=e.format?e.content=$(t):e.content=t,e.no_events||this.fire("GetContent",e),e.content},insertContent:function(e,t){t&&(e=P({content:e},t)),this.execCommand("mceInsertContent",!1,e)},isDirty:function(){return!this.isNotDirty},setDirty:function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!=t&&this.fire("dirty")},setMode:function(e){n.setMode(this,e)},getContainer:function(){return this.container||(this.container=I.get(this.editorContainer||this.id+"_parent")),this.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=I.get(this.id)),this.targetElm},getWin:function(){var e;return this.contentWindow||(e=this.iframeElement)&&(this.contentWindow=e.contentWindow),this.contentWindow},getDoc:function(){var e;return this.contentDocument||(e=this.getWin())&&(this.contentDocument=e.document),this.contentDocument},getBody:function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},convertURL:function(e,t,n){var i=this.settings;return i.urlconverter_callback?this.execCallback("urlconverter_callback",e,n,!0,t):!i.convert_urls||n&&"LINK"==n.nodeName||0===e.indexOf("file:")||0===e.length?e:i.relative_urls?this.documentBaseURI.toRelative(e):e=this.documentBaseURI.toAbsolute(e,i.remove_script_host)},addVisual:function(e){var n,i=this,r=i.settings,o=i.dom;e=e||i.getBody(),i.hasVisual===be&&(i.hasVisual=r.visual),M(o.select("table,a",e),function(e){var t;switch(e.nodeName){case"TABLE":return n=r.visual_table_class||"mce-item-table",void((t=o.getAttrib(e,"border"))&&"0"!=t||!i.hasVisual?o.removeClass(e,n):o.addClass(e,n));case"A":return void(o.getAttrib(e,"href",!1)||(t=o.getAttrib(e,"name")||e.id,n=r.visual_anchor_class||"mce-item-anchor",t&&i.hasVisual?o.addClass(e,n):o.removeClass(e,n)))}}),i.fire("VisualAid",{element:e,hasVisual:i.hasVisual})},remove:function(){var e=this;e.removed||(e.save(),e.removed=1,e.unbindAllNativeEvents(),e.hasHiddenInput&&I.remove(e.getElement().nextSibling),e.inline||(q&&q<10&&e.getDoc().execCommand("SelectAll",!1,null),I.setStyle(e.id,"display",e.orgDisplay),e.getBody().onload=null),e.fire("remove"),e.editorManager.remove(e),I.remove(e.getContainer()),e._selectionOverrides.destroy(),e.editorUpload.destroy(),e.destroy())},destroy:function(e){var t,n=this;if(!n.destroyed){if(!e&&!n.removed)return void n.remove();e||(n.editorManager.off("beforeunload",n._beforeUnload),n.theme&&n.theme.destroy&&n.theme.destroy(),n.selection.destroy(),n.dom.destroy()),(t=n.formElement)&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,t._mceOldSubmit=null),I.unbind(t,"submit reset",n.formEventDelegate)),n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null,n.selection&&(n.selection=n.selection.win=n.selection.dom=n.selection.dom.doc=null),n.destroyed=1}},uploadImages:function(e){return this.editorUpload.uploadImages(e)},_scanForImages:function(){return this.editorUpload.scanForImages()}},t),O}),e(rt,[d],function(a){var s={},l="en";return{setCode:function(e){e&&(l=e,this.rtl=!!this.data[e]&&"rtl"===this.data[e]._dir)},getCode:function(){return l},rtl:!1,add:function(e,t){var n=s[e];for(var i in n||(s[e]=n={}),t)n[i]=t[i];this.setCode(e)},translate:function(e){function n(e){return a.is(e,"function")?Object.prototype.toString.call(e):t(e)?"":""+e}function t(e){return""===e||null===e||a.is(e,"undefined")}function i(e){return e=n(e),a.hasOwn(r,e)?n(r[e]):e}var r=s[l]||{};if(t(e))return"";if(a.is(e,"object")&&a.hasOwn(e,"raw"))return n(e.raw);if(a.is(e,"array")){var o=e.slice(1);e=i(e[0]).replace(/\{([0-9]+)\}/g,function(e,t){return a.hasOwn(o,t)?n(o[t]):e})}return i(e).replace(/{context:\w+}$/,"")},data:s}}),e(ot,[y,i,r],function(e,t,i){function r(a){function n(){try{return document.activeElement}catch(e){return document.body}}a.on("AddEditor",function(e){var o=e.editor;o.on("init",function(){(o.inline||i.ie)&&("onbeforedeactivate"in document&&i.ie<9?o.dom.bind(o.getBody(),"beforedeactivate",function(e){if(e.target==o.getBody())try{o.lastRng=o.selection.getRng()}catch(e){}}):o.on("nodechange mouseup keyup",function(e){var t=n();"nodechange"==e.type&&e.selectionChange||(t&&t.id==o.id+"_ifr"&&(t=o.getBody()),o.dom.isChildOf(t,o.getBody())&&(o.lastRng=o.selection.getRng()))}),i.webkit&&!s&&(s=function(){var e=a.activeEditor;if(e&&e.selection){var t=e.selection.getRng();t&&!t.collapsed&&(o.lastRng=t)}},u.bind(document,"selectionchange",s)))}),o.on("setcontent",function(){o.lastRng=null}),o.on("mousedown",function(){o.selection.lastFocusBookmark=null}),o.on("focusin",function(){var e,t,n,i,r=a.focusedEditor;o.selection.lastFocusBookmark&&((n=(t=o).selection.lastFocusBookmark).startContainer?((i=t.getDoc().createRange()).setStart(n.startContainer,n.startOffset),i.setEnd(n.endContainer,n.endOffset)):i=n,e=i,o.selection.lastFocusBookmark=null,o.selection.setRng(e)),r!=o&&(r&&r.fire("blur",{focusedEditor:o}),a.setActive(o),(a.focusedEditor=o).fire("focus",{blurredEditor:r}),o.focus(!0)),o.lastRng=null}),o.on("focusout",function(){t.setEditorTimeout(o,function(){var e=a.focusedEditor;d(o,n())||e!=o||(o.fire("blur",{focusedEditor:null}),a.focusedEditor=null,o.selection&&(o.selection.lastFocusBookmark=null))})}),l||(l=function(e){var t,n=a.activeEditor;t=e.target,n&&t.ownerDocument==document&&(n.selection&&t!=n.getBody()&&(n.selection.lastFocusBookmark=function(e,t){if(t&&t.startContainer){if(!e.isChildOf(t.startContainer,e.getRoot())||!e.isChildOf(t.endContainer,e.getRoot()))return;return{startContainer:t.startContainer,startOffset:t.startOffset,endContainer:t.endContainer,endOffset:t.endOffset}}return t}(n.dom,n.lastRng)),t==document.body||d(n,t)||a.focusedEditor!=n||(n.fire("blur",{focusedEditor:null}),a.focusedEditor=null))},u.bind(document,"focusin",l)),o.inline&&!c&&(c=function(e){var t=a.activeEditor,n=t.dom;if(t.inline&&n&&!n.isChildOf(e.target,t.getBody())){var i=t.selection.getRng();i.collapsed||(t.lastRng=i)}},u.bind(document,"mouseup",c))}),a.on("RemoveEditor",function(e){a.focusedEditor==e.editor&&(a.focusedEditor=null),a.activeEditor||(u.unbind(document,"selectionchange",s),u.unbind(document,"focusin",l),u.unbind(document,"mouseup",c),s=l=c=null)})}var s,l,c,u=e.DOM,d=function(t,e){var n=t?t.settings.custom_ui_selector:"";return null!==u.getParent(e,function(e){return r.isEditorUIElement(e)||!!n&&t.dom.is(e,n)})};return r.isEditorUIElement=function(e){return-1!==e.className.toString().indexOf("mce-")},r._isUIElement=d,r}),e(at,[it,f,y,oe,r,d,n,ce,rt,ot,C],function(h,p,e,l,t,g,r,n,i,c,o){function a(t){b(d.editors,function(e){"scroll"===t.type?e.fire("ScrollWindow",t):e.fire("ResizeWindow",t)})}function s(e,t){t!==f&&(t?p(window).on("resize scroll",a):p(window).off("resize scroll",a),f=t)}function m(e){var t,n=d.editors;delete n[e.id];for(var i=0;i<n.length;i++)if(n[i]==e){n.splice(i,1),t=!0;break}return d.activeEditor==e&&(d.activeEditor=n[0]),d.focusedEditor==e&&(d.focusedEditor=null),t}var u,d,v=e.DOM,y=g.explode,b=g.each,C=g.extend,x=0,f=!1;return C(d={$:p,majorVersion:"4",minorVersion:"5.6",releaseDate:"2017-03-30",editors:[],i18n:i,activeEditor:null,setup:function(){var e,t,n,i,r="";if(t=l.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),n=window.tinymce||window.tinyMCEPreInit)e=n.base||n.baseURL,r=n.suffix;else{for(var o=document.getElementsByTagName("script"),a=0;a<o.length;a++){var s=(i=o[a].src).substring(i.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(i)){-1!=s.indexOf(".min")&&(r=".min"),e=i.substring(0,i.lastIndexOf("/"));break}}!e&&document.currentScript&&(-1!=(i=document.currentScript.src).indexOf(".min")&&(r=".min"),e=i.substring(0,i.lastIndexOf("/")))}this.baseURL=new l(t).toAbsolute(e),this.documentBaseURL=t,this.baseURI=new l(this.baseURL),this.suffix=r,this.focusManager=new c(this)},overrideDefaults:function(e){var t,n;(t=e.base_url)&&(this.baseURL=new l(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new l(this.baseURL)),n=e.suffix,e.suffix&&(this.suffix=n);var i=(this.defaultSettings=e).plugin_base_urls;for(var r in i)o.PluginManager.urls[r]=i[r]},init:function(l){function c(e){var t=e.id;return t||(t=(t=e.name)&&!v.get(t)?e.name:v.uniqueId(),e.setAttribute("id",t)),t}function i(e,t){return t.constructor===RegExp?t.test(e.className):v.hasClass(e,t)}var n,u,d=this;u=g.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var f=function(e){n=e};return d.settings=l,v.bind(window,"ready",function e(){function r(e,t,n){var i=new h(e,t,d);s.push(i),i.on("init",function(){++a===o.length&&f(s)}),i.targetElm=i.targetElm||n,i.render()}var o,a=0,s=[];return v.unbind(window,"ready",e),function(e){var t=l[e];t&&t.apply(d,Array.prototype.slice.call(arguments,2))}("onpageload"),o=p.unique(function(t){var e,n=[];if(t.types)return b(t.types,function(e){n=n.concat(v.select(e.selector))}),n;if(t.selector)return v.select(t.selector);if(t.target)return[t.target];switch(t.mode){case"exact":0<(e=t.elements||"").length&&b(y(e),function(t){var e;(e=v.get(t))?n.push(e):b(document.forms,function(e){b(e.elements,function(e){e.name===t&&(t="mce_editor_"+x++,v.setAttrib(e,"id",t),n.push(e))})})});break;case"textareas":case"specific_textareas":b(v.select("textarea"),function(e){t.editor_deselector&&i(e,t.editor_deselector)||t.editor_selector&&!i(e,t.editor_selector)||n.push(e)})}return n}(l)),l.types?void b(l.types,function(t){g.each(o,function(e){return!v.is(e,t.selector)||(r(c(e),C({},l,t),e),!1)})}):(g.each(o,function(e){var t;(t=d.get(e.id))&&t.initialized&&!(t.getContainer()||t.getBody()).parentNode&&(m(t),t.unbindAllNativeEvents(),t.destroy(!0),t.removed=!0,t=null)}),o=g.grep(o,function(e){return!d.get(e.id)}),void b(o,function(e){var t,n,i;i=e,l.inline&&i.tagName.toLowerCase()in u?(t="Could not initialize inline editor on invalid inline target element",n=e,window.console&&!window.test&&window.console.log(t,n)):r(c(e),l,e)}))}),new r(function(t){n?t(n):f=function(e){t(e)}})},get:function(e){return arguments.length?e in this.editors?this.editors[e]:null:this.editors},add:function(e){var t=this,n=t.editors;return n[e.id]=e,n.push(e),s(0,!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),u||(u=function(){t.fire("BeforeUnload")},v.bind(window,"beforeunload",u)),e},createEditor:function(e,t){return this.add(new h(e,t,this))},remove:function(e){var t,n,i=this,r=i.editors;if(e)return"string"==typeof e?(e=e.selector||e,void b(v.select(e),function(e){(n=r[e.id])&&i.remove(n)})):r[(n=e).id]?(m(n)&&i.fire("RemoveEditor",{editor:n}),r.length||v.unbind(window,"beforeunload",u),n.remove(),s(0,0<r.length),n):null;for(t=r.length-1;0<=t;t--)i.remove(r[t])},execCommand:function(e,t,n){var i=this.get(n);switch(e){case"mceAddEditor":return this.get(n)||new h(n,this.settings,this).render(),!0;case"mceRemoveEditor":return i&&i.remove(),!0;case"mceToggleEditor":return i?i.isHidden()?i.show():i.hide():this.execCommand("mceAddEditor",0,n),!0}return!!this.activeEditor&&this.activeEditor.execCommand(e,t,n)},triggerSave:function(){b(this.editors,function(e){e.save()})},addI18n:function(e,t){i.add(e,t)},translate:function(e){return i.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!=e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e}},n),d.setup(),window.tinymce=window.tinyMCE=d,d}),e("tinymce/LegacyInput",[at,d],function(e,t){var s=t.each,l=t.explode;e.on("AddEditor",function(e){var a=e.editor;a.on("preInit",function(){function n(n,e){s(e,function(e,t){e&&r.setStyle(n,t,e)}),r.rename(n,"span")}var t,i,r,o=a.settings;o.inline_styles&&(i=l(o.font_size_legacy_values),t={font:function(e,t){n(t,{backgroundColor:t.style.backgroundColor,color:t.color,fontFamily:t.face,fontSize:i[parseInt(t.size,10)-1]})},u:function(e,t){"html4"===a.settings.schema&&n(t,{textDecoration:"underline"})},strike:function(e,t){n(t,{textDecoration:"line-through"})}},a.on("PreProcess SetContent",function(e){r=a.dom,o.convert_fonts_to_spans&&s(r.select("font,u,strike",e.node),function(e){t[e.nodeName.toLowerCase()](r,e)})}))})})}),e(st,[ce,d],function(e,r){var o={send:function(e){function t(){!e.async||4==n.readyState||1e4<i++?(e.success&&i<1e4&&200==n.status?e.success.call(e.success_scope,""+n.responseText,n,e):e.error&&e.error.call(e.error_scope,1e4<i?"TIMED_OUT":"GENERAL",n,e),n=null):setTimeout(t,10)}var n,i=0;if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=!1!==e.async,e.data=e.data||"",o.fire("beforeInitialize",{settings:e}),n=new XMLHttpRequest){if(n.overrideMimeType&&n.overrideMimeType(e.content_type),n.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(n.withCredentials=!0),e.content_type&&n.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&r.each(e.requestheaders,function(e){n.setRequestHeader(e.key,e.value)}),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),(n=o.fire("beforeSend",{xhr:n,settings:e}).xhr).send(e.data),!e.async)return t();setTimeout(t,10)}}};return r.extend(o,e),o}),e(lt,[],function(){return{serialize:function e(t,n){var i,r,o,a;if(n=n||'"',null===t)return"null";if("string"==(o=typeof t))return r="\bb\tt\nn\ff\rr\"\"''\\\\",n+t.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(e,t){return'"'===n&&"'"===e?e:(i=r.indexOf(t))+1?"\\"+r.charAt(i+1):(e=t.charCodeAt().toString(16),"\\u"+"0000".substring(e.length)+e)})+n;if("object"==o){if(t.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(t)){for(i=0,r="[";i<t.length;i++)r+=(0<i?",":"")+e(t[i],n);return r+"]"}for(a in r="{",t)t.hasOwnProperty(a)&&(r+="function"!=typeof t[a]?(1<r.length?","+n:n)+a+n+":"+e(t[a],n):"");return r+"}"}return""+t},parse:function(e){try{return window[String.fromCharCode(101)+"val"]("("+e+")")}catch(e){}}}}),e(ct,[lt,st,d],function(o,e,t){function n(e){this.settings=a({},e),this.count=0}var a=t.extend;return n.sendRPC=function(e){return(new n).send(e)},n.prototype={send:function(n){var i=n.error,r=n.success;(n=a(this.settings,n)).success=function(e,t){void 0===(e=o.parse(e))&&(e={error:"JSON Parse error."}),e.error?i.call(n.error_scope||n.scope,e.error,t):r.call(n.success_scope||n.scope,e.result)},n.error=function(e,t){i&&i.call(n.error_scope||n.scope,e,t)},n.data=o.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params}),n.content_type="application/json",e.send(n)}},n}),e(ut,[y],function(e){return{callbacks:{},count:0,send:function(t){var n=this,i=e.DOM,r=t.count!==be?t.count:n.count,o="tinymce_jsonp_"+r;n.callbacks[r]=function(e){i.remove(o),delete n.callbacks[r],t.callback(e)},i.add(i.doc.body,"script",{id:o,src:t.url,type:"text/javascript"}),n.count++}}}),e(dt,[],function(){function a(){for(var e in i=[],l)i.push(e);t.length=i.length}function n(){var e,t="";if(u){for(var n in l)e=l[n],t+=(t?",":"")+n.length.toString(32)+","+n+","+e.length.toString(32)+","+e;s.setAttribute(c,t);try{s.save(c)}catch(e){}a()}}var t,s,l,i,c,u;try{if(window.localStorage)return localStorage}catch(e){}return c="tinymce",s=document.documentElement,(u=!!s.addBehavior)&&s.addBehavior("#default#userData"),t={key:function(e){return i[e]},getItem:function(e){return e in l?l[e]:null},setItem:function(e,t){l[e]=""+t,n()},removeItem:function(e){delete l[e],n()},clear:function(){l={},n()}},function(){function e(e){var t,n;return-1===(n=e!==be?r+e:i.indexOf(",",r))||n>i.length?null:(t=i.substring(r,n),r=n+1,t)}var t,i,n,r=0;if(l={},u){s.load(c),i=s.getAttribute(c)||"";do{var o=e();if(null===o)break;if(null!==(t=e(parseInt(o,32)||0))){if(null===(o=e()))break;n=e(parseInt(o,32)||0),t&&(l[t]=n)}}while(null!==t);a()}}(),t}),e(ft,[y,a,b,C,d,r],function(e,t,n,i,r,o){var a=window.tinymce;return a.DOM=e.DOM,a.ScriptLoader=n.ScriptLoader,a.PluginManager=i.PluginManager,a.ThemeManager=i.ThemeManager,a.dom=a.dom||{},a.dom.Event=t.Event,r.each("trim isArray is toArray makeMap each map grep inArray extend create walk createNS resolve explode _addCacheSuffix".split(" "),function(e){a[e]=r[e]}),r.each("isOpera isWebKit isIE isGecko isMac".split(" "),function(e){a[e]=o[e.substr(2).toLowerCase()]}),{}}),e(ht,[ae,d],function(e,t){return e.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(e){this.settings=t.extend({},this.Defaults,e)},preRender:function(e){e.bodyClasses.add(this.settings.containerClass)},applyClasses:function(e){var t,n,i,r,o=this.settings;t=o.firstControlClass,n=o.lastControlClass,e.each(function(e){e.classes.remove(t).remove(n).add(o.controlClass),e.visible()&&(i||(i=e),r=e)}),i&&i.classes.add(t),r&&r.classes.add(n)},renderHtml:function(e){var t="";return this.applyClasses(e.items()),e.items().each(function(e){t+=e.renderHtml()}),t},recalc:function(){},postRender:function(){},isNative:function(){return!1}})}),e(pt,[ht],function(e){return e.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(e){e.items().filter(":visible").each(function(e){var t=e.settings;e.layoutRect({x:t.x,y:t.y,w:t.w,h:t.h}),e.recalc&&e.recalc()})},renderHtml:function(e){return'<div id="'+e._id+'-absend" class="'+e.classPrefix+'abs-end"></div>'+this._super(e)}})}),e(gt,[Oe],function(e){return e.extend({Defaults:{classes:"widget btn",role:"button"},init:function(e){var t,n=this;n._super(e),e=n.settings,t=n.settings.size,n.on("click mousedown",function(e){e.preventDefault()}),n.on("touchstart",function(e){n.fire("click",e),e.preventDefault()}),e.subtype&&n.classes.add(e.subtype),t&&n.classes.add("btn-"+t),e.icon&&n.icon(e.icon)},icon:function(e){return arguments.length?(this.state.set("icon",e),this):this.state.get("icon")},repaint:function(){var e,t=this.getEl().firstChild;t&&((e=t.style).width=e.height="100%"),this._super()},renderHtml:function(){var e,t=this._id,n=this.classPrefix,i=this.state.get("icon"),r=this.state.get("text"),o="";return(e=this.settings.image)?(i="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",r&&(this.classes.add("btn-has-text"),o='<span class="'+n+'txt">'+this.encode(r)+"</span>"),i=i?n+"ico "+n+"i-"+i:"",'<div id="'+t+'" class="'+this.classes+'" tabindex="-1" aria-labelledby="'+t+'"><button role="presentation" type="button" tabindex="-1">'+(i?'<i class="'+i+'"'+e+"></i>":"")+o+"</button></div>"},bindStates:function(){function o(e){var t=n("span."+i,a.getEl());e?(t[0]||(n("button:first",a.getEl()).append('<span class="'+i+'"></span>'),t=n("span."+i,a.getEl())),t.html(a.encode(e))):t.remove(),a.classes.toggle("btn-has-text",!!e)}var a=this,n=a.$,i=a.classPrefix+"txt";return a.state.on("change:text",function(e){o(e.value)}),a.state.on("change:icon",function(e){var t=e.value,n=a.classPrefix;t=(a.settings.icon=t)?n+"ico "+n+"i-"+a.settings.icon:"";var i=a.getEl().firstChild,r=i.getElementsByTagName("i")[0];t?(r&&r==i.firstChild||(r=document.createElement("i"),i.insertBefore(r,i.firstChild)),r.className=t):r&&i.removeChild(r),o(a.state.get("text"))}),a._super()}})}),e(mt,[xe],function(e){return e.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var e=this._layout;return this.classes.add("btn-group"),this.preRender(),e.preRender(this),'<div id="'+this._id+'" class="'+this.classes+'"><div id="'+this._id+'-body">'+(this.settings.html||"")+e.renderHtml(this)+"</div></div>"}})}),e(vt,[Oe],function(e){return e.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(e){var t=this;t._super(e),t.on("click mousedown",function(e){e.preventDefault()}),t.on("click",function(e){e.preventDefault(),t.disabled()||t.checked(!t.checked())}),t.checked(t.settings.checked)},checked:function(e){return arguments.length?(this.state.set("checked",e),this):this.state.get("checked")},value:function(e){return arguments.length?this.checked(e):this.checked()},renderHtml:function(){var e=this._id,t=this.classPrefix;return'<div id="'+e+'" class="'+this.classes+'" unselectable="on" aria-labelledby="'+e+'-al" tabindex="-1"><i class="'+t+"ico "+t+'i-checkbox"></i><span id="'+e+'-al" class="'+t+'label">'+this.encode(this.state.get("text"))+"</span></div>"},bindStates:function(){function t(e){o.classes.toggle("checked",e),o.aria("checked",e)}var o=this;return o.state.on("change:text",function(e){o.getEl("al").firstChild.data=o.translate(e.value)}),o.state.on("change:checked change:value",function(e){o.fire("change"),t(e.value)}),o.state.on("change:icon",function(e){var t=e.value,n=o.classPrefix;if(void 0===t)return o.settings.icon;t=(o.settings.icon=t)?n+"ico "+n+"i-"+o.settings.icon:"";var i=o.getEl().firstChild,r=i.getElementsByTagName("i")[0];t?(r&&r==i.firstChild||(r=document.createElement("i"),i.insertBefore(r,i.firstChild)),r.className=t):r&&i.removeChild(r)}),o.state.get("checked")&&t(!0),o._super()}})}),e(yt,[Oe,ye,he,f,B,d],function(e,o,l,c,i,n){return e.extend({init:function(i){var r=this;r._super(i),i=r.settings,r.classes.add("combobox"),r.subinput=!0,r.ariaTarget="inp",i.menu=i.menu||i.values,i.menu&&(i.icon="caret"),r.on("click",function(e){var t=e.target,n=r.getEl();if(c.contains(n,t)||t==n)for(;t&&t!=n;)t.id&&-1!=t.id.indexOf("-open")&&(r.fire("action"),i.menu&&(r.showMenu(),e.aria&&r.menu.items()[0].focus())),t=t.parentNode}),r.on("keydown",function(e){var t;13==e.keyCode&&"INPUT"===e.target.nodeName&&(e.preventDefault(),r.parents().reverse().each(function(e){if(e.toJSON)return t=e,!1}),r.fire("submit",{data:t.toJSON()}))}),r.on("keyup",function(e){if("INPUT"==e.target.nodeName){var t=r.state.get("value"),n=e.target.value;n!==t&&(r.state.set("value",n),r.fire("autocomplete",e))}}),r.on("mouseover",function(e){var t=r.tooltip().moveTo(-65535);if(r.statusLevel()&&-1!==e.target.className.indexOf(r.classPrefix+"status")){var n=r.statusMessage()||"Ok",i=t.text(n).show().testMoveRel(e.target,["bc-tc","bc-tl","bc-tr"]);t.classes.toggle("tooltip-n","bc-tc"==i),t.classes.toggle("tooltip-nw","bc-tl"==i),t.classes.toggle("tooltip-ne","bc-tr"==i),t.moveRel(e.target,i)}})},statusLevel:function(e){return 0<arguments.length&&this.state.set("statusLevel",e),this.state.get("statusLevel")},statusMessage:function(e){return 0<arguments.length&&this.state.set("statusMessage",e),this.state.get("statusMessage")},showMenu:function(){var e,t=this,n=t.settings;t.menu||((e=n.menu||[]).length?e={type:"menu",items:e}:e.type=e.type||"menu",t.menu=o.create(e).parent(t).renderTo(t.getContainerElm()),t.fire("createmenu"),t.menu.reflow(),t.menu.on("cancel",function(e){e.control===t.menu&&t.focus()}),t.menu.on("show hide",function(e){e.control.items().each(function(e){e.active(e.value()==t.value())})}).fire("show"),t.menu.on("select",function(e){t.value(e.control.value())}),t.on("focusin",function(e){"INPUT"==e.target.tagName.toUpperCase()&&t.menu.hide()}),t.aria("expanded",!0)),t.menu.show(),t.menu.layoutRect({w:t.layoutRect().w}),t.menu.moveRel(t.getEl(),t.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var e,t,n=this.getEl(),i=this.getEl("open"),r=this.layoutRect(),o=0,a=n.firstChild;this.statusLevel()&&"none"!==this.statusLevel()&&(o=parseInt(l.getRuntimeStyle(a,"padding-right"),10)-parseInt(l.getRuntimeStyle(a,"padding-left"),10)),e=i?r.w-l.getSize(i).width-10:r.w-10;var s=document;return s.all&&(!s.documentMode||s.documentMode<=8)&&(t=this.layoutRect().h-2+"px"),c(a).css({width:e-o,lineHeight:t}),this._super(),this},postRender:function(){var t=this;return c(this.getEl("inp")).on("change",function(e){t.state.set("value",e.target.value),t.fire("change",e)}),t._super()},renderHtml:function(){var e,t,n,i=this,r=i._id,o=i.settings,a=i.classPrefix,s=i.state.get("value")||"",l="",c="";return"spellcheck"in o&&(c+=' spellcheck="'+o.spellcheck+'"'),o.maxLength&&(c+=' maxlength="'+o.maxLength+'"'),o.size&&(c+=' size="'+o.size+'"'),o.subtype&&(c+=' type="'+o.subtype+'"'),n='<i id="'+r+'-status" class="mce-status mce-ico" style="display: none"></i>',i.disabled()&&(c+=' disabled="disabled"'),(e=o.icon)&&"caret"!=e&&(e=a+"ico "+a+"i-"+o.icon),t=i.state.get("text"),(e||t)&&(l='<div id="'+r+'-open" class="'+a+"btn "+a+'open" tabIndex="-1" role="button"><button id="'+r+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=e?'<i class="'+e+'"></i>':'<i class="'+a+'caret"></i>')+(t?(e?" ":"")+t:"")+"</button></div>",i.classes.add("has-open")),'<div id="'+r+'" class="'+i.classes+'"><input id="'+r+'-inp" class="'+a+'textbox" value="'+i.encode(s,!1)+'" hidefocus="1"'+c+' placeholder="'+i.encode(o.placeholder)+'" />'+n+l+"</div>"},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},showAutoComplete:function(e,i){var r=this;if(0!==e.length){r.menu?r.menu.items().remove():r.menu=o.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(r).renderTo(),n.each(e,function(e){var t,n;r.menu.add({text:e.title,url:e.previewUrl,match:i,classes:"menu-item-ellipsis",onclick:(t=e.value,n=e.title,function(){r.fire("selectitem",{title:n,value:t})})})}),r.menu.renderNew(),r.hideMenu(),r.menu.on("cancel",function(e){e.control.parent()===r.menu&&(e.stopPropagation(),r.focus(),r.hideMenu())}),r.menu.on("select",function(){r.focus()});var t=r.layoutRect().w;r.menu.layoutRect({w:t,minW:0,maxW:t}),r.menu.reflow(),r.menu.show(),r.menu.moveRel(r.getEl(),r.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])}else r.hideMenu()},hideMenu:function(){this.menu&&this.menu.hide()},bindStates:function(){var r=this;r.state.on("change:value",function(e){r.getEl("inp").value!=e.value&&(r.getEl("inp").value=e.value)}),r.state.on("change:disabled",function(e){r.getEl("inp").disabled=e.value}),r.state.on("change:statusLevel",function(e){var t=r.getEl("status"),n=r.classPrefix,i=e.value;l.css(t,"display","none"===i?"none":""),l.toggleClass(t,n+"i-checkmark","ok"===i),l.toggleClass(t,n+"i-warning","warn"===i),l.toggleClass(t,n+"i-error","error"===i),r.classes.toggle("has-status","none"!==i),r.repaint()}),l.on(r.getEl("status"),"mouseleave",function(){r.tooltip().hide()}),r.on("cancel",function(e){r.menu&&r.menu.visible()&&(e.stopPropagation(),r.hideMenu())});var n=function(e,t){t&&0<t.items().length&&t.items().eq(e)[0].focus()};return r.on("keydown",function(e){var t=e.keyCode;"INPUT"===e.target.nodeName&&(t===i.DOWN?(e.preventDefault(),r.fire("autocomplete"),n(0,r.menu)):t===i.UP&&(e.preventDefault(),n(-1,r.menu)))}),r._super()},remove:function(){c(this.getEl("inp")).off(),this.menu&&this.menu.remove(),this._super()}})}),e(bt,[yt],function(e){return e.extend({init:function(e){var t=this;e.spellcheck=!1,e.onaction&&(e.icon="none"),t._super(e),t.classes.add("colorbox"),t.on("change keyup postrender",function(){t.repaintColor(t.value())})},repaintColor:function(e){var t=this.getEl("open"),n=t?t.getElementsByTagName("i")[0]:null;if(n)try{n.style.background=e}catch(e){}},bindStates:function(){var t=this;return t.state.on("change:value",function(e){t.state.get("rendered")&&t.repaintColor(e.value)}),t._super()}})}),e(Ct,[gt,Ne],function(e,i){return e.extend({showPanel:function(){var t=this,e=t.settings;if(t.active(!0),t.panel)t.panel.show();else{var n=e.panel;n.type&&(n={layout:"grid",items:n}),n.role=n.role||"dialog",n.popover=!0,n.autohide=!0,n.ariaRoot=!0,t.panel=new i(n).on("hide",function(){t.active(!1)}).on("cancel",function(e){e.stopPropagation(),t.focus(),t.hidePanel()}).parent(t).renderTo(t.getContainerElm()),t.panel.fire("show"),t.panel.reflow()}t.panel.moveRel(t.getEl(),e.popoverAlign||(t.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){this.panel&&this.panel.hide()},postRender:function(){var t=this;return t.aria("haspopup",!0),t.on("click",function(e){e.control===t&&(t.panel&&t.panel.visible()?t.hidePanel():(t.showPanel(),t.panel.focus(!!e.aria)))}),t._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}})}),e(xt,[Ct,y],function(e,t){var i=t.DOM;return e.extend({init:function(e){this._super(e),this.classes.add("colorbutton")},color:function(e){return e?(this._color=e,this.getEl("preview").style.backgroundColor=e,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,i=e.state.get("text"),r=e.settings.icon?n+"ico "+n+"i-"+e.settings.icon:"",o=e.settings.image?" style=\"background-image: url('"+e.settings.image+"')\"":"",a="";return i&&(e.classes.add("btn-has-text"),a='<span class="'+n+'txt">'+e.encode(i)+"</span>"),'<div id="'+t+'" class="'+e.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(r?'<i class="'+r+'"'+o+"></i>":"")+'<span id="'+t+'-preview" class="'+n+'preview"></span>'+a+'</button><button type="button" class="'+n+'open" hidefocus="1" tabindex="-1"> <i class="'+n+'caret"></i></button></div>'},postRender:function(){var t=this,n=t.settings.onclick;return t.on("click",function(e){e.aria&&"down"==e.aria.key||e.control!=t||i.getParent(e.target,"."+t.classPrefix+"open")||(e.stopImmediatePropagation(),n.call(t,e))}),delete t.settings.onclick,t._super()}})}),e(wt,[],function(){var u=Math.min,d=Math.max,f=Math.round;return function(e){function t(e){var t;return"object"==typeof e?"r"in e?(s=e.r,l=e.g,c=e.b):"v"in e&&function(e,t,n){var i,r,o,a;if(e=(parseInt(e,10)||0)%360,t=parseInt(t,10)/100,n=parseInt(n,10)/100,t=d(0,u(t,1)),n=d(0,u(n,1)),0!==t){switch(i=e/60,o=(r=n*t)*(1-Math.abs(i%2-1)),a=n-r,Math.floor(i)){case 0:s=r,l=o,c=0;break;case 1:s=o,l=r,c=0;break;case 2:s=0,l=r,c=o;break;case 3:s=0,l=o,c=r;break;case 4:s=o,l=0,c=r;break;case 5:s=r,l=0,c=o;break;default:s=l=c=0}s=f(255*(s+a)),l=f(255*(l+a)),c=f(255*(c+a))}else s=l=c=f(255*n)}(e.h,e.s,e.v):(t=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(s=parseInt(t[1],10),l=parseInt(t[2],10),c=parseInt(t[3],10)):(t=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(s=parseInt(t[1],16),l=parseInt(t[2],16),c=parseInt(t[3],16)):(t=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(s=parseInt(t[1]+t[1],16),l=parseInt(t[2]+t[2],16),c=parseInt(t[3]+t[3],16)),s=s<0?0:255<s?255:s,l=l<0?0:255<l?255:l,c=c<0?0:255<c?255:c,n}var n=this,s=0,l=0,c=0;e&&t(e),n.toRgb=function(){return{r:s,g:l,b:c}},n.toHsv=function(){return e=s,t=l,n=c,r=i=0,(o=u(e/=255,u(t/=255,n/=255)))==(a=d(e,d(t,n)))?{h:0,s:0,v:100*(r=o)}:(i=(a-o)/a,{h:f(60*((e==o?3:n==o?1:5)-(e==o?t-n:n==o?e-t:n-e)/((r=a)-o))),s:f(100*i),v:f(100*r)});var e,t,n,i,r,o,a},n.toHex=function(){function e(e){return 1<(e=parseInt(e,10).toString(16)).length?e:"0"+e}return"#"+e(s)+e(l)+e(c)},n.parse=t}}),e(_t,[Oe,we,he,wt],function(e,d,f,h){return e.extend({Defaults:{classes:"widget colorpicker"},init:function(e){this._super(e)},postRender:function(){function n(e,t){var n,i,r=f.getPos(e);return n=t.pageX-r.x,i=t.pageY-r.y,{x:n=Math.max(0,Math.min(n/e.clientWidth,1)),y:i=Math.max(0,Math.min(i/e.clientHeight,1))}}function i(e,t){var n=(360-e.h)/360;f.css(a,{top:100*n+"%"}),t||f.css(l,{left:e.s+"%",top:100-e.v+"%"}),s.style.background=new h({s:100,v:100,h:e.h}).toHex(),c.color().parse({s:e.s,v:e.v,h:e.h})}function e(e){var t;t=n(s,e),r.s=100*t.x,r.v=100*(1-t.y),i(r),c.fire("change")}function t(e){var t;t=n(o,e),(r=u.toHsv()).h=360*(1-t.y),i(r,!0),c.fire("change")}var r,o,a,s,l,c=this,u=c.color();o=c.getEl("h"),a=c.getEl("hp"),s=c.getEl("sv"),l=c.getEl("svp"),c._repaint=function(){i(r=u.toHsv())},c._super(),c._svdraghelper=new d(c._id+"-sv",{start:e,drag:e}),c._hdraghelper=new d(c._id+"-h",{start:t,drag:t}),c._repaint()},rgb:function(){return this.color().toRgb()},value:function(e){return arguments.length?(this.color().parse(e),void(this._rendered&&this._repaint())):this.color().toHex()},color:function(){return this._color||(this._color=new h),this._color},renderHtml:function(){var e,t=this._id,o=this.classPrefix,a="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000";return e='<div id="'+t+'-h" class="'+o+'colorpicker-h" style="'+("background: -ms-linear-gradient(top,"+a+");background: linear-gradient(to bottom,"+a+");")+'">'+function(){var e,t,n,i,r="";for(n="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",e=0,t=(i=a.split(",")).length-1;e<t;e++)r+='<div class="'+o+'colorpicker-h-chunk" style="height:'+100/t+"%;"+n+i[e]+",endColorstr="+i[e+1]+");-ms-"+n+i[e]+",endColorstr="+i[e+1]+')"></div>';return r}()+'<div id="'+t+'-hp" class="'+o+'colorpicker-h-marker"></div></div>','<div id="'+t+'" class="'+this.classes+'"><div id="'+t+'-sv" class="'+o+'colorpicker-sv"><div class="'+o+'colorpicker-overlay1"><div class="'+o+'colorpicker-overlay2"><div id="'+t+'-svp" class="'+o+'colorpicker-selector1"><div class="'+o+'colorpicker-selector2"></div></div></div></div></div>'+e+"</div>"}})}),e(Et,[Oe],function(e){return e.extend({init:function(e){var n=this;e.delimiter||(e.delimiter=""),n._super(e),n.classes.add("path"),n.canFocus=!0,n.on("click",function(e){var t;(t=e.target.getAttribute("data-index"))&&n.fire("select",{value:n.row()[t],index:t})}),n.row(n.settings.row)},focus:function(){return this.getEl().firstChild.focus(),this},row:function(e){return arguments.length?(this.state.set("row",e),this):this.state.get("row")},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'">'+this._getDataPathHtml(this.state.get("row"))+"</div>"},bindStates:function(){var t=this;return t.state.on("change:row",function(e){t.innerHtml(t._getDataPathHtml(e.value))}),t._super()},_getDataPathHtml:function(e){var t,n,i=e||[],r="",o=this.classPrefix;for(t=0,n=i.length;t<n;t++)r+=(0<t?'<div class="'+o+'divider" aria-hidden="true"> '+this.settings.delimiter+" </div>":"")+'<div role="button" class="'+o+"path-item"+(t==n-1?" "+o+"last":"")+'" data-index="'+t+'" tabindex="-1" id="'+this._id+"-"+t+'" aria-level="'+(t+1)+'">'+i[t].name+"</div>";return r||(r='<div class="'+o+'path-item"></div>'),r}})}),e(Tt,[Et],function(e){return e.extend({postRender:function(){function o(e){if(1===e.nodeType){if("BR"==e.nodeName||e.getAttribute("data-mce-bogus"))return!0;if("bookmark"===e.getAttribute("data-mce-type"))return!0}return!1}var a=this,s=a.settings.editor;return!1!==s.settings.elementpath&&(a.on("select",function(e){s.focus(),s.selection.select(this.row()[e.index].element),s.nodeChanged()}),s.on("nodeChange",function(e){for(var t=[],n=e.parents,i=n.length;i--;)if(1==n[i].nodeType&&!o(n[i])){var r=s.fire("ResolveName",{name:n[i].nodeName.toLowerCase(),target:n[i]});if(r.isDefaultPrevented()||t.push({name:r.name,element:n[i]}),r.isPropagationStopped())break}a.row(t)})),a._super()}})}),e(St,[xe],function(e){return e.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.classes.add("formitem"),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<div id="'+e._id+'-title" class="'+n+'title">'+e.settings.title+"</div>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"}})}),e(Nt,[xe,St,d],function(e,r,o){return e.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var i=this,e=i.items();i.settings.formItemDefaults||(i.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),e.each(function(e){var t,n=e.settings.label;n&&((t=new r(o.extend({items:{type:"label",id:e._id+"-l",text:n,flex:0,forId:e._id,disabled:e.disabled()}},i.settings.formItemDefaults))).type="formitem",e.aria("labelledby",e._id+"-l"),void 0===e.settings.flex&&(e.settings.flex=1),i.replace(e,t),t.add(e))})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){this._super(),this.fromJSON(this.settings.data)},bindStates:function(){function e(){var e,t,i=0,r=[];if(!1!==n.settings.labelGapCalc)for(("children"==n.settings.labelGapCalc?n.find("formitem"):n.items()).filter("formitem").each(function(e){var t=e.items()[0],n=t.getEl().clientWidth;i=i<n?n:i,r.push(t)}),t=n.settings.labelGap||0,e=r.length;e--;)r[e].settings.minWidth=i+t}var n=this;n._super(),n.on("show",e),e()}})}),e(kt,[Nt],function(e){return e.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.preRender(),t.preRender(e),'<fieldset id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<legend id="'+e._id+'-title" class="'+n+'fieldset-title">'+e.settings.title+"</legend>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></fieldset>"}})}),e(At,[y,P,u,tt,d,x],function(i,r,o,a,e,n){var t=e.trim,s=function(e,t,n,i,r){return{type:e,title:t,url:n,level:i,attach:r}},l=function(e){return e.innerText||e.textContent},c=function(e){return(t=e)&&"A"===t.nodeName&&(t.id||t.name)&&d(e);var t},u=function(e){return e&&/^(H[1-6])$/.test(e.nodeName)},d=function(e){return function(e){for(;e=e.parentNode;){var t=e.contentEditable;if(t&&"inherit"!==t)return n.isContentEditableTrue(e)}return!1}(e)&&!n.isContentEditableFalse(e)},f=function(e){return u(e)&&d(e)},h=function(e){var t,n,i=(t=e).id?t.id:a.uuid("h");return s("header",l(e),"#"+i,u(n=e)?parseInt(n.nodeName.substr(1),10):0,function(){e.id=i})},p=function(e){var t=e.id||e.name,n=l(e);return s("anchor",n||"#"+t,"#"+t,0,r.noop)},g=function(e){var t,n;return t="h1,h2,h3,h4,h5,h6,a:not([href])",n=e,i.DOM.select(t,n)},m=function(e){return 0<t(e.title).length};return{find:function(e){var t,n,i=g(e);return o.filter((n=i,o.map(o.filter(n,f),h)).concat((t=i,o.map(o.filter(t,c),p))),m)}}}),e(Dt,[yt,d,u,P,B,At],function(e,d,f,h,t,s){var p={},g=function(e){return{title:e.title,value:{title:{raw:e.title},url:e.url,attach:e.attach}}},m=function(e,t){return{title:e,value:{title:e,url:t,attach:h.noop}}},v=function(e,t,n){var i=t in e?e[t]:n;return!1===i?null:i},l=function(e,i,n,t){var r,o,a,s,l={title:"-"},c=function(e){var t=f.filter(e[n],function(e){return t=e,n=i,!f.find(n,function(e){return e.url===t});var t,n});return d.map(t,function(e){return{title:e,value:{title:e,url:e,attach:h.noop}}})},u=function(t){var e,n=f.filter(i,function(e){return e.type==t});return e=n,d.map(e,g)};return!1===t.typeahead_urls?[]:"file"===n?(r=[y(e,c(p)),y(e,u("header")),y(e,(o=u("anchor"),a=v(t,"anchor_top","#top"),s=v(t,"anchor_bottom","#bottom"),null!==a&&o.unshift(m("<top>",a)),null!==s&&o.push(m("<bottom>",s)),o))],f.reduce(r,function(e,t){return 0===e.length||0===t.length?e.concat(t):e.concat(l,t)},[])):y(e,c(p))},y=function(e,t){var n=e.toLowerCase(),i=d.grep(t,function(e){return-1!==e.title.toLowerCase().indexOf(n)});return 1===i.length&&i[0].title===e?[]:i},c=function(r,i,o,a){var t=function(e){var t=s.find(o),n=l(e,t,a,i);r.showAutoComplete(n,e)};r.on("autocomplete",function(){t(r.value())}),r.on("selectitem",function(e){var t=e.value;r.value(t.url);var n,i=(n=t.title).raw?n.raw:n;"image"===a?r.fire("change",{meta:{alt:i,attach:t.attach}}):r.fire("change",{meta:{text:i,attach:t.attach}}),r.focus()}),r.on("click",function(e){0===r.value().length&&"INPUT"===e.target.nodeName&&t("")}),r.on("PostRender",function(){r.getRoot().on("submit",function(e){var t,n,i;e.isDefaultPrevented()||(t=r.value(),i=p[n=a],/^https?/.test(t)&&(i?-1===f.indexOf(i,t)&&(p[n]=i.slice(0,5).concat(t)):p[n]=[t]))})})},u=function(o,e,n){var i=e.filepicker_validator_handler;if(i){o.state.on("change:value",function(e){var t;0===(t=e.value).length?o.statusLevel("none"):i({url:t,type:n},function(e){var t,n,i,r=(n=(t=e).status,i=t.message,"valid"===n?{status:"ok",message:i}:"unknown"===n?{status:"warn",message:i}:"invalid"===n?{status:"warn",message:i}:{status:"none",message:""});o.statusMessage(r.message),o.statusLevel(r.status)})})}};return e.extend({init:function(e){var t,n,i,r=this,o=tinymce.activeEditor,a=o.settings,s=e.filetype;e.spellcheck=!1,(i=a.file_picker_types||a.file_browser_callback_types)&&(i=d.makeMap(i,/[, ]/)),i&&!i[s]||(!(n=a.file_picker_callback)||i&&!i[s]?!(n=a.file_browser_callback)||i&&!i[s]||(t=function(){n(r.getEl("inp").id,r.value(),s,window)}):t=function(){var e=r.fire("beforecall").meta;e=d.extend({filetype:s},e),n.call(o,function(e,t){r.value(e).fire("change",{meta:t})},r.value(),e)}),t&&(e.icon="browse",e.onaction=t),r._super(e),c(r,a,o.getBody(),s),u(r,a,s)}})}),e(Rt,[pt],function(e){return e.extend({recalc:function(e){var t=e.layoutRect(),n=e.paddingBox;e.items().filter(":visible").each(function(e){e.layoutRect({x:n.left,y:n.top,w:t.innerW-n.right-n.left,h:t.innerH-n.top-n.bottom}),e.recalc&&e.recalc()})}})}),e(Ot,[pt],function(e){return e.extend({recalc:function(e){var t,n,i,r,o,a,s,l,c,u,d,f,h,p,g,m,v,y,b,C,x,w,_,E,T,S,N,k,A,D,R,O,I,B,L,P,M,H=[],F=Math.max,$=Math.min;for(i=e.items().filter(":visible"),r=e.layoutRect(),o=e.paddingBox,a=e.settings,f=e.isRtl()?a.direction||"row-reversed":a.direction,s=a.align,l=e.isRtl()?a.pack||"end":a.pack,c=a.spacing||0,"row-reversed"!=f&&"column-reverse"!=f||(i=i.set(i.toArray().reverse()),f=f.split("-")[0]),"column"==f?(E="y",w="h",_="minH",T="maxH",N="innerH",S="top",k="deltaH",A="contentH",B="left",O="w",D="x",R="innerW",I="minW",L="right",P="deltaW",M="contentW"):(E="x",w="w",_="minW",T="maxW",N="innerW",S="left",k="deltaW",A="contentW",B="top",O="h",D="y",R="innerH",I="minH",L="bottom",P="deltaH",M="contentH"),d=r[N]-o[S]-o[S],x=u=0,t=0,n=i.length;t<n;t++)p=(h=i[t]).layoutRect(),d-=t<n-1?c:0,0<(g=h.settings.flex)&&(u+=g,p[T]&&H.push(h),p.flex=g),d-=p[_],x<(m=o[B]+p[I]+o[L])&&(x=m);if((b={})[_]=d<0?r[_]-d+r[k]:r[N]-d+r[k],b[I]=x+r[P],b[A]=r[N]-d,b[M]=x,b.minW=$(b.minW,r.maxW),b.minH=$(b.minH,r.maxH),b.minW=F(b.minW,r.startMinWidth),b.minH=F(b.minH,r.startMinHeight),!r.autoResize||b.minW==r.minW&&b.minH==r.minH){for(y=d/u,t=0,n=H.length;t<n;t++)(v=(p=(h=H[t]).layoutRect())[T])<(m=p[_]+p.flex*y)?(d-=p[T]-p[_],u-=p.flex,p.flex=0,p.maxFlexSize=v):p.maxFlexSize=0;for(y=d/u,C=o[S],b={},0===u&&("end"==l?C=d+o[S]:"center"==l?(C=Math.round(r[N]/2-(r[N]-d)/2)+o[S])<0&&(C=o[S]):"justify"==l&&(C=o[S],c=Math.floor(d/(i.length-1)))),b[D]=o[B],t=0,n=i.length;t<n;t++)m=(p=(h=i[t]).layoutRect()).maxFlexSize||p[_],"center"===s?b[D]=Math.round(r[R]/2-p[O]/2):"stretch"===s?(b[O]=F(p[I]||0,r[R]-o[B]-o[L]),b[D]=o[B]):"end"===s&&(b[D]=r[R]-p[O]-o.top),0<p.flex&&(m+=p.flex*y),b[w]=m,b[E]=C,h.layoutRect(b),h.recalc&&h.recalc(),C+=m+c}else if(b.w=b.minW,b.h=b.minH,e.layoutRect(b),this.recalc(e),null===e._lastRect){var j=e.parent();j&&(j._lastRect=null,j.recalc())}}})}),e(It,[ht],function(e){return e.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(e){e.items().filter(":visible").each(function(e){e.recalc&&e.recalc()})},isNative:function(){return!0}})}),e(Bt,[y],function(n){var r=function(e,t,n){for(;n!==t;){if(n.style[e])return n.style[e];n=n.parentNode}return""},o=function(e,t){return n.DOM.getStyle(t,e,!0)};return{getFontSize:function(e,t){var n=r("fontSize",e,t);return""!==n?n:o("fontSize",t)},getFontFamily:function(e,t){var n=r("fontFamily",e,t),i=""!==n?n:o("fontFamily",t);return i!==be?i.replace(/[\'\"]/g,"").replace(/,\s+/g,","):""},toPt:function(e){return/[0-9.]+px$/.test(e)?Math.round(72*parseInt(e,10)/96)+"pt":e}}}),e(Lt,[ve,Oe,Ne,d,u,y,at,r,Bt],function(r,e,f,h,t,o,n,a,p){function s(a){function n(e){for(var t=(e=e.replace(/;$/,"").split(";")).length;t--;)e[t]=e[t].split("=");return e}function i(e){return function(){var t=this;a.formatter?a.formatter.formatChanged(e,function(e){t.active(e)}):a.on("init",function(){a.formatter.formatChanged(e,function(e){t.active(e)})})}}function e(n){return function(){function e(){var e="redo"==n?"hasRedo":"hasUndo";return!!a.undoManager&&a.undoManager[e]()}var t=this;t.disabled(!e()),a.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){t.disabled(a.readonly||!e())})}}function s(e){e.control&&(e=e.control.value()),e&&a.execCommand("mceToggleFormat",!1,e)}function r(e){var n=e.items().length;return e.items().each(function(e){e.menu&&e.visible(0<r(e.menu)),!e.menu&&e.settings.menu&&e.visible(0<function n(e){var i=e.length;return h.each(e,function(e){e.menu&&(e.hidden=0===n(e.menu));var t=e.format;t&&(e.hidden=!a.formatter.canApply(t)),e.hidden&&i--}),i}(e.settings.menu));var t=e.settings.format;t&&e.visible(a.formatter.canApply(t)),e.visible()||n--}),n}var t,o,l,c;o=0,l=[],c=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}],a.on("init",function(){g(l,function(e){a.formatter.register(e.name,e)})}),t={type:"menu",items:function i(e){var r=[];if(e)return g(e,function(e){var t={text:e.title,icon:e.icon};if(e.items)t.menu=i(e.items);else{var n=e.format||"custom"+o++;e.format||(e.name=n,l.push(e)),t.format=n,t.cmd=e.cmd}r.push(t)}),r}(a.settings.style_formats_merge?a.settings.style_formats?c.concat(a.settings.style_formats):c:a.settings.style_formats||c),onPostRender:function(e){a.fire("renderFormatsMenu",{control:e.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return a.formatter.getCssText(this.settings.format)},onPostRender:function(){var n=this;n.parent().on("show",function(){var e,t;(e=n.settings.format)&&(n.disabled(!a.formatter.canApply(e)),n.active(a.formatter.match(e))),(t=n.settings.cmd)&&n.active(a.queryCommandState(t))})},onclick:function(){this.settings.format&&s(this.settings.format),this.settings.cmd&&a.execCommand(this.settings.cmd)}}},g({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(e,t){a.addButton(t,{tooltip:e,onPostRender:i(t),onclick:function(){s(t)}})}),g({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(e,t){a.addButton(t,{tooltip:e[0],cmd:e[1]})}),g({blockquote:["Blockquote","mceBlockQuote"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(e,t){a.addButton(t,{tooltip:e[0],cmd:e[1],onPostRender:i(t)})});var u=function(e){var t,n;if("string"==typeof e)n=e.split(" ");else if(h.isArray(e))return m(h.map(e,u));return t=h.grep(n,function(e){return"|"===e||e in a.menuItems}),h.map(t,function(e){return"|"===e?{text:"-"}:a.menuItems[e]})},d=function(e){return t=e.insert_button_items?u(e.insert_button_items):(i="insert",r=[{text:"-"}],o=h.grep(a.menuItems,function(e){return e.context===i}),h.each(o,function(e){"before"==e.separator&&r.push({text:"|"}),e.prependToContext?r.unshift(e):r.push(e),"after"==e.separator&&r.push({text:"|"})}),r),0<(n=t).length&&"-"===n[0].text&&(n=n.slice(1)),0<n.length&&"-"===n[n.length-1].text&&(n=n.slice(0,n.length-1)),n;var t,n,i,r,o};a.addButton("undo",{tooltip:"Undo",onPostRender:e("undo"),cmd:"undo"}),a.addButton("redo",{tooltip:"Redo",onPostRender:e("redo"),cmd:"redo"}),a.addMenuItem("newdocument",{text:"New document",icon:"newdocument",cmd:"mceNewDocument"}),a.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:e("undo"),cmd:"undo"}),a.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:e("redo"),cmd:"redo"}),a.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:function(){var t=this;a.on("VisualAid",function(e){t.active(e.hasVisual)}),t.active(a.hasVisual)},cmd:"mceToggleVisualAid"}),a.addButton("remove",{tooltip:"Remove",icon:"remove",cmd:"Delete"}),a.addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function(){this.menu.add(d(a.settings)),this.menu.renderNew()}}),g({cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"],bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(e,t){a.addMenuItem(t,{text:e[0],icon:t,shortcut:e[2],cmd:e[1]})}),a.on("mousedown",function(){f.hideAll()}),a.addButton("styleselect",{type:"menubutton",text:"Formats",menu:t,onShowMenu:function(){a.settings.style_formats_autohide&&r(this.menu)}}),a.addButton("formatselect",function(){var r,o,t=[],e=n(a.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");return g(e,function(e){t.push({text:e[0],value:e[1],textStyle:function(){return a.formatter.getCssText(e[1])}})}),{type:"listbox",text:e[0][0],values:t,fixedWidth:!0,onselect:s,onPostRender:(r=t,function(){var t=this;a.on("nodeChange",function(e){var n=a.formatter,i=null;g(e.parents,function(t){if(g(r,function(e){if(o?n.matchNode(t,o,{value:e.value})&&(i=e.value):n.matchNode(t,e.value)&&(i=e.value),i)return!1}),i)return!1}),t.value(i)})})}}),a.addButton("fontselect",function(){var o,t=[],e=n(a.settings.font_formats||"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats");return g(e,function(e){t.push({text:{raw:e[0]},value:e[1],textStyle:-1==e[1].indexOf("dings")?"font-family:"+e[1]:""})}),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:t,fixedWidth:!0,onPostRender:(o=t,function(){var i=this,r=function(e){return e?e.split(",")[0]:""};a.on("nodeChange",function(e){var t,n=null;t=p.getFontFamily(a.getBody(),e.element),g(o,function(e){e.value.toLowerCase()===t.toLowerCase()&&(n=e.value)}),g(o,function(e){n||r(e.value).toLowerCase()!==r(t).toLowerCase()||(n=e.value)}),i.value(n),!n&&t&&i.text(r(t))})}),onselect:function(e){e.control.settings.value&&a.execCommand("FontName",!1,e.control.settings.value)}}}),a.addButton("fontsizeselect",function(){var o,r=[],e=a.settings.fontsize_formats||"8pt 10pt 12pt 14pt 18pt 24pt 36pt";return g(e.split(" "),function(e){var t=e,n=e,i=e.split("=");1<i.length&&(t=i[0],n=i[1]),r.push({text:t,value:n})}),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:r,fixedWidth:!0,onPostRender:(o=r,function(){var r=this;a.on("nodeChange",function(e){var t,n,i=null;t=p.getFontSize(a.getBody(),e.element),n=p.toPt(t),g(o,function(e){e.value===t?i=t:e.value===n&&(i=n)}),r.value(i),i||r.text(n)})}),onclick:function(e){e.control.settings.value&&a.execCommand("FontSize",!1,e.control.settings.value)}}}),a.addMenuItem("formats",{text:"Formats",menu:t})}var g=h.each,m=function(e){return t.reduce(e,function(e,t){return e.concat(t)},[])};n.on("AddEditor",function(e){var t,n,i=e.editor;(n=i).on("ScriptsLoaded",function(){n.rtl&&(r.rtl=!0)}),s(i),(t=i).settings.ui_container&&(a.container=o.DOM.select(t.settings.ui_container)[0])}),r.translate=function(e){return n.translate(e)},e.tooltips=!a.iOS}),e(Pt,[pt],function(e){return e.extend({recalc:function(e){var t,n,i,r,o,a,s,l,c,u,d,f,h,p,g,m,v,y,b,C,x,w,_,E,T,S,N,k,A=[],D=[];t=e.settings,r=e.items().filter(":visible"),o=e.layoutRect(),i=t.columns||Math.ceil(Math.sqrt(r.length)),n=Math.ceil(r.length/i),y=t.spacingH||t.spacing||0,b=t.spacingV||t.spacing||0,C=t.alignH||t.align,x=t.alignV||t.align,m=e.paddingBox,k="reverseRows"in t?t.reverseRows:e.isRtl(),C&&"string"==typeof C&&(C=[C]),x&&"string"==typeof x&&(x=[x]);for(d=0;d<i;d++)A.push(0);for(f=0;f<n;f++)D.push(0);for(f=0;f<n;f++)for(d=0;d<i&&(u=r[f*i+d]);d++)E=(c=u.layoutRect()).minW,T=c.minH,A[d]=E>A[d]?E:A[d],D[f]=T>D[f]?T:D[f];for(S=o.innerW-m.left-m.right,d=w=0;d<i;d++)w+=A[d]+(0<d?y:0),S-=(0<d?y:0)+A[d];for(N=o.innerH-m.top-m.bottom,f=_=0;f<n;f++)_+=D[f]+(0<f?b:0),N-=(0<f?b:0)+D[f];if(w+=m.left+m.right,_+=m.top+m.bottom,(l={}).minW=w+(o.w-o.innerW),l.minH=_+(o.h-o.innerH),l.contentW=l.minW-o.deltaW,l.contentH=l.minH-o.deltaH,l.minW=Math.min(l.minW,o.maxW),l.minH=Math.min(l.minH,o.maxH),l.minW=Math.max(l.minW,o.startMinWidth),l.minH=Math.max(l.minH,o.startMinHeight),!o.autoResize||l.minW==o.minW&&l.minH==o.minH){var R;o.autoResize&&((l=e.layoutRect(l)).contentW=l.minW-o.deltaW,l.contentH=l.minH-o.deltaH),R="start"==t.packV?0:0<N?Math.floor(N/n):0;var O=0,I=t.flexWidths;if(I)for(d=0;d<I.length;d++)O+=I[d];else O=i;var B=S/O;for(d=0;d<i;d++)A[d]+=I?I[d]*B:B;for(p=m.top,f=0;f<n;f++){for(h=m.left,s=D[f]+R,d=0;d<i&&(u=r[k?f*i+i-1-d:f*i+d]);d++)g=u.settings,c=u.layoutRect(),a=Math.max(A[d],c.startMinWidth),c.x=h,c.y=p,"center"==(v=g.alignH||(C?C[d]||C[0]:null))?c.x=h+a/2-c.w/2:"right"==v?c.x=h+a-c.w:"stretch"==v&&(c.w=a),"center"==(v=g.alignV||(x?x[d]||x[0]:null))?c.y=p+s/2-c.h/2:"bottom"==v?c.y=p+s-c.h:"stretch"==v&&(c.h=s),u.layoutRect(c),h+=a+y,u.recalc&&u.recalc();p+=s+b}}else if(l.w=l.minW,l.h=l.minH,e.layoutRect(l),this.recalc(e),null===e._lastRect){var L=e.parent();L&&(L._lastRect=null,L.recalc())}}})}),e(Mt,[Oe,i],function(e,r){return e.extend({renderHtml:function(){return this.classes.add("iframe"),this.canFocus=!1,'<iframe id="'+this._id+'" class="'+this.classes+'" tabindex="-1" src="'+(this.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(e){this.getEl().src=e},html:function(e,t){var n=this,i=this.getEl().contentWindow.document.body;return i?(i.innerHTML=e,t&&t()):r.setTimeout(function(){n.html(e)}),this}})}),e(Ht,[Oe],function(e){return e.extend({init:function(e){this._super(e),this.classes.add("widget").add("infobox"),this.canFocus=!1},severity:function(e){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(e)},help:function(e){this.state.set("help",e)},renderHtml:function(){var e=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'"><div id="'+this._id+'-body">'+this.encode(this.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+e+"ico "+e+'i-help"></i></button></div></div>'},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.getEl("body").firstChild.data=t.encode(e.value),t.state.get("rendered")&&t.updateLayoutRect()}),t.state.on("change:help",function(e){t.classes.toggle("has-help",e.value),t.state.get("rendered")&&t.updateLayoutRect()}),t._super()}})}),e(Ft,[Oe,he],function(e,t){return e.extend({init:function(e){this._super(e),this.classes.add("widget").add("label"),this.canFocus=!1,e.multiline&&this.classes.add("autoscroll"),e.strong&&this.classes.add("strong")},initLayoutRect:function(){var e=this._super();this.settings.multiline&&(t.getSize(this.getEl()).width>e.maxW&&(e.minW=e.maxW,this.classes.add("multiline")),this.getEl().style.width=e.minW+"px",e.startMinH=e.h=e.minH=Math.min(e.maxH,t.getSize(this.getEl()).height));return e},repaint:function(){return this.settings.multiline||(this.getEl().style.lineHeight=this.layoutRect().h+"px"),this._super()},severity:function(e){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(e)},renderHtml:function(){var e,t,n=this,i=n.settings.forId;return!i&&(t=n.settings.forName)&&((e=n.getRoot().find("#"+t)[0])&&(i=e._id)),i?'<label id="'+n._id+'" class="'+n.classes+'"'+(i?' for="'+i+'"':"")+">"+n.encode(n.state.get("text"))+"</label>":'<span id="'+n._id+'" class="'+n.classes+'">'+n.encode(n.state.get("text"))+"</span>"},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.innerHtml(t.encode(e.value)),t.state.get("rendered")&&t.updateLayoutRect()}),t._super()}})}),e($t,[xe],function(e){return e.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(e){this._super(e),this.classes.add("toolbar")},postRender:function(){return this.items().each(function(e){e.classes.add("toolbar-item")}),this._super()}})}),e(jt,[$t],function(e){return e.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})}),e(zt,[gt,ye,jt],function(e,i,s){var o=e.extend({init:function(e){this._renderOpen=!0,this._super(e),e=this.settings,this.classes.add("menubtn"),e.fixedWidth&&this.classes.add("fixed-width"),this.aria("haspopup",!0),this.state.set("menu",e.menu||this.render())},showMenu:function(e){var t,n=this;return n.menu&&n.menu.visible()&&!1!==e?n.hideMenu():(n.menu||((t=n.state.get("menu")||[]).length?t={type:"menu",items:t}:t.type=t.type||"menu",t.renderTo?n.menu=t.parent(n).show().renderTo():n.menu=i.create(t).parent(n).renderTo(),n.fire("createmenu"),n.menu.reflow(),n.menu.on("cancel",function(e){e.control.parent()===n.menu&&(e.stopPropagation(),n.focus(),n.hideMenu())}),n.menu.on("select",function(){n.focus()}),n.menu.on("show hide",function(e){e.control==n.menu&&n.activeMenu("show"==e.type),n.aria("expanded","show"==e.type)}).fire("show")),n.menu.show(),n.menu.layoutRect({w:n.layoutRect().w}),n.menu.moveRel(n.getEl(),n.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]),void n.fire("showmenu"))},hideMenu:function(){this.menu&&(this.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),this.menu.hide())},activeMenu:function(e){this.classes.toggle("active",e)},renderHtml:function(){var e,t=this,n=t._id,i=t.classPrefix,r=t.settings.icon,o=t.state.get("text"),a="";return(e=t.settings.image)?(r="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",o&&(t.classes.add("btn-has-text"),a='<span class="'+i+'txt">'+t.encode(o)+"</span>"),r=t.settings.icon?i+"ico "+i+"i-"+r:"",t.aria("role",t.parent()instanceof s?"menuitem":"button"),'<div id="'+n+'" class="'+t.classes+'" tabindex="-1" aria-labelledby="'+n+'"><button id="'+n+'-open" role="presentation" type="button" tabindex="-1">'+(r?'<i class="'+r+'"'+e+"></i>":"")+a+' <i class="'+i+'caret"></i></button></div>'},postRender:function(){var r=this;return r.on("click",function(e){e.control===r&&function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1}(e.target,r.getEl())&&(r.focus(),r.showMenu(!e.aria),e.aria&&r.menu.items().filter(":visible")[0].focus())}),r.on("mouseenter",function(e){var t,n=e.control,i=r.parent();n&&i&&n instanceof o&&n.parent()==i&&(i.items().filter("MenuButton").each(function(e){e.hideMenu&&e!=n&&(e.menu&&e.menu.visible()&&(t=!0),e.hideMenu())}),t&&(n.focus(),n.showMenu()))}),r._super()},bindStates:function(){var e=this;return e.state.on("change:menu",function(){e.menu&&e.menu.remove(),e.menu=null}),e._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}});return o}),e(Wt,[Oe,ye,r,i],function(e,o,h,r){return e.extend({Defaults:{border:0,role:"menuitem"},init:function(e){var t,n=this;n._super(e),e=n.settings,n.classes.add("menu-item"),e.menu&&n.classes.add("menu-item-expand"),e.preview&&n.classes.add("menu-item-preview"),"-"!==(t=n.state.get("text"))&&"|"!==t||(n.classes.add("menu-item-sep"),n.aria("role","separator"),n.state.set("text","-")),e.selectable&&(n.aria("role","menuitemcheckbox"),n.classes.add("menu-item-checkbox"),e.icon="selected"),e.preview||e.selectable||n.classes.add("menu-item-normal"),n.on("mousedown",function(e){e.preventDefault()}),e.menu&&!e.ariaHideMenu&&n.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var t,n=this,e=n.settings,i=n.parent();if(i.items().each(function(e){e!==n&&e.hideMenu()}),e.menu){(t=n.menu)?t.show():((t=e.menu).length?t={type:"menu",items:t}:t.type=t.type||"menu",i.settings.itemDefaults&&(t.itemDefaults=i.settings.itemDefaults),(t=n.menu=o.create(t).parent(n).renderTo()).reflow(),t.on("cancel",function(e){e.stopPropagation(),n.focus(),t.hide()}),t.on("show hide",function(e){e.control.items&&e.control.items().each(function(e){e.active(e.settings.selected)})}).fire("show"),t.on("hide",function(e){e.control===t&&n.classes.remove("selected")}),t.submenu=!0),t._parentMenu=i,t.classes.add("menu-sub");var r=t.testMoveRel(n.getEl(),n.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);t.moveRel(n.getEl(),r),r="menu-sub-"+(t.rel=r),t.classes.remove(t._lastRel).add(r),t._lastRel=r,n.classes.add("selected"),n.aria("expanded",!0)}},hideMenu:function(){return this.menu&&(this.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),this.menu.hide(),this.aria("expanded",!1)),this},renderHtml:function(){function n(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function e(e){var t=a.match||"";return t?e.replace(new RegExp(n(t),"gi"),function(e){return"!mce~match["+e+"]mce~match!"}):e}function t(e){return e.replace(new RegExp(n("!mce~match["),"g"),"<b>").replace(new RegExp(n("]mce~match!"),"g"),"</b>")}var i,r=this,o=r._id,a=r.settings,s=r.classPrefix,l=r.state.get("text"),c=r.settings.icon,u="",d=a.shortcut,f=r.encode(a.url);return c&&r.parent().classes.add("menu-has-icons"),a.image&&(u=" style=\"background-image: url('"+a.image+"')\""),d&&(d=function(e){var t,n,i;for(i=h.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},e=e.split("+"),t=0;t<e.length;t++)(n=i[e[t].toLowerCase()])&&(e[t]=n);return e.join("+")}(d)),c=s+"ico "+s+"i-"+(r.settings.icon||"none"),i="-"!==l?'<i class="'+c+'"'+u+"></i>":"",l=t(r.encode(e(l))),f=t(r.encode(e(f))),'<div id="'+o+'" class="'+r.classes+'" tabindex="-1">'+i+("-"!==l?'<span id="'+o+'-text" class="'+s+'text">'+l+"</span>":"")+(d?'<div id="'+o+'-shortcut" class="'+s+'menu-shortcut">'+d+"</div>":"")+(a.menu?'<div class="'+s+'caret"></div>':"")+(f?'<div class="'+s+'menu-item-link">'+f+"</div>":"")+"</div>"},postRender:function(){var t=this,n=t.settings,e=n.textStyle;if("function"==typeof e&&(e=e.call(this)),e){var i=t.getEl("text");i&&i.setAttribute("style",e)}return t.on("mouseenter click",function(e){e.control===t&&(n.menu||"click"!==e.type?(t.showMenu(),e.aria&&t.menu.focus(!0)):(t.fire("select"),r.requestAnimationFrame(function(){t.parent().hideAll()})))}),t._super(),t},hover:function(){return this.parent().items().each(function(e){e.classes.remove("selected")}),this.classes.toggle("selected",!0),this},active:function(e){return void 0!==e&&this.aria("checked",e),this._super(e)},remove:function(){this._super(),this.menu&&this.menu.remove()}})}),e(qt,[f,ve,i],function(c,e,u){return function(i,r){var o,a,s=this,l=e.classPrefix;s.show=function(e,t){function n(){o&&(c(i).append('<div class="'+l+"throbber"+(r?" "+l+"throbber-inline":"")+'"></div>'),t&&t())}return s.hide(),o=!0,e?a=u.setTimeout(n,e):n(),s},s.hide=function(){var e=i.lastChild;return u.clearTimeout(a),e&&-1!=e.className.indexOf("throbber")&&e.parentNode.removeChild(e),o=!1,s}}}),e(Ut,[Ne,Wt,qt,d],function(e,t,r,i){return e.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(e){if(e.autohide=!0,e.constrainToViewport=!0,"function"==typeof e.items&&(e.itemsFactory=e.items,e.items=[]),e.itemDefaults)for(var t=e.items,n=t.length;n--;)t[n]=i.extend({},e.itemDefaults,t[n]);this._super(e),this.classes.add("menu")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){this.hideAll(),this.fire("select")},load:function(){function t(){i.throbber&&(i.throbber.hide(),i.throbber=null)}var n,i=this;i.settings.itemsFactory&&(i.throbber||(i.throbber=new r(i.getEl("body"),!0),0===i.items().length?(i.throbber.show(),i.fire("loading")):i.throbber.show(100,function(){i.items().remove(),i.fire("loading")}),i.on("hide close",t)),i.requestTime=n=(new Date).getTime(),i.settings.itemsFactory(function(e){return 0===e.length?void i.hide():void(i.requestTime===n&&(i.getEl().style.width="",i.getEl("body").style.width="",t(),i.items().remove(),i.getEl("body").innerHTML="",i.add(e),i.renderNew(),i.fire("loaded")))}))},hideAll:function(){return this.find("menuitem").exec("hideMenu"),this._super()},preRender:function(){var n=this;return n.items().each(function(e){var t=e.settings;if(t.icon||t.image||t.selectable)return!(n._hasIcons=!0)}),n.settings.itemsFactory&&n.on("postrender",function(){n.settings.itemsFactory&&n.load()}),n._super()}})}),e(Vt,[zt,Ut],function(e,r){return e.extend({init:function(i){var e,r,o,n,a=this;a._super(i),i=a.settings,a._values=e=i.values,e&&(void 0!==i.value&&function e(t){for(var n=0;n<t.length;n++){if(r=t[n].selected||i.value===t[n].value)return o=o||t[n].text,a.state.set("value",t[n].value),!0;if(t[n].menu&&e(t[n].menu))return!0}}(e),!r&&0<e.length&&(o=e[0].text,a.state.set("value",e[0].value)),a.state.set("menu",e)),a.state.set("text",i.text||o),a.classes.add("listbox"),a.on("select",function(e){var t=e.control;n&&(e.lastControl=n),i.multiple?t.active(!t.active()):a.value(e.control.value()),n=t})},bindStates:function(){var i=this;return i.on("show",function(e){var t,n;t=e.control,n=i.value(),t instanceof r&&t.items().each(function(e){e.hasMenus()||e.active(e.value()===n)})}),i.state.on("change:value",function(e){var t=function e(t,n){var i;if(t)for(var r=0;r<t.length;r++){if(t[r].value===n)return t[r];if(t[r].menu&&(i=e(t[r].menu,n)))return i}}(i.state.get("menu"),e.value);t?i.text(t.text):i.text(i.settings.text)}),i._super()}})}),e(Yt,[vt],function(e){return e.extend({Defaults:{classes:"radio",role:"radio"}})}),e(Kt,[Oe,we],function(e,n){return e.extend({renderHtml:function(){var e=this.classPrefix;return this.classes.add("resizehandle"),"both"==this.settings.direction&&this.classes.add("resizehandle-both"),this.canFocus=!1,'<div id="'+this._id+'" class="'+this.classes+'"><i class="'+e+"ico "+e+'i-resize"></i></div>'},postRender:function(){var t=this;t._super(),t.resizeDragHelper=new n(this._id,{start:function(){t.fire("ResizeStart")},drag:function(e){"both"!=t.settings.direction&&(e.deltaX=0),t.fire("Resize",e)},stop:function(){t.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}})}),e(Xt,[Oe],function(e){function n(e){var t="";if(e)for(var n=0;n<e.length;n++)t+='<option value="'+e[n]+'">'+e[n]+"</option>";return t}return e.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(e){var n=this;n._super(e),n.settings.size&&(n.size=n.settings.size),n.settings.options&&(n._options=n.settings.options),n.on("keydown",function(e){var t;13==e.keyCode&&(e.preventDefault(),n.parents().reverse().each(function(e){if(e.toJSON)return t=e,!1}),n.fire("submit",{data:t.toJSON()}))})},options:function(e){return arguments.length?(this.state.set("options",e),this):this.state.get("options")},renderHtml:function(){var e,t="";return e=n(this._options),this.size&&(t=' size = "'+this.size+'"'),'<select id="'+this._id+'" class="'+this.classes+'"'+t+">"+e+"</select>"},bindStates:function(){var t=this;return t.state.on("change:options",function(e){t.getEl().innerHTML=n(e.value)}),t._super()}})}),e(Gt,[Oe,we,he],function(e,g,m){function v(e,t,n){return e<t&&(e=t),n<e&&(e=n),e}function s(e,t,n){e.setAttribute("aria-"+t,n)}function n(e,t){var n,i,r,o,a;"v"==e.settings.orientation?(r="top",i="height",n="h"):(r="left",i="width",n="w"),a=e.getEl("handle"),o=((e.layoutRect()[n]||100)-m.getSize(a)[i])*((t-e._minValue)/(e._maxValue-e._minValue))+"px",a.style[r]=o,a.style.height=e.layoutRect().h+"px",s(a,"valuenow",t),s(a,"valuetext",""+e.settings.previewFilter(t)),s(a,"valuemin",e._minValue),s(a,"valuemax",e._maxValue)}return e.extend({init:function(e){e.previewFilter||(e.previewFilter=function(e){return Math.round(100*e)/100}),this._super(e),this.classes.add("slider"),"v"==e.orientation&&this.classes.add("vertical"),this._minValue=e.minValue||0,this._maxValue=e.maxValue||100,this._initValue=this.state.get("value")},renderHtml:function(){var e=this._id,t=this.classPrefix;return'<div id="'+e+'" class="'+this.classes+'"><div id="'+e+'-handle" class="'+t+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){var e,t,n,i,r,o,a,s,l,c,u,d,f,h,p=this;e=p._minValue,t=p._maxValue,"v"==p.settings.orientation?(n="screenY",i="top",r="height",o="h"):(n="screenX",i="left",r="width",o="w"),p._super(),function(o,a){function t(e){var t,n,i,r;t=v(t=(((t=p.value())+(r=n=o))/((i=a)-r)+.05*e)*(i-n)-n,o,a),p.value(t),p.fire("dragstart",{value:t}),p.fire("drag",{value:t}),p.fire("dragend",{value:t})}p.on("keydown",function(e){switch(e.keyCode){case 37:case 38:t(-1);break;case 39:case 40:t(1)}})}(e,t,p.getEl("handle")),a=e,s=t,l=p.getEl("handle"),p._dragHelper=new g(p._id,{handle:p._id+"-handle",start:function(e){c=e[n],u=parseInt(p.getEl("handle").style[i],10),d=(p.layoutRect()[o]||100)-m.getSize(l)[r],p.fire("dragstart",{value:h})},drag:function(e){var t=e[n]-c;f=v(u+t,0,d),l.style[i]=f+"px",h=a+f/d*(s-a),p.value(h),p.tooltip().text(""+p.settings.previewFilter(h)).show().moveRel(l,"bc tc"),p.fire("drag",{value:h})},stop:function(){p.tooltip().hide(),p.fire("dragend",{value:h})}})},repaint:function(){this._super(),n(this,this.value())},bindStates:function(){var t=this;return t.state.on("change:value",function(e){n(t,e.value)}),t._super()}})}),e(Qt,[Oe],function(e){return e.extend({renderHtml:function(){return this.classes.add("spacer"),this.canFocus=!1,'<div id="'+this._id+'" class="'+this.classes+'"></div>'}})}),e(Jt,[zt,he,f],function(e,r,o){return e.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var e,t,n=this.getEl(),i=this.layoutRect();return this._super(),e=n.firstChild,t=n.lastChild,o(e).css({width:i.w-r.getSize(t).width,height:i.h-2}),o(t).css({height:i.h-2}),this},activeMenu:function(e){o(this.getEl().lastChild).toggleClass(this.classPrefix+"active",e)},renderHtml:function(){var e,t=this,n=t._id,i=t.classPrefix,r=t.state.get("icon"),o=t.state.get("text"),a="";return(e=t.settings.image)?(r="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",r=t.settings.icon?i+"ico "+i+"i-"+r:"",o&&(t.classes.add("btn-has-text"),a='<span class="'+i+'txt">'+t.encode(o)+"</span>"),'<div id="'+n+'" class="'+t.classes+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(r?'<i class="'+r+'"'+e+"></i>":"")+a+'</button><button type="button" class="'+i+'open" hidefocus="1" tabindex="-1">'+(t._menuBtnText?(r?"":"")+t._menuBtnText:"")+' <i class="'+i+'caret"></i></button></div>'},postRender:function(){var n=this.settings.onclick;return this.on("click",function(e){var t=e.target;if(e.control==this)for(;t;){if(e.aria&&"down"!=e.aria.key||"BUTTON"==t.nodeName&&-1==t.className.indexOf("open"))return e.stopImmediatePropagation(),void(n&&n.call(this,e));t=t.parentNode}}),delete this.settings.onclick,this._super()}})}),e(Zt,[It],function(e){return e.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}})}),e(en,[Ee,f,he],function(e,t,r){return e.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(n){var e;this.activeTabId&&(e=this.getEl(this.activeTabId),t(e).removeClass(this.classPrefix+"active"),e.setAttribute("aria-selected","false")),this.activeTabId="t"+n,(e=this.getEl("t"+n)).setAttribute("aria-selected","true"),t(e).addClass(this.classPrefix+"active"),this.items()[n].show().fire("showtab"),this.reflow(),this.items().each(function(e,t){n!=t&&e.hide()})},renderHtml:function(){var i=this,e=i._layout,r="",o=i.classPrefix;return i.preRender(),e.preRender(i),i.items().each(function(e,t){var n=i._id+"-t"+t;e.aria("role","tabpanel"),e.aria("labelledby",n),r+='<div id="'+n+'" class="'+o+'tab" unselectable="on" role="tab" aria-controls="'+e._id+'" aria-selected="false" tabIndex="-1">'+i.encode(e.settings.title)+"</div>"}),'<div id="'+i._id+'" class="'+i.classes+'" hidefocus="1" tabindex="-1"><div id="'+i._id+'-head" class="'+o+'tabs" role="tablist">'+r+'</div><div id="'+i._id+'-body" class="'+i.bodyClasses+'">'+e.renderHtml(i)+"</div></div>"},postRender:function(){var i=this;i._super(),i.settings.activeTab=i.settings.activeTab||0,i.activateTab(i.settings.activeTab),this.on("click",function(e){var t=e.target.parentNode;if(t&&t.id==i._id+"-head")for(var n=t.childNodes.length;n--;)t.childNodes[n]==e.target&&i.activateTab(n)})},initLayoutRect:function(){var e,t,n;t=(t=r.getSize(this.getEl("head")).width)<0?0:t,n=0,this.items().each(function(e){t=Math.max(t,e.layoutRect().minW),n=Math.max(n,e.layoutRect().minH)}),this.items().each(function(e){e.settings.x=0,e.settings.y=0,e.settings.w=t,e.settings.h=n,e.layoutRect({x:0,y:0,w:t,h:n})});var i=r.getSize(this.getEl("head")).height;return this.settings.minWidth=t,this.settings.minHeight=n+i,(e=this._super()).deltaH+=i,e.innerH=e.h-e.deltaH,e}})}),e(tn,[Oe,d,he],function(e,i,r){return e.extend({init:function(e){var n=this;n._super(e),n.classes.add("textbox"),e.multiline?n.classes.add("multiline"):(n.on("keydown",function(e){var t;13==e.keyCode&&(e.preventDefault(),n.parents().reverse().each(function(e){if(e.toJSON)return t=e,!1}),n.fire("submit",{data:t.toJSON()}))}),n.on("keyup",function(e){n.state.set("value",e.target.value)}))},repaint:function(){var e,t,n,i,r,o=0;e=this.getEl().style,t=this._layoutRect,r=this._lastRepaintRect||{};var a=document;return!this.settings.multiline&&a.all&&(!a.documentMode||a.documentMode<=8)&&(e.lineHeight=t.h-o+"px"),i=(n=this.borderBox).left+n.right+8,o=n.top+n.bottom+(this.settings.multiline?8:0),t.x!==r.x&&(e.left=t.x+"px",r.x=t.x),t.y!==r.y&&(e.top=t.y+"px",r.y=t.y),t.w!==r.w&&(e.width=t.w-i+"px",r.w=t.w),t.h!==r.h&&(e.height=t.h-o+"px",r.h=t.h),this._lastRepaintRect=r,this.fire("repaint",{},!1),this},renderHtml:function(){var t,e,n=this.settings;return t={id:this._id,hidefocus:"1"},i.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],function(e){t[e]=n[e]}),this.disabled()&&(t.disabled="disabled"),n.subtype&&(t.type=n.subtype),(e=r.create(n.multiline?"textarea":"input",t)).value=this.state.get("value"),e.className=this.classes,e.outerHTML},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var t=this;t.getEl().value=t.state.get("value"),t._super(),t.$el.on("change",function(e){t.state.set("value",e.target.value),t.fire("change",e)})},bindStates:function(){var t=this;return t.state.on("change:value",function(e){t.getEl().value!=e.value&&(t.getEl().value=e.value)}),t.state.on("change:disabled",function(e){t.getEl().disabled=e.value}),t._super()},remove:function(){this.$el.off(),this._super()}})}),e("tinymce/Register",[],function(){var e=this||window;return"function"==typeof e.define&&(e.define.amd||e.define("ephox/tinymce",[],function(){return e.tinymce})),"object"==typeof module&&(module.exports=window.tinymce),{}}),function(e){var t,n,i,r,o;for(t=0;t<e.length;t++){n=s,r=(i=e[t]).split(/[.\/]/);for(var a=0;a<r.length-1;++a)n[r[a]]===be&&(n[r[a]]={}),n=n[r[a]];n[r[r.length-1]]=l[i]}if(s.AMDLC_TESTS){for(i in o=s.privateModules||{},l)o[i]=l[i];for(t=0;t<e.length;t++)delete o[e[t]];s.privateModules=o}}([t,n,i,r,a,c,d,f,h,p,m,y,b,C,E,S,N,k,A,D,R,O,B,L,z,W,Y,Q,re,oe,ae,se,ce,de,fe,me,ve,ye,Ce,xe,we,_e,Ee,Te,Se,Ne,ke,Ae,De,Re,Oe,Ie,Be,Le,He,$e,it,rt,ot,at,st,lt,ct,ut,dt,ft,ht,pt,gt,mt,vt,yt,bt,Ct,xt,wt,_t,Et,Tt,St,Nt,kt,Dt,Rt,Ot,It,Lt,Pt,Mt,Ht,Ft,$t,jt,zt,Wt,qt,Ut,Vt,Yt,Kt,Xt,Gt,Qt,Jt,Zt,en,tn])}(window),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.MicroPlugin=t()}(this,function(){var e={mixin:function(i){i.plugins={},i.prototype.initializePlugins=function(e){var t,n,i,r=[];if(this.plugins={names:[],settings:{},requested:{},loaded:{}},o.isArray(e))for(t=0,n=e.length;t<n;t++)"string"==typeof e[t]?r.push(e[t]):(this.plugins.settings[e[t].name]=e[t].options,r.push(e[t].name));else if(e)for(i in e)e.hasOwnProperty(i)&&(this.plugins.settings[i]=e[i],r.push(i));for(;r.length;)this.require(r.shift())},i.prototype.loadPlugin=function(e){var t=this.plugins,n=i.plugins[e];if(!i.plugins.hasOwnProperty(e))throw new Error('Unable to find "'+e+'" plugin');t.requested[e]=!0,t.loaded[e]=n.fn.apply(this,[this.plugins.settings[e]||{}]),t.names.push(e)},i.prototype.require=function(e){var t=this.plugins;if(!this.plugins.loaded.hasOwnProperty(e)){if(t.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');this.loadPlugin(e)}return t.loaded[e]},i.define=function(e,t){i.plugins[e]={name:e,fn:t}}}},o={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}};return e}),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.Sifter=t()}(this,function(){var e=function(e,t){this.items=e,this.settings=t||{diacritics:!0}};e.prototype.tokenize=function(e){if(!(e=s(String(e||"").toLowerCase()))||!e.length)return[];var t,n,i,r,o=[],a=e.split(/ +/);for(t=0,n=a.length;t<n;t++){if(i=l(a[t]),this.settings.diacritics)for(r in c)c.hasOwnProperty(r)&&(i=i.replace(new RegExp(r,"g"),c[r]));o.push({string:a[t],regex:new RegExp(i,"i")})}return o},e.prototype.iterator=function(e,t){(a(e)?Array.prototype.forEach||function(e){for(var t=0,n=this.length;t<n;t++)e(this[t],t,this)}:function(e){for(var t in this)this.hasOwnProperty(t)&&e(this[t],t,this)}).apply(e,[t])},e.prototype.getScoreFunction=function(e,t){var r,o,a,s;e=this.prepareSearch(e,t),o=e.tokens,r=e.options.fields,a=o.length,s=e.options.nesting;var l,c=function(e,t){var n,i;return e?-1===(i=(e=String(e||"")).search(t.regex))?0:(n=t.string.length/e.length,0===i&&(n+=.5),n):0},u=(l=r.length)?1===l?function(e,t){return c(p(t,r[0],s),e)}:function(e,t){for(var n=0,i=0;n<l;n++)i+=c(p(t,r[n],s),e);return i/l}:function(){return 0};return a?1===a?function(e){return u(o[0],e)}:"and"===e.options.conjunction?function(e){for(var t,n=0,i=0;n<a;n++){if((t=u(o[n],e))<=0)return 0;i+=t}return i/a}:function(e){for(var t=0,n=0;t<a;t++)n+=u(o[t],e);return n/a}:function(){return 0}},e.prototype.getSortFunction=function(e,n){var t,i,r,o,a,s,l,c,u,d,f;if(f=!(e=(r=this).prepareSearch(e,n)).query&&n.sort_empty||n.sort,u=function(e,t){return"$score"===e?t.score:p(r.items[t.id],e,n.nesting)},a=[],f)for(t=0,i=f.length;t<i;t++)(e.query||"$score"!==f[t].field)&&a.push(f[t]);if(e.query){for(d=!0,t=0,i=a.length;t<i;t++)if("$score"===a[t].field){d=!1;break}d&&a.unshift({field:"$score",direction:"desc"})}else for(t=0,i=a.length;t<i;t++)if("$score"===a[t].field){a.splice(t,1);break}for(c=[],t=0,i=a.length;t<i;t++)c.push("desc"===a[t].direction?-1:1);return(s=a.length)?1===s?(o=a[0].field,l=c[0],function(e,t){return l*h(u(o,e),u(o,t))}):function(e,t){var n,i,r;for(n=0;n<s;n++)if(r=a[n].field,i=c[n]*h(u(r,e),u(r,t)))return i;return 0}:null},e.prototype.prepareSearch=function(e,t){if("object"==typeof e)return e;var n=(t=o({},t)).fields,i=t.sort,r=t.sort_empty;return n&&!a(n)&&(t.fields=[n]),i&&!a(i)&&(t.sort=[i]),r&&!a(r)&&(t.sort_empty=[r]),{options:t,query:String(e||"").toLowerCase(),tokens:this.tokenize(e),total:0,items:[]}},e.prototype.search=function(e,n){var i,r,t,o;return r=this.prepareSearch(e,n),n=r.options,e=r.query,o=n.score||this.getScoreFunction(r),e.length?this.iterator(this.items,function(e,t){i=o(e),(!1===n.filter||0<i)&&r.items.push({score:i,id:t})}):this.iterator(this.items,function(e,t){r.items.push({score:1,id:t})}),(t=this.getSortFunction(r,n))&&r.items.sort(t),r.total=r.items.length,"number"==typeof n.limit&&(r.items=r.items.slice(0,n.limit)),r};var h=function(e,t){return"number"==typeof e&&"number"==typeof t?t<e?1:e<t?-1:0:(e=n(String(e||"")),(t=n(String(t||"")))<e?1:e<t?-1:0)},o=function(e,t){var n,i,r,o;for(n=1,i=arguments.length;n<i;n++)if(o=arguments[n])for(r in o)o.hasOwnProperty(r)&&(e[r]=o[r]);return e},p=function(e,t,n){if(e&&t){if(!n)return e[t];for(var i=t.split(".");i.length&&(e=e[i.shift()]););return e}},s=function(e){return(e+"").replace(/^\s+|\s+$|/g,"")},l=function(e){return(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},a=Array.isArray||"undefined"!=typeof $&&$.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},c={a:"[a]",b:"[bB]",c:"[cCc]",d:"[dDd]",e:"[e]",f:"[f]",g:"[g]",h:"[h]",i:"[iiI]",j:"[j]",k:"[k]",l:"[l]",n:"[nNn]",o:"[o]",p:"[p]",q:"[qq]",r:"[r]",s:"[sSs]",t:"[t]",u:"[u]",v:"[v]",w:"[w]",x:"[x]",y:"[y]",z:"[z]"},n=function(){var e,t,n,i,r="",o={};for(n in c)if(c.hasOwnProperty(n))for(r+=i=c[n].substring(2,c[n].length-1),e=0,t=i.length;e<t;e++)o[i.charAt(e)]=n;var a=new RegExp("["+r+"]","g");return function(e){return e.replace(a,function(e){return o[e]}).toLowerCase()}}();return e}),function(e,t){"function"==typeof define&&define.amd?define(["jquery","sifter","microplugin"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("sifter"),require("microplugin")):e.Selectize=t(e.jQuery,e.Sifter,e.MicroPlugin)}(this,function(E,d,e){"use strict";var T=function(e,t){if("string"!=typeof t||t.length){var l="string"==typeof t?new RegExp(t,"i"):t,c=function(e){var t=0;if(3===e.nodeType){var n=e.data.search(l);if(0<=n&&0<e.data.length){var i=e.data.match(l),r=document.createElement("span");r.className="highlight";var o=e.splitText(n),a=(o.splitText(i[0].length),o.cloneNode(!0));r.appendChild(a),o.parentNode.replaceChild(r,o),t=1}}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName))for(var s=0;s<e.childNodes.length;++s)s+=c(e.childNodes[s]);return t};return e.each(function(){c(this)})}};E.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;var e=this.parentNode;e.replaceChild(this.firstChild,this),e.normalize()}).end()};var i=function(){};i.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},off:function(e,t){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[e]:(this._events=this._events||{},void(e in this._events!=0&&this._events[e].splice(this._events[e].indexOf(t),1)))},trigger:function(e){if(this._events=this._events||{},e in this._events!=0)for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},i.mixin=function(e){for(var t=["on","off","trigger"],n=0;n<t.length;n++)e.prototype[t[n]]=i.prototype[t[n]]};var x=/Mac/.test(navigator.userAgent),w=x?91:17,_=x?18:17,S=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("input").validity,c=function(e){return void 0!==e},N=function(e){return null==e?null:"boolean"==typeof e?e?"1":"0":e+""},s=function(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},t={before:function(e,t,n){var i=e[t];e[t]=function(){return n.apply(e,arguments),i.apply(e,arguments)}},after:function(t,e,n){var i=t[e];t[e]=function(){var e=i.apply(t,arguments);return n.apply(t,arguments),e}}},n=function(t,n,e){var i,r=t.trigger,o={};for(i in t.trigger=function(){var e=arguments[0];return-1===n.indexOf(e)?r.apply(t,arguments):void(o[e]=arguments)},e.apply(t,[]),t.trigger=r,o)o.hasOwnProperty(i)&&r.apply(t,o[i])},f=function(e){var t={};if("selectionStart"in e)t.start=e.selectionStart,t.length=e.selectionEnd-t.start;else if(document.selection){e.focus();var n=document.selection.createRange(),i=document.selection.createRange().text.length;n.moveStart("character",-e.value.length),t.start=n.text.length-i,t.length=i}return t},k=function(u){var d=null,e=function(e,t){var n,i,r,o,a,s,l,c;t=t||{},(e=e||window.event||{}).metaKey||e.altKey||(t.force||!1!==u.data("grow"))&&(n=u.val(),e.type&&"keydown"===e.type.toLowerCase()&&(r=97<=(i=e.keyCode)&&i<=122||65<=i&&i<=90||48<=i&&i<=57||32===i,46===i||8===i?(c=f(u[0])).length?n=n.substring(0,c.start)+n.substring(c.start+c.length):8===i&&c.start?n=n.substring(0,c.start-1)+n.substring(c.start+1):46===i&&void 0!==c.start&&(n=n.substring(0,c.start)+n.substring(c.start+1)):r&&(s=e.shiftKey,l=String.fromCharCode(e.keyCode),n+=l=s?l.toUpperCase():l.toLowerCase())),o=u.attr("placeholder"),!n&&o&&(n=o),(a=function(e,t){if(!e)return 0;var n=E("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(e).appendTo("body");!function(e,t,n){var i,r,o={};if(n)for(i=0,r=n.length;i<r;i++)o[n[i]]=e.css(n[i]);else o=e.css();t.css(o)}(t,n,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var i=n.width();return n.remove(),i}(n,u)+4)!==d&&(d=a,u.width(a),u.triggerHandler("resize")))};u.on("keydown keyup update blur",e),e()},y=function(e,t){var n,i,r,o,a=this;(o=e[0]).selectize=a;var s,l,c,u=window.getComputedStyle&&window.getComputedStyle(o,null);if(r=(r=u?u.getPropertyValue("direction"):o.currentStyle&&o.currentStyle.direction)||e.parents("[dir]:first").attr("dir")||"",E.extend(a,{order:0,settings:t,$input:e,tabIndex:e.attr("tabindex")||"",tagType:"select"===o.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(r),eventNS:".selectize"+ ++y.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:e.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===t.loadThrottle?a.onSearchChange:(s=a.onSearchChange,l=t.loadThrottle,function(){var e=this,t=arguments;window.clearTimeout(c),c=window.setTimeout(function(){s.apply(e,t)},l)})}),a.sifter=new d(this.options,{diacritics:t.diacritics}),a.settings.options){for(n=0,i=a.settings.options.length;n<i;n++)a.registerOption(a.settings.options[n]);delete a.settings.options}if(a.settings.optgroups){for(n=0,i=a.settings.optgroups.length;n<i;n++)a.registerOptionGroup(a.settings.optgroups[n]);delete a.settings.optgroups}a.settings.mode=a.settings.mode||(1===a.settings.maxItems?"single":"multi"),"boolean"!=typeof a.settings.hideSelected&&(a.settings.hideSelected="multi"===a.settings.mode),a.initializePlugins(a.settings.plugins),a.setupCallbacks(),a.setupTemplates(),a.setup()};return i.mixin(y),void 0!==e?e.mixin(y):function(e,t){t||(t={});console.error("Selectize: "+e),t.explanation&&(console.group&&console.group(),console.error(t.explanation),console.group&&console.groupEnd())}("Dependency MicroPlugin is missing",{explanation:'Make sure you either: (1) are using the "standalone" version of Selectize, or (2) require MicroPlugin before you load Selectize.'}),E.extend(y.prototype,{setup:function(){var e,t,n,i,r,o,a,s,l,c,u,d,f,h,p=this,g=p.settings,m=p.eventNS,v=E(window),y=E(document),b=p.$input;if(a=p.settings.mode,s=b.attr("class")||"",e=E("<div>").addClass(g.wrapperClass).addClass(s).addClass(a),t=E("<div>").addClass(g.inputClass).addClass("items").appendTo(e),n=E('<input type="text" autocomplete="off" />').appendTo(t).attr("tabindex",b.is(":disabled")?"-1":p.tabIndex),o=E(g.dropdownParent||e),i=E("<div>").addClass(g.dropdownClass).addClass(a).hide().appendTo(o),r=E("<div>").addClass(g.dropdownContentClass).appendTo(i),(c=b.attr("id"))&&(n.attr("id",c+"-selectized"),E("label[for='"+c+"']").attr("for",c+"-selectized")),p.settings.copyClassesToDropdown&&i.addClass(s),e.css({width:b[0].style.width}),p.plugins.names.length&&(l="plugin-"+p.plugins.names.join(" plugin-"),e.addClass(l),i.addClass(l)),(null===g.maxItems||1<g.maxItems)&&1===p.tagType&&b.attr("multiple","multiple"),p.settings.placeholder&&n.attr("placeholder",g.placeholder),!p.settings.splitOn&&p.settings.delimiter){var C=p.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");p.settings.splitOn=new RegExp("\\s*"+C+"+\\s*")}b.attr("autocorrect")&&n.attr("autocorrect",b.attr("autocorrect")),b.attr("autocapitalize")&&n.attr("autocapitalize",b.attr("autocapitalize")),p.$wrapper=e,p.$control=t,p.$control_input=n,p.$dropdown=i,p.$dropdown_content=r,i.on("mouseenter","[data-selectable]",function(){return p.onOptionHover.apply(p,arguments)}),i.on("mousedown click","[data-selectable]",function(){return p.onOptionSelect.apply(p,arguments)}),d="mousedown",f="*:not(input)",h=function(){return p.onItemSelect.apply(p,arguments)},(u=t).on(d,f,function(e){for(var t=e.target;t&&t.parentNode!==u[0];)t=t.parentNode;return e.currentTarget=t,h.apply(this,[e])}),k(n),t.on({mousedown:function(){return p.onMouseDown.apply(p,arguments)},click:function(){return p.onClick.apply(p,arguments)}}),n.on({mousedown:function(e){e.stopPropagation()},keydown:function(){return p.onKeyDown.apply(p,arguments)},keyup:function(){return p.onKeyUp.apply(p,arguments)},keypress:function(){return p.onKeyPress.apply(p,arguments)},resize:function(){p.positionDropdown.apply(p,[])},blur:function(){return p.onBlur.apply(p,arguments)},focus:function(){return p.ignoreBlur=!1,p.onFocus.apply(p,arguments)},paste:function(){return p.onPaste.apply(p,arguments)}}),y.on("keydown"+m,function(e){p.isCmdDown=e[x?"metaKey":"ctrlKey"],p.isCtrlDown=e[x?"altKey":"ctrlKey"],p.isShiftDown=e.shiftKey}),y.on("keyup"+m,function(e){e.keyCode===_&&(p.isCtrlDown=!1),16===e.keyCode&&(p.isShiftDown=!1),e.keyCode===w&&(p.isCmdDown=!1)}),y.on("mousedown"+m,function(e){if(p.isFocused){if(e.target===p.$dropdown[0]||e.target.parentNode===p.$dropdown[0])return!1;p.$control.has(e.target).length||e.target===p.$control[0]||p.blur(e.target)}}),v.on(["scroll"+m,"resize"+m].join(" "),function(){p.isOpen&&p.positionDropdown.apply(p,arguments)}),v.on("mousemove"+m,function(){p.ignoreHover=!1}),this.revertSettings={$children:b.children().detach(),tabindex:b.attr("tabindex")},b.attr("tabindex",-1).hide().after(p.$wrapper),E.isArray(g.items)&&(p.setValue(g.items),delete g.items),S&&b.on("invalid"+m,function(e){e.preventDefault(),p.isInvalid=!0,p.refreshState()}),p.updateOriginalInput(),p.refreshItems(),p.refreshState(),p.updatePlaceholder(),p.isSetup=!0,b.is(":disabled")&&p.disable(),p.on("change",this.onChange),b.data("selectize",p),b.addClass("selectized"),p.trigger("initialize"),!0===g.preload&&p.onSearchChange("")},setupTemplates:function(){var n=this.settings.labelField,i=this.settings.optgroupLabelField,e={optgroup:function(e){return'<div class="optgroup">'+e.html+"</div>"},optgroup_header:function(e,t){return'<div class="optgroup-header">'+t(e[i])+"</div>"},option:function(e,t){return'<div class="option">'+t(e[n])+"</div>"},item:function(e,t){return'<div class="item">'+t(e[n])+"</div>"},option_create:function(e,t){return'<div class="create">Add <strong>'+t(e.input)+"</strong>&hellip;</div>"}};this.settings.render=E.extend({},e,this.settings.render)},setupCallbacks:function(){var e,t,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in n)n.hasOwnProperty(e)&&((t=this.settings[n[e]])&&this.on(e,t))},onClick:function(e){this.isFocused||(this.focus(),e.preventDefault())},onMouseDown:function(e){var t=this,n=e.isDefaultPrevented();if(E(e.target),t.isFocused){if(e.target!==t.$control_input[0])return"single"===t.settings.mode?t.isOpen?t.close():t.open():n||t.setActiveItem(null),!1}else n||window.setTimeout(function(){t.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(e){var r=this;return r.isFull()||r.isInputHidden||r.isLocked?void e.preventDefault():void(r.settings.splitOn&&setTimeout(function(){var e=r.$control_input.val();if(e.match(r.settings.splitOn))for(var t=E.trim(e).split(r.settings.splitOn),n=0,i=t.length;n<i;n++)r.createItem(t[n])},0))},onKeyPress:function(e){if(this.isLocked)return e&&e.preventDefault();var t=String.fromCharCode(e.keyCode||e.which);return this.settings.create&&"multi"===this.settings.mode&&t===this.settings.delimiter?(this.createItem(),e.preventDefault(),!1):void 0},onKeyDown:function(e){var t=(e.target,this.$control_input[0],this);if(!t.isLocked){switch(e.keyCode){case 65:if(t.isCmdDown)return void t.selectAll();break;case 27:return void(t.isOpen&&(e.preventDefault(),e.stopPropagation(),t.close()));case 78:if(!e.ctrlKey||e.altKey)break;case 40:if(!t.isOpen&&t.hasOptions)t.open();else if(t.$activeOption){t.ignoreHover=!0;var n=t.getAdjacentOption(t.$activeOption,1);n.length&&t.setActiveOption(n,!0,!0)}return void e.preventDefault();case 80:if(!e.ctrlKey||e.altKey)break;case 38:if(t.$activeOption){t.ignoreHover=!0;var i=t.getAdjacentOption(t.$activeOption,-1);i.length&&t.setActiveOption(i,!0,!0)}return void e.preventDefault();case 13:return void(t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),e.preventDefault()));case 37:return void t.advanceSelection(-1,e);case 39:return void t.advanceSelection(1,e);case 9:return t.settings.selectOnTab&&t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),t.isFull()||e.preventDefault()),void(t.settings.create&&t.createItem()&&e.preventDefault());case 8:case 46:return void t.deleteSelection(e)}return!t.isFull()&&!t.isInputHidden||(x?e.metaKey:e.ctrlKey)?void 0:void e.preventDefault()}9!==e.keyCode&&e.preventDefault()},onKeyUp:function(e){if(this.isLocked)return e&&e.preventDefault();var t=this.$control_input.val()||"";this.lastValue!==t&&(this.lastValue=t,this.onSearchChange(t),this.refreshOptions(),this.trigger("type",t))},onSearchChange:function(t){var n=this,i=n.settings.load;i&&(n.loadedSearches.hasOwnProperty(t)||(n.loadedSearches[t]=!0,n.load(function(e){i.apply(n,[t,e])})))},onFocus:function(e){var t=this,n=t.isFocused;return t.isDisabled?(t.blur(),e&&e.preventDefault(),!1):void(t.ignoreFocus||(t.isFocused=!0,"focus"===t.settings.preload&&t.onSearchChange(""),n||t.trigger("focus"),t.$activeItems.length||(t.showInput(),t.setActiveItem(null),t.refreshOptions(!!t.settings.openOnFocus)),t.refreshState()))},onBlur:function(e,t){var n=this;if(n.isFocused&&(n.isFocused=!1,!n.ignoreFocus)){if(!n.ignoreBlur&&document.activeElement===n.$dropdown_content[0])return n.ignoreBlur=!0,void n.onFocus(e);var i=function(){n.close(),n.setTextboxValue(""),n.setActiveItem(null),n.setActiveOption(null),n.setCaret(n.items.length),n.refreshState(),t&&t.focus&&t.focus(),n.ignoreFocus=!1,n.trigger("blur")};n.ignoreFocus=!0,n.settings.create&&n.settings.createOnBlur?n.createItem(null,!1,i):i()}},onOptionHover:function(e){this.ignoreHover||this.setActiveOption(e.currentTarget,!1)},onOptionSelect:function(e){var t,n,i=this;e.preventDefault&&(e.preventDefault(),e.stopPropagation()),(n=E(e.currentTarget)).hasClass("create")?i.createItem(null,function(){i.settings.closeAfterSelect&&i.close()}):void 0!==(t=n.attr("data-value"))&&(i.lastQuery=null,i.setTextboxValue(""),i.addItem(t),i.settings.closeAfterSelect?i.close():!i.settings.hideSelected&&e.type&&/mouse/.test(e.type)&&i.setActiveOption(i.getOption(t)))},onItemSelect:function(e){this.isLocked||"multi"===this.settings.mode&&(e.preventDefault(),this.setActiveItem(e.currentTarget,e))},load:function(e){var t=this,n=t.$wrapper.addClass(t.settings.loadingClass);t.loading++,e.apply(t,[function(e){t.loading=Math.max(t.loading-1,0),e&&e.length&&(t.addOption(e),t.refreshOptions(t.isFocused&&!t.isInputHidden)),t.loading||n.removeClass(t.settings.loadingClass),t.trigger("load",e)}])},setTextboxValue:function(e){var t=this.$control_input;t.val()!==e&&(t.val(e).triggerHandler("update"),this.lastValue=e)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(e,t){n(this,t?[]:["change"],function(){this.clear(t),this.addItems(e,t)})},setActiveItem:function(e,t){var n,i,r,o,a,s,l,c,u=this;if("single"!==u.settings.mode){if(!(e=E(e)).length)return E(u.$activeItems).removeClass("active"),u.$activeItems=[],void(u.isFocused&&u.showInput());if("mousedown"===(n=t&&t.type.toLowerCase())&&u.isShiftDown&&u.$activeItems.length){for(c=u.$control.children(".active:last"),o=Array.prototype.indexOf.apply(u.$control[0].childNodes,[c[0]]),(a=Array.prototype.indexOf.apply(u.$control[0].childNodes,[e[0]]))<o&&(l=o,o=a,a=l),i=o;i<=a;i++)s=u.$control[0].childNodes[i],-1===u.$activeItems.indexOf(s)&&(E(s).addClass("active"),u.$activeItems.push(s));t.preventDefault()}else"mousedown"===n&&u.isCtrlDown||"keydown"===n&&this.isShiftDown?e.hasClass("active")?(r=u.$activeItems.indexOf(e[0]),u.$activeItems.splice(r,1),e.removeClass("active")):u.$activeItems.push(e.addClass("active")[0]):(E(u.$activeItems).removeClass("active"),u.$activeItems=[e.addClass("active")[0]]);u.hideInput(),this.isFocused||u.focus()}},setActiveOption:function(e,t,n){var i,r,o,a,s,l=this;l.$activeOption&&l.$activeOption.removeClass("active"),l.$activeOption=null,(e=E(e)).length&&(l.$activeOption=e.addClass("active"),!t&&c(t)||(i=l.$dropdown_content.height(),r=l.$activeOption.outerHeight(!0),t=l.$dropdown_content.scrollTop()||0,s=(a=o=l.$activeOption.offset().top-l.$dropdown_content.offset().top+t)-i+r,i+t<o+r?l.$dropdown_content.stop().animate({scrollTop:s},n?l.settings.scrollDuration:0):o<t&&l.$dropdown_content.stop().animate({scrollTop:a},n?l.settings.scrollDuration:0)))},selectAll:function(){"single"!==this.settings.mode&&(this.$activeItems=Array.prototype.slice.apply(this.$control.children(":not(input)").addClass("active")),this.$activeItems.length&&(this.hideInput(),this.close()),this.focus())},hideInput:function(){this.setTextboxValue(""),this.$control_input.css({opacity:0,position:"absolute",left:this.rtl?1e4:-1e4}),this.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var e=this;e.isDisabled||(e.ignoreFocus=!0,e.$control_input[0].focus(),window.setTimeout(function(){e.ignoreFocus=!1,e.onFocus()},0))},blur:function(e){this.$control_input[0].blur(),this.onBlur(null,e)},getScoreFunction:function(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())},getSearchOptions:function(){var e=this.settings,t=e.sortField;return"string"==typeof t&&(t=[{field:t}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t}},search:function(e){var t,n,i,r=this.settings,o=this.getSearchOptions();if(r.score&&"function"!=typeof(i=this.settings.score.apply(this,[e])))throw new Error('Selectize "score" setting must be a function that returns a function');if(e!==this.lastQuery?(this.lastQuery=e,n=this.sifter.search(e,E.extend(o,{score:i})),this.currentResults=n):n=E.extend(!0,{},this.currentResults),r.hideSelected)for(t=n.items.length-1;0<=t;t--)-1!==this.items.indexOf(N(n.items[t].id))&&n.items.splice(t,1);return n},refreshOptions:function(e){var t,n,i,r,o,a,s,l,c,u,d,f,h,p,g,m;void 0===e&&(e=!0);var v,y,b=this,C=E.trim(b.$control_input.val()),x=b.search(C),w=b.$dropdown_content,_=b.$activeOption&&N(b.$activeOption.attr("data-value"));for(r=x.items.length,"number"==typeof b.settings.maxOptions&&(r=Math.min(r,b.settings.maxOptions)),o={},a=[],t=0;t<r;t++)for(s=b.options[x.items[t].id],l=b.render("option",s),c=s[b.settings.optgroupField]||"",n=0,i=(u=E.isArray(c)?c:[c])&&u.length;n<i;n++)c=u[n],b.optgroups.hasOwnProperty(c)||(c=""),o.hasOwnProperty(c)||(o[c]=document.createDocumentFragment(),a.push(c)),o[c].appendChild(l);for(this.settings.lockOptgroupOrder&&a.sort(function(e,t){return(b.optgroups[e].$order||0)-(b.optgroups[t].$order||0)}),d=document.createDocumentFragment(),t=0,r=a.length;t<r;t++)c=a[t],b.optgroups.hasOwnProperty(c)&&o[c].childNodes.length?((f=document.createDocumentFragment()).appendChild(b.render("optgroup_header",b.optgroups[c])),f.appendChild(o[c]),d.appendChild(b.render("optgroup",E.extend({},b.optgroups[c],{html:(v=f,y=void 0,y=document.createElement("div"),y.appendChild(v.cloneNode(!0)),y.innerHTML),dom:f})))):d.appendChild(o[c]);if(w.html(d),b.settings.highlight&&x.query.length&&x.tokens.length)for(w.removeHighlight(),t=0,r=x.tokens.length;t<r;t++)T(w,x.tokens[t].regex);if(!b.settings.hideSelected)for(t=0,r=b.items.length;t<r;t++)b.getOption(b.items[t]).addClass("selected");(h=b.canCreate(C))&&(w.prepend(b.render("option_create",{input:C})),m=E(w[0].childNodes[0])),b.hasOptions=0<x.items.length||h,b.hasOptions?(0<x.items.length?((g=_&&b.getOption(_))&&g.length?p=g:"single"===b.settings.mode&&b.items.length&&(p=b.getOption(b.items[0])),p&&p.length||(p=m&&!b.settings.addPrecedence?b.getAdjacentOption(m,1):w.find("[data-selectable]:first"))):p=m,b.setActiveOption(p),e&&!b.isOpen&&b.open()):(b.setActiveOption(null),e&&b.isOpen&&b.close())},addOption:function(e){var t,n,i;if(E.isArray(e))for(t=0,n=e.length;t<n;t++)this.addOption(e[t]);else(i=this.registerOption(e))&&(this.userOptions[i]=!0,this.lastQuery=null,this.trigger("option_add",i,e))},registerOption:function(e){var t=N(e[this.settings.valueField]);return null!=t&&!this.options.hasOwnProperty(t)&&(e.$order=e.$order||++this.order,this.options[t]=e,t)},registerOptionGroup:function(e){var t=N(e[this.settings.optgroupValueField]);return!!t&&(e.$order=e.$order||++this.order,this.optgroups[t]=e,t)},addOptionGroup:function(e,t){t[this.settings.optgroupValueField]=e,(e=this.registerOptionGroup(t))&&this.trigger("optgroup_add",e,t)},removeOptionGroup:function(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.renderCache={},this.trigger("optgroup_remove",e))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(e,t){var n,i,r,o,a,s,l,c=this;if(e=N(e),r=N(t[c.settings.valueField]),null!==e&&c.options.hasOwnProperty(e)){if("string"!=typeof r)throw new Error("Value must be set in option data");l=c.options[e].$order,r!==e&&(delete c.options[e],-1!==(o=c.items.indexOf(e))&&c.items.splice(o,1,r)),t.$order=t.$order||l,c.options[r]=t,a=c.renderCache.item,s=c.renderCache.option,a&&(delete a[e],delete a[r]),s&&(delete s[e],delete s[r]),-1!==c.items.indexOf(r)&&(n=c.getItem(e),i=E(c.render("item",t)),n.hasClass("active")&&i.addClass("active"),n.replaceWith(i)),c.lastQuery=null,c.isOpen&&c.refreshOptions(!1)}},removeOption:function(e,t){e=N(e);var n=this.renderCache.item,i=this.renderCache.option;n&&delete n[e],i&&delete i[e],delete this.userOptions[e],delete this.options[e],this.lastQuery=null,this.trigger("option_remove",e),this.removeItem(e,t)},clearOptions:function(){this.loadedSearches={},this.userOptions={},this.renderCache={},this.options=this.sifter.items={},this.lastQuery=null,this.trigger("option_clear"),this.clear()},getOption:function(e){return this.getElementWithValue(e,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(e,t){var n=this.$dropdown.find("[data-selectable]"),i=n.index(e)+t;return 0<=i&&i<n.length?n.eq(i):E()},getElementWithValue:function(e,t){if(null!=(e=N(e)))for(var n=0,i=t.length;n<i;n++)if(t[n].getAttribute("data-value")===e)return E(t[n]);return E()},getItem:function(e){return this.getElementWithValue(e,this.$control.children())},addItems:function(e,t){for(var n=E.isArray(e)?e:[e],i=0,r=n.length;i<r;i++)this.isPending=i<r-1,this.addItem(n[i],t)},addItem:function(s,l){n(this,l?[]:["change"],function(){var e,t,n,i,r,o=this,a=o.settings.mode;return s=N(s),-1!==o.items.indexOf(s)?void("single"===a&&o.close()):void(o.options.hasOwnProperty(s)&&("single"===a&&o.clear(l),"multi"===a&&o.isFull()||(e=E(o.render("item",o.options[s])),r=o.isFull(),o.items.splice(o.caretPos,0,s),o.insertAtCaret(e),(!o.isPending||!r&&o.isFull())&&o.refreshState(),o.isSetup&&(n=o.$dropdown_content.find("[data-selectable]"),o.isPending||(t=o.getOption(s),i=o.getAdjacentOption(t,1).attr("data-value"),o.refreshOptions(o.isFocused&&"single"!==a),i&&o.setActiveOption(o.getOption(i))),!n.length||o.isFull()?o.close():o.positionDropdown(),o.updatePlaceholder(),o.trigger("item_add",s,e),o.updateOriginalInput({silent:l})))))})},removeItem:function(e,t){var n,i,r,o=this;n=e instanceof E?e:o.getItem(e),e=N(n.attr("data-value")),-1!==(i=o.items.indexOf(e))&&(n.remove(),n.hasClass("active")&&(r=o.$activeItems.indexOf(n[0]),o.$activeItems.splice(r,1)),o.items.splice(i,1),o.lastQuery=null,!o.settings.persist&&o.userOptions.hasOwnProperty(e)&&o.removeOption(e,t),i<o.caretPos&&o.setCaret(o.caretPos-1),o.refreshState(),o.updatePlaceholder(),o.updateOriginalInput({silent:t}),o.positionDropdown(),o.trigger("item_remove",e,n))},createItem:function(e,n){var i=this,r=i.caretPos;e=e||E.trim(i.$control_input.val()||"");var o=arguments[arguments.length-1];if("function"!=typeof o&&(o=function(){}),"boolean"!=typeof n&&(n=!0),!i.canCreate(e))return o(),!1;i.lock();var t,a,s="function"==typeof i.settings.create?this.settings.create:function(e){var t={};return t[i.settings.labelField]=e,t[i.settings.valueField]=e,t},l=(a=!(t=function(e){if(i.unlock(),!e||"object"!=typeof e)return o();var t=N(e[i.settings.valueField]);return"string"!=typeof t?o():(i.setTextboxValue(""),i.addOption(e),i.setCaret(r),i.addItem(t),i.refreshOptions(n&&"single"!==i.settings.mode),void o(e))}),function(){a||(a=!0,t.apply(this,arguments))}),c=s.apply(this,[e,l]);return void 0!==c&&l(c),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var e=!this.items.length;this.isInvalid=e,this.$control_input.prop("required",e),this.$input.prop("required",!e)},refreshClasses:function(){var e=this,t=e.isFull(),n=e.isLocked;e.$wrapper.toggleClass("rtl",e.rtl),e.$control.toggleClass("focus",e.isFocused).toggleClass("disabled",e.isDisabled).toggleClass("required",e.isRequired).toggleClass("invalid",e.isInvalid).toggleClass("locked",n).toggleClass("full",t).toggleClass("not-full",!t).toggleClass("input-active",e.isFocused&&!e.isInputHidden).toggleClass("dropdown-active",e.isOpen).toggleClass("has-options",!E.isEmptyObject(e.options)).toggleClass("has-items",0<e.items.length),e.$control_input.data("grow",!t&&!n)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(e){var t,n,i,r,o=this;if(e=e||{},1===o.tagType){for(i=[],t=0,n=o.items.length;t<n;t++)r=o.options[o.items[t]][o.settings.labelField]||"",i.push('<option value="'+s(o.items[t])+'" selected="selected">'+s(r)+"</option>");i.length||this.$input.attr("multiple")||i.push('<option value="" selected="selected"></option>'),o.$input.html(i.join(""))}else o.$input.val(o.getValue()),o.$input.attr("value",o.$input.val());o.isSetup&&(e.silent||o.trigger("change",o.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var e=this.$control_input;this.items.length?e.removeAttr("placeholder"):e.attr("placeholder",this.settings.placeholder),e.triggerHandler("update",{force:!0})}},open:function(){var e=this;e.isLocked||e.isOpen||"multi"===e.settings.mode&&e.isFull()||(e.focus(),e.isOpen=!0,e.refreshState(),e.$dropdown.css({visibility:"hidden",display:"block"}),e.positionDropdown(),e.$dropdown.css({visibility:"visible"}),e.trigger("dropdown_open",e.$dropdown))},close:function(){var e=this,t=e.isOpen;"single"===e.settings.mode&&e.items.length&&(e.hideInput(),e.$control_input.blur()),e.isOpen=!1,e.$dropdown.hide(),e.setActiveOption(null),e.refreshState(),t&&e.trigger("dropdown_close",e.$dropdown)},positionDropdown:function(){var e=this.$control,t="body"===this.settings.dropdownParent?e.offset():e.position();t.top+=e.outerHeight(!0),this.$dropdown.css({width:e.outerWidth(),top:t.top,left:t.left})},clear:function(e){var t=this;t.items.length&&(t.$control.children(":not(input)").remove(),t.items=[],t.lastQuery=null,t.setCaret(0),t.setActiveItem(null),t.updatePlaceholder(),t.updateOriginalInput({silent:e}),t.refreshState(),t.showInput(),t.trigger("clear"))},insertAtCaret:function(e){var t=Math.min(this.caretPos,this.items.length);0===t?this.$control.prepend(e):E(this.$control[0].childNodes[t]).before(e),this.setCaret(t+1)},deleteSelection:function(e){var t,n,i,r,o,a,s,l,c,u=this;if(i=e&&8===e.keyCode?-1:1,r=f(u.$control_input[0]),u.$activeOption&&!u.settings.hideSelected&&(s=u.getAdjacentOption(u.$activeOption,-1).attr("data-value")),o=[],u.$activeItems.length){for(c=u.$control.children(".active:"+(0<i?"last":"first")),a=u.$control.children(":not(input)").index(c),0<i&&a++,t=0,n=u.$activeItems.length;t<n;t++)o.push(E(u.$activeItems[t]).attr("data-value"));e&&(e.preventDefault(),e.stopPropagation())}else(u.isFocused||"single"===u.settings.mode)&&u.items.length&&(i<0&&0===r.start&&0===r.length?o.push(u.items[u.caretPos-1]):0<i&&r.start===u.$control_input.val().length&&o.push(u.items[u.caretPos]));if(!o.length||"function"==typeof u.settings.onDelete&&!1===u.settings.onDelete.apply(u,[o]))return!1;for(void 0!==a&&u.setCaret(a);o.length;)u.removeItem(o.pop());return u.showInput(),u.positionDropdown(),u.refreshOptions(!0),s&&((l=u.getOption(s)).length&&u.setActiveOption(l)),!0},advanceSelection:function(e,t){var n,i,r,o,a,s=this;0!==e&&(s.rtl&&(e*=-1),n=0<e?"last":"first",i=f(s.$control_input[0]),s.isFocused&&!s.isInputHidden?(o=s.$control_input.val().length,(e<0?0===i.start&&0===i.length:i.start===o)&&!o&&s.advanceCaret(e,t)):(a=s.$control.children(".active:"+n)).length&&(r=s.$control.children(":not(input)").index(a),s.setActiveItem(null),s.setCaret(0<e?r+1:r)))},advanceCaret:function(e,t){var n,i;0!==e&&(n=0<e?"next":"prev",this.isShiftDown?(i=this.$control_input[n]()).length&&(this.hideInput(),this.setActiveItem(i),t&&t.preventDefault()):this.setCaret(this.caretPos+e))},setCaret:function(e){var t,n,i,r;if(e="single"===this.settings.mode?this.items.length:Math.max(0,Math.min(this.items.length,e)),!this.isPending)for(t=0,n=(i=this.$control.children(":not(input)")).length;t<n;t++)r=E(i[t]).detach(),t<e?this.$control_input.before(r):this.$control.append(r);this.caretPos=e},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){this.$input.prop("disabled",!0),this.$control_input.prop("disabled",!0).prop("tabindex",-1),this.isDisabled=!0,this.lock()},enable:function(){this.$input.prop("disabled",!1),this.$control_input.prop("disabled",!1).prop("tabindex",this.tabIndex),this.isDisabled=!1,this.unlock()},destroy:function(){var e=this,t=e.eventNS,n=e.revertSettings;e.trigger("destroy"),e.off(),e.$wrapper.remove(),e.$dropdown.remove(),e.$input.html("").append(n.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:n.tabindex}).show(),e.$control_input.removeData("grow"),e.$input.removeData("selectize"),E(window).off(t),E(document).off(t),E(document.body).off(t),delete e.$input[0].selectize},render:function(e,t){var n,i,r="",o=!1;return"option"!==e&&"item"!==e||(o=!!(n=N(t[this.settings.valueField]))),o&&(c(this.renderCache[e])||(this.renderCache[e]={}),this.renderCache[e].hasOwnProperty(n))?this.renderCache[e][n]:(r=E(this.settings.render[e].apply(this,[t,s])),"option"===e||"option_create"===e?r.attr("data-selectable",""):"optgroup"===e&&(i=t[this.settings.optgroupValueField]||"",r.attr("data-group",i)),"option"!==e&&"item"!==e||r.attr("data-value",n||""),o&&(this.renderCache[e][n]=r[0]),r[0])},clearCache:function(e){void 0===e?this.renderCache={}:delete this.renderCache[e]},canCreate:function(e){if(!this.settings.create)return!1;var t=this.settings.createFilter;return e.length&&("function"!=typeof t||t.apply(this,[e]))&&("string"!=typeof t||new RegExp(t).test(e))&&(!(t instanceof RegExp)||t.test(e))}}),y.count=0,y.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},E.fn.selectize=function(r){var o=E.fn.selectize.defaults,d=E.extend({},o,r),f=d.dataAttr,h=d.labelField,p=d.valueField,g=d.optgroupField,m=d.optgroupLabelField,v=d.optgroupValueField;return this.each(function(){if(!this.selectize){var e=E(this),t=this.tagName.toLowerCase(),n=e.attr("placeholder")||e.attr("data-placeholder");n||d.allowEmptyOption||(n=e.children('option[value=""]').text());var i={placeholder:n,options:[],optgroups:[],items:[]};"select"===t?function(e,a){var t,n,i,r,o=a.options,s={},l=function(e){var t=f&&e.attr(f);return"string"==typeof t&&t.length?JSON.parse(t):null},c=function(e,t){e=E(e);var n=N(e.val());if(n||d.allowEmptyOption)if(s.hasOwnProperty(n)){if(t){var i=s[n][g];i?E.isArray(i)?i.push(t):s[n][g]=[i,t]:s[n][g]=t}}else{var r=l(e)||{};r[h]=r[h]||e.text(),r[p]=r[p]||n,r[g]=r[g]||t,s[n]=r,o.push(r),e.is(":selected")&&a.items.push(n)}},u=function(e){var t,n,i,r,o;for((i=(e=E(e)).attr("label"))&&((r=l(e)||{})[m]=i,r[v]=i,a.optgroups.push(r)),t=0,n=(o=E("option",e)).length;t<n;t++)c(o[t],i)};for(a.maxItems=e.attr("multiple")?null:1,t=0,n=(r=e.children()).length;t<n;t++)"optgroup"===(i=r[t].tagName.toLowerCase())?u(r[t]):"option"===i&&c(r[t])}(e,i):function(e,t){var n,i,r,o,a=e.attr(f);if(a)for(t.options=JSON.parse(a),n=0,i=t.options.length;n<i;n++)t.items.push(t.options[n][p]);else{var s=E.trim(e.val()||"");if(!d.allowEmptyOption&&!s.length)return;for(n=0,i=(r=s.split(d.delimiter)).length;n<i;n++)(o={})[h]=r[n],o[p]=r[n],t.options.push(o);t.items=r}}(e,i),new y(e,E.extend(!0,{},o,i,r))}})},E.fn.selectize.defaults=y.defaults,E.fn.selectize.support={validity:S},y.define("drag_drop",function(e){if(!E.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var i=this;i.lock=(r=i.lock,function(){var e=i.$control.data("sortable");return e&&e.disable(),r.apply(i,arguments)}),i.unlock=(n=i.unlock,function(){var e=i.$control.data("sortable");return e&&e.enable(),n.apply(i,arguments)}),i.setup=(t=i.setup,function(){t.apply(this,arguments);var n=i.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:i.isLocked,start:function(e,t){t.placeholder.css("width",t.helper.css("width")),n.css({overflow:"visible"})},stop:function(){n.css({overflow:"hidden"});var e=i.$activeItems?i.$activeItems.slice():null,t=[];n.children("[data-value]").each(function(){t.push(E(this).attr("data-value"))}),i.setValue(t),i.setActiveItem(e)}})})}var t,n,r}),y.define("dropdown_header",function(e){var t,n=this;e=E.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(e){return'<div class="'+e.headerClass+'"><div class="'+e.titleRowClass+'"><span class="'+e.labelClass+'">'+e.title+'</span><a href="javascript:void(0)" class="'+e.closeClass+'">&times;</a></div></div>'}},e),n.setup=(t=n.setup,function(){t.apply(n,arguments),n.$dropdown_header=E(e.html(e)),n.$dropdown.prepend(n.$dropdown_header)})}),y.define("optgroup_columns",function(s){var o,l=this;s=E.extend({equalizeWidth:!0,equalizeHeight:!0},s),this.getAdjacentOption=function(e,t){var n=e.closest("[data-group]").find("[data-selectable]"),i=n.index(e)+t;return 0<=i&&i<n.length?n.eq(i):E()},this.onKeyDown=(o=l.onKeyDown,function(e){var t,n,i,r;return!this.isOpen||37!==e.keyCode&&39!==e.keyCode?o.apply(this,arguments):(l.ignoreHover=!0,t=(r=this.$activeOption.closest("[data-group]")).find("[data-selectable]").index(this.$activeOption),void((n=(i=(r=37===e.keyCode?r.prev("[data-group]"):r.next("[data-group]")).find("[data-selectable]")).eq(Math.min(i.length-1,t))).length&&this.setActiveOption(n)))});var c=function(){var e,t=c.width,n=document;return void 0===t&&((e=n.createElement("div")).innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',e=e.firstChild,n.body.appendChild(e),t=c.width=e.offsetWidth-e.clientWidth,n.body.removeChild(e)),t},e=function(){var e,t,n,i,r,o,a;if((t=(a=E("[data-group]",l.$dropdown_content)).length)&&l.$dropdown_content.width()){if(s.equalizeHeight){for(e=n=0;e<t;e++)n=Math.max(n,a.eq(e).height());a.css({height:n})}s.equalizeWidth&&(o=l.$dropdown_content.innerWidth()-c(),i=Math.round(o/t),a.css({width:i}),1<t&&(r=o-i*(t-1),a.eq(t-1).css({width:r})))}};(s.equalizeHeight||s.equalizeWidth)&&(t.after(this,"positionDropdown",e),t.after(this,"refreshOptions",e))}),y.define("remove_button",function(e){e=E.extend({label:"&times;",title:"Remove",className:"remove",append:!0},e);var o,t,n,i,a;return"single"===this.settings.mode?void function(n,i){i.className="remove-single";var r,o=n,a='<a href="javascript:void(0)" class="'+i.className+'" tabindex="-1" title="'+s(i.title)+'">'+i.label+"</a>";n.setup=(r=o.setup,function(){if(i.append){var e=E(o.$input.context).attr("id"),t=(E("#"+e),o.settings.render.item);o.settings.render.item=function(e){return t.apply(n,arguments)+a}}r.apply(n,arguments),n.$control.on("click","."+i.className,function(e){e.preventDefault(),o.isLocked||o.clear()})})}(this,e):(i=o=this,a='<a href="javascript:void(0)" class="'+(t=e).className+'" tabindex="-1" title="'+s(t.title)+'">'+t.label+"</a>",void(o.setup=(n=i.setup,function(){if(t.append){var r=i.settings.render.item;i.settings.render.item=function(e){return t=r.apply(o,arguments),n=a,i=t.search(/(<\/[^>]+>\s*)$/),t.substring(0,i)+n+t.substring(i);var t,n,i}}n.apply(o,arguments),o.$control.on("click","."+t.className,function(e){if(e.preventDefault(),!i.isLocked){var t=E(e.currentTarget).parent();i.setActiveItem(t),i.deleteSelection()&&i.setCaret(i.items.length)}})})))}),y.define("restore_on_backspace",function(i){var r,e=this;i.text=i.text||function(e){return e[this.settings.labelField]},this.onKeyDown=(r=e.onKeyDown,function(e){var t,n;return 8===e.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&0<=(t=this.caretPos-1)&&t<this.items.length?(n=this.options[this.items[t]],this.deleteSelection(e)&&(this.setTextboxValue(i.text.apply(this,[n])),this.refreshOptions(!0)),void e.preventDefault()):r.apply(this,arguments)})}),y});var _self="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},Prism=function(){var l=/\blang(?:uage)?-([\w-]+)\b/i,t=0,O=_self.Prism={manual:_self.Prism&&_self.Prism.manual,disableWorkerMessageHandler:_self.Prism&&_self.Prism.disableWorkerMessageHandler,util:{encode:function(e){return e instanceof a?new a(e.type,O.util.encode(e.content),e.alias):"Array"===O.util.type(e)?e.map(O.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++t}),e.__id},clone:function(e,n){var t=O.util.type(e);switch(n=n||{},t){case"Object":if(n[O.util.objId(e)])return n[O.util.objId(e)];var i={};for(var r in n[O.util.objId(e)]=i,e)e.hasOwnProperty(r)&&(i[r]=O.util.clone(e[r],n));return i;case"Array":if(n[O.util.objId(e)])return n[O.util.objId(e)];i=[];return n[O.util.objId(e)]=i,e.forEach(function(e,t){i[t]=O.util.clone(e,n)}),i}return e}},languages:{extend:function(e,t){var n=O.util.clone(O.languages[e]);for(var i in t)n[i]=t[i];return n},insertBefore:function(n,e,t,i){var r=(i=i||O.languages)[n];if(2==arguments.length){for(var o in t=e)t.hasOwnProperty(o)&&(r[o]=t[o]);return r}var a={};for(var s in r)if(r.hasOwnProperty(s)){if(s==e)for(var o in t)t.hasOwnProperty(o)&&(a[o]=t[o]);a[s]=r[s]}return O.languages.DFS(O.languages,function(e,t){t===i[n]&&e!=n&&(this[e]=a)}),i[n]=a},DFS:function(e,t,n,i){for(var r in i=i||{},e)e.hasOwnProperty(r)&&(t.call(e,r,e[r],n||r),"Object"!==O.util.type(e[r])||i[O.util.objId(e[r])]?"Array"!==O.util.type(e[r])||i[O.util.objId(e[r])]||(i[O.util.objId(e[r])]=!0,O.languages.DFS(e[r],t,r,i)):(i[O.util.objId(e[r])]=!0,O.languages.DFS(e[r],t,null,i)))}},plugins:{},highlightAll:function(e,t){O.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var i={callback:n,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};O.hooks.run("before-highlightall",i);for(var r,o=i.elements||e.querySelectorAll(i.selector),a=0;r=o[a++];)O.highlightElement(r,!0===t,i.callback)},highlightElement:function(e,t,n){for(var i,r,o=e;o&&!l.test(o.className);)o=o.parentNode;o&&(i=(o.className.match(l)||[,""])[1].toLowerCase(),r=O.languages[i]),e.className=e.className.replace(l,"").replace(/\s+/g," ")+" language-"+i,e.parentNode&&(o=e.parentNode,/pre/i.test(o.nodeName)&&(o.className=o.className.replace(l,"").replace(/\s+/g," ")+" language-"+i));var a={element:e,language:i,grammar:r,code:e.textContent};if(O.hooks.run("before-sanity-check",a),!a.code||!a.grammar)return a.code&&(O.hooks.run("before-highlight",a),a.element.textContent=a.code,O.hooks.run("after-highlight",a)),void O.hooks.run("complete",a);if(O.hooks.run("before-highlight",a),t&&_self.Worker){var s=new Worker(O.filename);s.onmessage=function(e){a.highlightedCode=e.data,O.hooks.run("before-insert",a),a.element.innerHTML=a.highlightedCode,n&&n.call(a.element),O.hooks.run("after-highlight",a),O.hooks.run("complete",a)},s.postMessage(JSON.stringify({language:a.language,code:a.code,immediateClose:!0}))}else a.highlightedCode=O.highlight(a.code,a.grammar,a.language),O.hooks.run("before-insert",a),a.element.innerHTML=a.highlightedCode,n&&n.call(e),O.hooks.run("after-highlight",a),O.hooks.run("complete",a)},highlight:function(e,t,n){var i={code:e,grammar:t,language:n};return O.hooks.run("before-tokenize",i),i.tokens=O.tokenize(i.code,i.grammar),O.hooks.run("after-tokenize",i),a.stringify(O.util.encode(i.tokens),i.language)},matchGrammar:function(e,t,n,i,r,o,a){var s=O.Token;for(var l in n)if(n.hasOwnProperty(l)&&n[l]){if(l==a)return;var c=n[l];c="Array"===O.util.type(c)?c:[c];for(var u=0;u<c.length;++u){var d=c[u],f=d.inside,h=!!d.lookbehind,p=!!d.greedy,g=0,m=d.alias;if(p&&!d.pattern.global){var v=d.pattern.toString().match(/[imuy]*$/)[0];d.pattern=RegExp(d.pattern.source,v+"g")}d=d.pattern||d;for(var y=i,b=r;y<t.length;b+=t[y].length,++y){var C=t[y];if(t.length>e.length)return;if(!(C instanceof s)){if(p&&y!=t.length-1){if(d.lastIndex=b,!(S=d.exec(e)))break;for(var x=S.index+(h?S[1].length:0),w=S.index+S[0].length,_=y,E=b,T=t.length;_<T&&(E<w||!t[_].type&&!t[_-1].greedy);++_)(E+=t[_].length)<=x&&(++y,b=E);if(t[y]instanceof s)continue;N=_-y,C=e.slice(b,E),S.index-=b}else{d.lastIndex=0;var S=d.exec(C),N=1}if(S){h&&(g=S[1]?S[1].length:0);w=(x=S.index+g)+(S=S[0].slice(g)).length;var k=C.slice(0,x),A=C.slice(w),D=[y,N];k&&(++y,b+=k.length,D.push(k));var R=new s(l,f?O.tokenize(S,f):S,m,S,p);if(D.push(R),A&&D.push(A),Array.prototype.splice.apply(t,D),1!=N&&O.matchGrammar(e,t,n,y,b,!0,l),o)break}else if(o)break}}}}},tokenize:function(e,t){var n=[e],i=t.rest;if(i){for(var r in i)t[r]=i[r];delete t.rest}return O.matchGrammar(e,n,t,0,0,!1),n},hooks:{all:{},add:function(e,t){var n=O.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=O.hooks.all[e];if(n&&n.length)for(var i,r=0;i=n[r++];)i(t)}}},a=O.Token=function(e,t,n,i,r){this.type=e,this.content=t,this.alias=n,this.length=0|(i||"").length,this.greedy=!!r};if(a.stringify=function(t,n,e){if("string"==typeof t)return t;if("Array"===O.util.type(t))return t.map(function(e){return a.stringify(e,n,t)}).join("");var i={type:t.type,content:a.stringify(t.content,n,e),tag:"span",classes:["token",t.type],attributes:{},language:n,parent:e};if(t.alias){var r="Array"===O.util.type(t.alias)?t.alias:[t.alias];Array.prototype.push.apply(i.classes,r)}O.hooks.run("wrap",i);var o=Object.keys(i.attributes).map(function(e){return e+'="'+(i.attributes[e]||"").replace(/"/g,"&quot;")+'"'}).join(" ");return"<"+i.tag+' class="'+i.classes.join(" ")+'"'+(o?" "+o:"")+">"+i.content+"</"+i.tag+">"},!_self.document)return _self.addEventListener&&(O.disableWorkerMessageHandler||_self.addEventListener("message",function(e){var t=JSON.parse(e.data),n=t.language,i=t.code,r=t.immediateClose;_self.postMessage(O.highlight(i,O.languages[n],n)),r&&_self.close()},!1)),_self.Prism;var e=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return e&&(O.filename=e.src,O.manual||e.hasAttribute("data-manual")||("loading"!==document.readyState?window.requestAnimationFrame?window.requestAnimationFrame(O.highlightAll):window.setTimeout(O.highlightAll,16):document.addEventListener("DOMContentLoaded",O.highlightAll))),_self.Prism}();"undefined"!=typeof module&&module.exports&&(module.exports=Prism),"undefined"!=typeof global&&(global.Prism=Prism);var config=window.config={},$ref=$("#ref");function animate(e){var t="animated "+e.name;$(e.selector).addClass(t).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){$(this).removeClass(t)})}config.ResponsiveBootstrapToolkitVisibilityDivs={xs:$('<div class="device-xs \t\t\t\t  hidden-sm-up"></div>'),sm:$('<div class="device-sm hidden-xs-down hidden-md-up"></div>'),md:$('<div class="device-md hidden-sm-down hidden-lg-up"></div>'),lg:$('<div class="device-lg hidden-md-down hidden-xl-up"></div>'),xl:$('<div class="device-xl hidden-lg-down\t\t\t  "></div>')},ResponsiveBootstrapToolkit.use("Custom",config.ResponsiveBootstrapToolkitVisibilityDivs),config.validations={debug:!0,errorClass:"has-error",validClass:"success",errorElement:"span",highlight:function(e,t,n){$(e).parents("div.form-group").addClass(t).removeClass(n)},unhighlight:function(e,t,n){$(e).parents(".has-error").removeClass(t).addClass(n)},submitHandler:function(e){e.submit()}},config.delayTime=50,$(function(){if(!$("#login-form").length)return!1;var e={rules:{username:{required:!0,email:!0},password:"required",agree:"required"},messages:{username:{required:"Please enter username",email:"Please enter a valid email address"},password:"Please enter password",agree:"Please accept our policy"},invalidHandler:function(){animate({name:"shake",selector:".auth-container > .card"})}};$.extend(e,config.validations),$("#login-form").validate(e)}),$(function(){if(!$("#reset-form").length)return!1;var e={rules:{email1:{required:!0,email:!0}},messages:{email1:{required:"Please enter email address",email:"Please enter a valid email address"}},invalidHandler:function(){animate({name:"shake",selector:".auth-container > .card"})}};$.extend(e,config.validations),$("#reset-form").validate(e)}),$(function(){if(!$("#signup-form").length)return!1;var e={rules:{firstname:{required:!0},lastname:{required:!0},email:{required:!0,email:!0},password:{required:!0,minlength:8},retype_password:{required:!0,minlength:8,equalTo:"#password"},agree:{required:!0}},groups:{name:"firstname lastname",pass:"password retype_password"},errorPlacement:function(e,t){"firstname"==t.attr("name")||"lastname"==t.attr("name")?(e.insertAfter($("#lastname").closest(".row")),t.parents("div.form-group").addClass("has-error")):"password"==t.attr("name")||"retype_password"==t.attr("name")?(e.insertAfter($("#retype_password").closest(".row")),t.parents("div.form-group").addClass("has-error")):"agree"==t.attr("name")?e.insertAfter("#agree-text"):e.insertAfter(t)},messages:{firstname:"Please enter firstname and lastname",lastname:"Please enter firstname and lastname",email:{required:"Please enter email",email:"Please enter a valid email address"},password:{required:"Please enter password fields.",minlength:"Passwords should be at least 8 characters."},retype_password:{required:"Please enter password fields.",minlength:"Passwords should be at least 8 characters."},agree:"Please accept our policy"},invalidHandler:function(){animate({name:"shake",selector:".auth-container > .card"})}};$.extend(e,config.validations),$("#signup-form").validate(e)}),$(function(){var n=$(".item-actions-dropdown");$(document).on("click",function(e){$(e.target).closest(".item-actions-dropdown").length||n.removeClass("active")}),$(".item-actions-toggle-btn").on("click",function(e){e.preventDefault();var t=$(this).closest(".item-actions-dropdown");n.not(t).removeClass("active"),t.toggleClass("active")})});var npSettings={easing:"ease",speed:500};function setSameHeights(e){e=e||$(".sameheight-container");var n=ResponsiveBootstrapToolkit.current();e.each(function(){var e=$(this).find(".sameheight-item"),t=0;e.each(function(){$(this).css({height:"auto"}),t=Math.max(t,$(this).innerHeight())}),e.each(function(){-1===($(this).data("exclude")||"").split(",").indexOf(n)&&$(this).innerHeight(t)})})}NProgress.configure(npSettings),$(function(){var e;setSameHeights(),$(window).resize(function(){clearTimeout(e),e=setTimeout(setSameHeights,150)})}),$(function(){if(!$(".form-control").length)return!1}),$(function(){$controlsButtons=$(".controls"),$controlsButtonsStar=$controlsButtons.find(".star"),$controlsButtonsRemove=$controlsButtons.find(".remove"),$controlsButtonsStar.on("click",function(e){e.preventDefault(),$controlsButtonsStar.removeClass("active"),$controlsButtonsStar.parents(".image-container").removeClass("main"),$(this).addClass("active"),$(this).parents(".image-container").addClass("main")})}),$(function(){if(!$("#select-all-items").length)return!1;function e(){$(".items-list-page .sparkline").each(function(){for(var e=$(this).data("type"),t=[],n=0;n<17;n++)t.push(Math.round(100*Math.random()));$(this).sparkline(t,{barColor:config.chart.colorPrimary.toString(),height:$(this).height(),type:e})})}$("#select-all-items").on("change",function(){var e=$(this).children(":checkbox").get(0);$(this).parents("li").siblings().find(":checkbox").prop("checked",e.checked).val(e.checked).change()}),e(),$(document).on("themechange",function(){e()})}),$(function(){$(".wyswyg").each(function(){var e=$(this).find(".toolbar"),t=$(this).find(".editor");new Quill(t.get(0),{theme:"snow"}).addModule("toolbar",{container:e.get(0)})})}),$(function(){$("#sidebar-menu, #customize-menu").metisMenu({activeClass:"open"}),$("#sidebar-collapse-btn").on("click",function(e){e.preventDefault(),$("#app").toggleClass("sidebar-open")}),$("#sidebar-overlay").on("click",function(){$("#app").removeClass("sidebar-open")})}),$(function(){$(".nav-profile > li > a").on("click",function(){animate({name:"flipInX",selector:$(this).next()})})});var modalMedia={$el:$("#modal-media"),result:{},options:{},open:function(e){e=e||{},this.options=e,this.$el.modal("show")},close:function(){$.isFunction(this.options.beforeClose)&&this.options.beforeClose(this.result),this.$el.modal("hide"),$.isFunction(this.options.afterClose)&&this.options.beforeClose(this.result)}};$(function(){var e,n=((e=localStorage.getItem("themeSettings")?JSON.parse(localStorage.getItem("themeSettings")):{}).headerPosition=e.headerPosition||"",e.sidebarPosition=e.sidebarPosition||"",e.footerPosition=e.footerPosition||"",e),t=($("#app"),$("#theme-style"),$("#customize-menu")),i=t.find(".color-item"),r=t.find(".radio");i.on("click",function(){n.themeName=$(this).data("theme")}),r.on("click",function(){var e=$(this).prop("name"),t=$(this).val();n[e]=t})}),$(function(){$("body").addClass("loaded")}),$(function(){$(".btn.submit").addClass("loaded"),$(".btn.submit").click(function(e){e.preventDefault(),$(this).closest("form").submit()})}),$(function(){$(document).ready(function(){if(0!==$("form").length){var e=$("form"),t=$.data(e[0]);if(t.validator){var n=t.validator.settings,i=n.errorPlacement,r=n.success;n.errorPlacement=function(e,t){i(e,t),e.parents(".form-group").addClass("has-error"),e.addClass("has-error"),e.addClass("text-danger")},n.success=function(e){e.parents(".form-group").removeClass("has-error"),r(e)}}}})});