function animate(e){var t="animated "+e.name,i="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend";$(e.selector).addClass(t).one(i,function(){$(this).removeClass(t)})}function setSameHeights(e){e=e||$(".sameheight-container");var t=ResponsiveBootstrapToolkit.current();e.each(function(){var e=$(this).find(".sameheight-item"),i=0;e.each(function(){$(this).css({height:"auto"}),i=Math.max(i,$(this).innerHeight())}),e.each(function(){var e=$(this).data("exclude")||"",a=e.split(",");a.indexOf(t)===-1&&$(this).innerHeight(i)})})}var config=window.config={},$ref=$("#ref");config.ResponsiveBootstrapToolkitVisibilityDivs={xs:$('<div class="device-xs \t\t\t\t  hidden-sm-up"></div>'),sm:$('<div class="device-sm hidden-xs-down hidden-md-up"></div>'),md:$('<div class="device-md hidden-sm-down hidden-lg-up"></div>'),lg:$('<div class="device-lg hidden-md-down hidden-xl-up"></div>'),xl:$('<div class="device-xl hidden-lg-down\t\t\t  "></div>')},ResponsiveBootstrapToolkit.use("Custom",config.ResponsiveBootstrapToolkitVisibilityDivs),config.validations={debug:!0,errorClass:"has-error",validClass:"success",errorElement:"span",highlight:function(e,t,i){$(e).parents("div.form-group").addClass(t).removeClass(i)},unhighlight:function(e,t,i){$(e).parents(".has-error").removeClass(t).addClass(i)},submitHandler:function(e){e.submit()}},config.delayTime=50,$(function(){if(!$("#login-form").length)return!1;var e={rules:{username:{required:!0,email:!0},password:"required",agree:"required"},messages:{username:{required:"Please enter username",email:"Please enter a valid email address"},password:"Please enter password",agree:"Please accept our policy"},invalidHandler:function(){animate({name:"shake",selector:".auth-container > .card"})}};$.extend(e,config.validations),$("#login-form").validate(e)}),$(function(){if(!$("#reset-form").length)return!1;var e={rules:{email1:{required:!0,email:!0}},messages:{email1:{required:"Please enter email address",email:"Please enter a valid email address"}},invalidHandler:function(){animate({name:"shake",selector:".auth-container > .card"})}};$.extend(e,config.validations),$("#reset-form").validate(e)}),$(function(){if(!$("#signup-form").length)return!1;var e={rules:{firstname:{required:!0},lastname:{required:!0},email:{required:!0,email:!0},password:{required:!0,minlength:8},retype_password:{required:!0,minlength:8,equalTo:"#password"},agree:{required:!0}},groups:{name:"firstname lastname",pass:"password retype_password"},errorPlacement:function(e,t){"firstname"==t.attr("name")||"lastname"==t.attr("name")?(e.insertAfter($("#lastname").closest(".row")),t.parents("div.form-group").addClass("has-error")):"password"==t.attr("name")||"retype_password"==t.attr("name")?(e.insertAfter($("#retype_password").closest(".row")),t.parents("div.form-group").addClass("has-error")):"agree"==t.attr("name")?e.insertAfter("#agree-text"):e.insertAfter(t)},messages:{firstname:"Please enter firstname and lastname",lastname:"Please enter firstname and lastname",email:{required:"Please enter email",email:"Please enter a valid email address"},password:{required:"Please enter password fields.",minlength:"Passwords should be at least 8 characters."},retype_password:{required:"Please enter password fields.",minlength:"Passwords should be at least 8 characters."},agree:"Please accept our policy"},invalidHandler:function(){animate({name:"shake",selector:".auth-container > .card"})}};$.extend(e,config.validations),$("#signup-form").validate(e)}),$(function(){var e=$(".item-actions-dropdown");$(document).on("click",function(t){$(t.target).closest(".item-actions-dropdown").length||e.removeClass("active")}),$(".item-actions-toggle-btn").on("click",function(t){t.preventDefault();var i=$(this).closest(".item-actions-dropdown");e.not(i).removeClass("active"),i.toggleClass("active")})});var npSettings={easing:"ease",speed:500};NProgress.configure(npSettings),$(function(){setSameHeights();var e;$(window).resize(function(){clearTimeout(e),e=setTimeout(setSameHeights,150)})}),$(function(){if(!$(".form-control").length)return!1}),$(function(){$controlsButtons=$(".controls"),$controlsButtonsStar=$controlsButtons.find(".star"),$controlsButtonsRemove=$controlsButtons.find(".remove"),$controlsButtonsStar.on("click",function(e){e.preventDefault(),$controlsButtonsStar.removeClass("active"),$controlsButtonsStar.parents(".image-container").removeClass("main"),$(this).addClass("active"),$(this).parents(".image-container").addClass("main")})}),$(function(){function e(){$(".items-list-page .sparkline").each(function(){for(var e=$(this).data("type"),t=[],i=0;i<17;i++)t.push(Math.round(100*Math.random()));$(this).sparkline(t,{barColor:config.chart.colorPrimary.toString(),height:$(this).height(),type:e})})}return!!$("#select-all-items").length&&($("#select-all-items").on("change",function(){var e=$(this).children(":checkbox").get(0);$(this).parents("li").siblings().find(":checkbox").prop("checked",e.checked).val(e.checked).change()}),e(),void $(document).on("themechange",function(){e()}))}),$(function(){$(".wyswyg").each(function(){var e=$(this).find(".toolbar"),t=$(this).find(".editor"),i=new Quill(t.get(0),{theme:"snow"});i.addModule("toolbar",{container:e.get(0)})})}),$(function(){$("#sidebar-menu, #customize-menu").metisMenu({activeClass:"open"}),$("#sidebar-collapse-btn").on("click",function(e){e.preventDefault(),$("#app").toggleClass("sidebar-open")}),$("#sidebar-overlay").on("click",function(){$("#app").removeClass("sidebar-open")})}),$(function(){$(".nav-profile > li > a").on("click",function(){var e=$(this).next();animate({name:"flipInX",selector:e})})});var modalMedia={$el:$("#modal-media"),result:{},options:{},open:function(e){e=e||{},this.options=e,this.$el.modal("show")},close:function(){$.isFunction(this.options.beforeClose)&&this.options.beforeClose(this.result),this.$el.modal("hide"),$.isFunction(this.options.afterClose)&&this.options.beforeClose(this.result)}};$(function(){function e(){}function t(){var e=localStorage.getItem("themeSettings")?JSON.parse(localStorage.getItem("themeSettings")):{};return e.headerPosition=e.headerPosition||"",e.sidebarPosition=e.sidebarPosition||"",e.footerPosition=e.footerPosition||"",e}var i=t(),a=($("#app"),$("#theme-style"),$("#customize-menu")),n=a.find(".color-item"),o=a.find(".radio");n.on("click",function(){i.themeName=$(this).data("theme"),e()}),o.on("click",function(){var t=$(this).prop("name"),a=$(this).val();i[t]=a,e()})}),$(function(){$("body").addClass("loaded")}),$(function(){$(".btn.submit").addClass("loaded"),$(".btn.submit").click(function(e){e.preventDefault(),$(this).closest("form").submit()})}),$(function(){$(document).ready(function(){if(0!==$("form").length){var e=$("form"),t=$.data(e[0]);if(t.validator){var i=t.validator.settings,a=i.errorPlacement,n=i.success;i.errorPlacement=function(e,t){a(e,t),e.parents(".form-group").addClass("has-error"),e.addClass("has-error"),e.addClass("text-danger")},i.success=function(e){e.parents(".form-group").removeClass("has-error"),n(e)}}}})});var blogStoryManager={tags:[],categories:[],publishText:"Published",initialize:function(e,t){this.tags=e,this.categories=t,this.initializeShortCuts(),tinymce.init({selector:".editor",height:500,menubar:!0,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table contextmenu paste code codesample"],toolbar:"undo redo | insert | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | codesample",setup:function(e){e.shortcuts.add("ctrl+s","save story",function(){$("#edit-story").submit()})}}),this.initializeTagsSelector(),this.initializeCategorySelector(),this.initializeActions()},initializeTagsSelector:function(){this.tagsSelectize=$(".tag-editor").selectize({plugins:["remove_button"],delimiter:",",maxItems:3,valueField:"id",labelField:"name",searchField:"name",options:this.tags,create:function(e,t){var i=JSON.stringify({name:e});$.ajax({type:"POST",url:"/author/tags",data:i,contentType:"application/json",success:function(e){var i={id:e.id,name:e.name};t(i),blogStoryManager.tags.push(i)},error:function(e){alert(e)}})}})},initializeCategorySelector:function(){var e=$(".category-editor").selectize({plugins:["remove_button"],valueField:"id",labelField:"name",searchField:"name",options:this.categories});e[0].selectize.setValue($("#category").val(),!1)},initializeActions:function(){$("#publish-btn").click(function(){var e=$(this),t=$("#Id").val(),i=e.attr("set");$.ajax({type:"PATCH",url:"/author/stories/"+t+"?isPublished="+i,contentType:"application/json",success:function(e){e&&(e.redirect?location.replace(e.redirect):location.reload())},error:function(e){alert(e)}})}),$("#share-link-copy").click(blogStoryManager.copyShareLink),blogStoryManager.initializeCopyShareLinkEvent()},initializeShortCuts:function(){$(window).bind("keydown",function(e){if(e.ctrlKey||e.metaKey)switch(String.fromCharCode(e.which).toLowerCase()){case"s":e.preventDefault(),$("#edit-story").submit()}})},initializeCopyShareLinkEvent:function(){document.addEventListener("copy",function(e){var t=$("#share-link-copy").attr("link");e.clipboardData.setData("text/plain",t),e.preventDefault()})},copyShareLink:function(e){var t=$("#story-status span").text().trim(),i=t===blogStoryManager.publishText;if(i){var a=$("#share-link").attr("href");$("#share-link-copy").attr("link",location.origin+a),document.execCommand("copy")}else if($("#share-link-copy").attr("link"))document.execCommand("copy");else if($("#AccessToken").val()){var n=$("#Alias").val(),o=$("#AccessToken").val();$("#share-link-copy").attr("link",location.origin+"/drafts/"+n+"?token="+o),document.execCommand("copy")}else blogStoryManager.createShareLink()},createShareLink:function(){var e=$("#Id").val();$.ajax({type:"POST",url:"/author/stories/"+e+"/sharelinks",success:function(e){$("#share-link-copy").attr("link",location.origin+e.link),document.execCommand("copy")},error:function(e){alert(e)}})}},blogStoryManager={publishIcon:"fa-eye",publishTitle:"Publish",publishText:"Published",publishClass:"status-publish",unpublishIcon:"fa-eye-slash",unpublishTitle:"Unpublish",unpublishText:"Draft",unpublishClass:"status-draft",initialize:function(){var e=function(e,t,i){var a=blogStoryManager.publishIcon,n=blogStoryManager.unpublishIcon,o=blogStoryManager.publishClass,s=blogStoryManager.unpublishClass;t?(e.attr("title",blogStoryManager.unpublishTitle),e.attr("status",blogStoryManager.publishText),e.find("i").removeClass(a).addClass(n),i&&(i.html(blogStoryManager.publishText),i.addClass(o).removeClass(s))):(e.attr("title",blogStoryManager.publishTitle),e.attr("status",blogStoryManager.unpublishText),e.find("i").removeClass(n).addClass(a),i&&(i.html(blogStoryManager.unpublishText),i.addClass(s).removeClass(o)))},t=$(".publish-story");t.each(function(t){var i=e,a=$(this),n=a.parents(".item-row").find(".item-col-stats .val"),o=a.attr("status")===blogStoryManager.publishText,s=a.attr("storyId");e(a,o),a.click(function(){o=a.attr("status")===blogStoryManager.publishText,$.ajax({type:"PATCH",url:"/author/stories/"+s+"?isPublished="+!o,contentType:"application/json",success:function(e){i(a,!o,n)},error:function(e){alert(e)}})})}),$("#confirm-modal").on("show.bs.modal",function(e){var t=$(e.relatedTarget),i=t.data("story"),a=$(this);a.find(".btn-primary").click(function(){blogStoryManager.removeStory(i)})})},removeStory:function(e){$.ajax({type:"DELETE",url:"/author/stories/"+e,success:function(e){location.reload()},error:function(e){alert(e)}})}},categoryManager={categories:[],categorySelectize:{},initialize:function(e){this.categories=e,this.initializeSelect()},initializeSelect:function(){this.categorySelectize=$(".category-editor").selectize({plugins:["remove_button"],valueField:"id",labelField:"name",searchField:"name",options:this.categories}),this.categorySelectize.setValue($("#ParentId").attr("parent-id"))}},categoryManager={initialize:function(){$("#confirm-modal").on("show.bs.modal",function(e){var t=$(e.relatedTarget),i=t.data("category"),a=$(this);a.find(".btn-primary").click(function(){categoryManager.removeTag(i)})})},removeTag:function(e){$.ajax({type:"DELETE",url:"/author/categories/"+e,success:function(){location.reload()},error:function(e){alert(e)}})}},tagManager={initialize:function(){$("#confirm-modal").on("show.bs.modal",function(e){var t=$(e.relatedTarget),i=t.data("tag"),a=$(this);a.find(".btn-primary").click(function(){tagManager.removeTag(i)})})},removeTag:function(e){$.ajax({type:"DELETE",url:"/author/tags/"+e,success:function(){location.reload()},error:function(e){alert(e)}})}};